/*! For license information please see 905-a745244160536ad7e7c1.js.LICENSE.txt */
(self.webpackChunkservices=self.webpackChunkservices||[]).push([[905],{52:function(e,t,r){"use strict";var n=r(25617);t.A=function(e){var t=e.serviceTypeId,r=e.planId,i=e.planNoteId,o=e.planType,a=_.pluralize(_.snakeCase(o));return new Services.Classes.RequestWithCredentials({type:"DELETE",url:"".concat((0,n.lA)(),"/service_types/").concat(t,"/").concat(a,"/").concat(r,"/notes/").concat(i)})}},196:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i),a=r(70559),s=r(90172),c=r.n(s),u=o()({displayName:"LiveWatchedServicePaneToggle",render:function(){return n.createElement("div",{className:this.getClassSet(),onClick:this.props.onClick},n.createElement(a.default,{name:this.props.isOpen?"forward":"watch"}))},getClassSet:function(){return c()({LiveWatchedServicePaneToggle:!0,"LiveWatchedServicePaneToggle--open":this.props.isOpen})}});t.default=u},302:function(e,t,r){"use strict";r.r(t);var n=function(e){var t=e.title,r=e.message;return React.createElement("div",{className:"file-results-empty"},React.createElement("div",{className:"center-xy"},React.createElement("h2",{className:"file-results-empty__title"},t),React.createElement("p",{className:"file-results-empty__subtitle",dangerouslySetInnerHTML:{__html:r}})))};n.defaultProps={title:"Oops, that didn't work",message:"please try again a little later"},t.default=n},385:function(e,t,r){"use strict";function n(e){return React.createElement("svg",Object.assign({width:"20px",height:"20px",viewBox:"0 0 20 20"},e),React.createElement("path",{d:"M16.987,5.435c-0.003-0.021-0.007-0.04-0.012-0.061c-0.022-0.083-0.058-0.164-0.121-0.228l-4-4 c-0.063-0.064-0.144-0.099-0.228-0.121c-0.021-0.006-0.039-0.009-0.061-0.012C12.543,1.01,12.523,1,12.5,1H4.265 C3.567,1,3,1.571,3,2.272v15.455C3,18.429,3.567,19,4.265,19h11.471C16.433,19,17,18.429,17,17.728V5.5 C17,5.477,16.99,5.457,16.987,5.435z M13,2.707L15.293,5H13.3C13.135,5,13,4.865,13,4.7V2.707z M16,17.728 C16,17.878,15.881,18,15.735,18H4.265C4.119,18,4,17.878,4,17.728V2.272C4,2.122,4.119,2,4.265,2H12v2.7C12,5.417,12.583,6,13.3,6 H16V17.728z"}),React.createElement("rect",{x:"6.92",y:"6.5",width:"3.824",height:"1"}),React.createElement("rect",{x:"6.92",y:"8.5",width:"6.118",height:"1"}),React.createElement("rect",{x:"6.92",y:"10.5",width:"5.354",height:"1"}),React.createElement("rect",{x:"6.92",y:"12.5",width:"6.118",height:"1"}))}r.r(t),r.d(t,{default:function(){return n}})},629:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i),a=r(37332),s=r(83668),c=r(90172),u=r.n(c),l=o()({displayName:"LiveWatchedServiceList",render:function(){return n.createElement("div",{className:this.getClassSet()},n.createElement("h3",{className:"LiveWatchedService-heading"},"Services I\u2019m Watching"),this.renderWatchedServices(),n.createElement(a.default,{onClick:this.props.onSelectionToggle,enabled:window.plans_to_watch.length>0}))},renderWatchedServices:function(){var e=this;return this.props.serviceIds.map(function(t){return e.renderWatchedService(t)})},renderWatchedService:function(e){return n.createElement(s.default,{key:e,plan_id:e,seconds:this.props.seconds,timeFormatHandler:this.props.timeFormatHandler,onRemove:this.props.onUnwatchService})},getClassSet:function(){return u()({LiveWatchedServiceList:!0})}});t.default=l},993:function(e,t,r){"use strict";r.d(t,{OU:function(){return f},aK:function(){return c},pC:function(){return l}});var n=r(84193),i=r.n(n),o=r(69500);function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s={matrix_previous_plans:"1",matrix_next_plans:"4"},c=function(e){var t=e.matrixType,r=e.matrixId,n=e.next,s=e.previous,c=(0,o.wJ)(a({matrixNextPlans:n,matrixPreviousPlans:s},t,r));return i()("/matrix").segment("reloaded").search(c).toString()},u=function(e){var t=e.matrixType,r=e.matrixId;return e.key||"matrix_".concat(t,"_").concat(r)},l=function(e){var t=decodeURIComponent($.cookie(u(e))),r="undefined"===t?s:JSON.parse(t);return{previous:parseInt(r.matrix_previous_plans,10),next:parseInt(r.matrix_next_plans,10)}},f=function(e){var t={matrix_previous_plans:e.previous,matrix_next_plans:e.next};$.cookie(u(e),JSON.stringify(t),{expires:365e3,path:"/"})}},1204:function(e,t,r){"use strict";var n=r(84743),i=r.n(n);t.A=function(e,t){t=t||Services.Flux.getStore("OrganizationCurrentStore").timeZone();var r=i().tz.zone(t).utcOffset(i()(e));return i()(e).utc().subtract(r,"minutes")}},1479:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i),a=r(84743),s=r.n(a),c=r(17360),u=o()({displayName:"LiveChatMessageList",componentDidMount:function(){this._scrollToChatBottomDeferred()},shouldComponentUpdate:function(e){return e.messagesLength!==this.props.messagesLength||e.selected!==this.props.selected},componentDidUpdate:function(){this._scrollToChatBottom()},render:function(){return n.createElement("div",{className:"LiveChatMessageList__outer",ref:"chatListOuter"},n.createElement("table",{className:"LiveChatMessageList",ref:"chatList"},n.createElement("tbody",null,this.renderMessages())))},renderMessages:function(){var e=this;return this.props.messages.map(function(t){return n.createElement("tr",{className:"LiveChatMessage",key:t.id},n.createElement("td",{className:"LiveChatMessage-time"},e.getMessageTime(t)),n.createElement("td",{className:"LiveChatMessage-author"},t.person_name),n.createElement("td",{className:"LiveChatMessage-message"},t.message))})},getMessageTime:function(e){return s()(1e3*e.created_at_to_i).format((0,c.A)({withAMPM:!0}))},_scrollToChatBottom:function(){this.refs.chatListOuter.scrollTop=this.refs.chatList.offsetHeight},_scrollToChatBottomDeferred:function(){var e=this;setTimeout(function(){e._scrollToChatBottom()},1e3)}});t.default=u},1990:function(e,t,r){"use strict";var n=r(84743),i=r.n(n);t.A=function(e,t){if("string"!==typeof e)throw new Error("Timestamp must be a string");t=t||Services.Flux.getStore("OrganizationCurrentStore").timeZone();var r=i().tz.zone(t);e.includes("GMT")&&(e=new Date(e).toISOString());var n=i().utc(e),o=r.parse(n);return i()(e).add(o,"minutes")}},2131:function(e,t,r){"use strict";r.d(t,{u:function(){return s}});var n=r(96540),i=r(99751);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=function(e){var t=o((0,n.useState)(null),2),r=t[0],a=t[1],s=(0,n.useRef)(!1);return(0,n.useEffect)(function(){return(0,i.G7)(e).then(function(e){return s.current||a(e)}),function(){return s.current=!0}},[]),r}},2393:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var n=r(96540);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e){return function(t){var r=i((0,n.useState)(!1),2),o=r[0],a=r[1],s=function(e){$(e.target).find(".modal").length&&a(!0)},c=function(){a(!1)};return(0,n.useEffect)(function(){return $(document).on("modal:load",s),$(document).on("modal:hide",c),function(){$(document).off("modal:load",s),$(document).off("modal:hide",c)}},[]),React.createElement(e,Object.assign({},t,{hasModalOpen:o}))}}},2482:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(63017),s=r(66842),c=r(88615),u=r(302);function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var d=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).state={results:[],currentPage:1,isLoading:!1,hasErrors:!1,defaultSearch:localStorage.addFileSearchTerm||""},r.handleKeyUp=r.handleKeyUp.bind(l(r)),r.handlePrevious=r.handlePrevious.bind(l(r)),r.handleNext=r.handleNext.bind(l(r)),r.handleAddResult=r.handleAddResult.bind(l(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,f(t,r);var d=n.prototype;return d.componentDidMount=function(){this.search(this.state.defaultSearch)},d.search=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;""!==e&&(this.setState({isLoading:!0,hasErrors:!1}),$.ajax({type:"POST",url:"/files/amazon/search",data:{query:e,page:r},timeout:2e3,dataType:"json",error:function(e){t.setState({isLoading:!1,hasErrors:!0})},success:function(e,n,o){e.error?t.setState({isLoading:!1,hasErrors:!0,currentPage:r}):t.setState({isLoading:!1,hasErrors:!1,currentPage:r,results:i().map(e.results,function(e){return{id:e.id,author:e.artistName,author_uri:e.trackViewUrl,thumbnail:e.artworkUrl,title:e.trackName,preview_url:e.previewUrl}})})}}))},d.handleAddResult=function(e){var t={item_id:this.props.itemId,item_type:this.props.itemType,attribs:i().find(this.state.results,function(t){return t.id===e})};setTimeout(function(){return Services.Modal.hide()},750),$.post("/files/amazon",t)},d.handleKeyUp=function(e){var t=e.target.value;"Enter"===e.key&&""!==t&&this.search(t)},d.handleChange=function(e){var t=e.target.value;try{localStorage.addFileSearchTerm=t}catch(r){}},d.handlePrevious=function(){this.search(this._searchInput.value,this.state.currentPage-1)},d.handleNext=function(){this.search(this._searchInput.value,this.state.currentPage+1)},d.render=function(){var e=this,t=this.state,r=t.defaultSearch,n=t.isLoading,i=t.results,l=t.currentPage,f=t.hasErrors;return o.createElement("div",null,o.createElement("input",{ref:function(t){return e._searchInput=t},type:"search",placeholder:"Search Amazon",defaultValue:r,onKeyUp:this.handleKeyUp,onChange:this.handleChange}),n?o.createElement(a.default,null):o.createElement("div",{className:"file-results-wrap"},f?o.createElement(u.default,null):o.createElement(s.default,{results:i,addResult:this.handleAddResult})),!n&&i.length>0&&o.createElement(c.default,{resultsCount:i.length,prevPage:l>1,onPrevious:this.handlePrevious,onNext:this.handleNext}))},n}(o.Component);t.default=d},2812:function(e,t,r){"use strict";r.d(t,{o:function(){return Ve},z:function(){return Is}});var n={};r.r(n),r.d(n,{TagGroupCollectionAutocompleteStore:function(){return ka},TagGroupCollectionDrawerStore:function(){return La},TagGroupCollectionProcessingTagStore:function(){return Ra},TagGroupCollectionSetStore:function(){return Ua},TagGroupCollectionStore:function(){return qa}});var i=r(43816),o=r.n(i),a=function(){this.generateActions("updateArrangement")};a.displayName="ArrangementActions";var s=a,c=function(){this.generateActions("simulateDrag","endDragSimulation","setRemoved","clearRemoved","removeItem")};c.displayName="InteractionActions";var u=c,l=function(){this.generateActions("setSequence","addItem","removeItem","moveOrInsertItem")};l.displayName="ItemActions";var f=l,d=function(){this.generateActions("setSteps","setLabels","addStep","updateCount")};d.displayName="StepActions";var p={ArrangementActions:s,Sequence:{InteractionActions:u,ItemActions:f,StepActions:d}},h=r(9404),m=r.n(h),v=function(){function e(){}var t=e.prototype;return t.create=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=m().fromJS({id:Date.now().toString(),isAllDay:!0,startDate:e,startTime:0,endDate:t,endTime:1439.99,reason:"",repeat:{type:{value:"no_repeat",text:"Does not repeat"},period:{value:null,text:null},interval:{value:null,text:null},expires:{value:"never",text:"forever"},until:{value:null,text:null}},conflicts:[],declineConflicts:"true",isEditing:!0});this.dispatch(r)},t.edit=function(e){this.dispatch(e)},t.update=function(e,t,r){this.dispatch({id:e,key:t,value:r})},t.updateAll=function(e,t){this.dispatch({key:e,value:t})},t.destroy=function(e){this.dispatch(e)},t.clear=function(){this.dispatch()},e}();v.displayName="BlockoutDatesActions";var y=v,g=function(){this.generateActions("toggleDismissiblePane")};g.displayName="DismissiblePaneActions";var b=g,S=function(){this.generateActions("update","upload","move","copy","destroy","destroyWhere")};S.displayName="FileActions";var w={FileActions:S},O=function(){this.generateActions("addFilters","updateFilters","removeFilters","addFilter","swapFilter","updateFilter","removeFilter","pinFilter","unPinFilter")};O.displayName="FilterBox.FilterActions";var P=O;function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}var j=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,E(t,r),n}(P);j.displayName="FilterBox.BackgroundCheckActions";var T=j;function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}var C=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,I(t,r),n}(P);C.displayName="FilterBox.DatesActions";var A=C;function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}var k=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,x(t,r),n}(P);k.displayName="FilterBox.PermissionsActions";var N=k;function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}var F=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,L(t,r),n}(P);F.displayName="FilterBox.PositionsActions";var D=F;function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}var R=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,M(t,r),n}(P);R.displayName="FilterBox.RehearsalTeamActions";var U=R;function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}var G=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,B(t,r),n}(P);G.displayName="FilterBox.TagGroupsActions";var V=G;function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}var z=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,W(t,r),n}(P);z.displayName="FilterBox.TagsActions";var q=z;function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}var J=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,H(t,r),n}(P);J.displayName="FilterBox.TeamLeaderActions";var Y=J;function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}var Z=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,K(t,r),n}(P);Z.displayName="FilterBox.TeamPositionsActions";var Q=Z;function X(e,t){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X(e,t)}var ee=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,X(t,r),n}(P);ee.displayName="FilterBox.TeamsActions";var te=ee;function re(e,t){return re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},re(e,t)}var ne=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,re(t,r),n}(P);ne.displayName="FilterBox.TextActions";var ie={BackgroundCheckActions:T,DatesActions:A,FilterActions:P,PermissionsActions:N,PositionsActions:D,RehearsalTeamActions:U,TagGroupsActions:V,TagsActions:q,TeamLeaderActions:Y,TeamPositionsActions:Q,TeamsActions:te,TextActions:ne},oe=function(){this.generateActions("addKey","updateKey","removeKey")};oe.displayName="KeyActions";var ae={KeyActions:oe},se=function(){this.generateActions("updateMedia")};se.displayName="MediaActions";var ce={MediaActions:se},ue=function(){this.generateActions("add","remove","update","fetch")};ue.displayName="People.PeopleActions";var le=ue,fe=function(){this.generateActions("update","replaceAll")};fe.displayName="People.PermissionsActions";var de=fe,pe=function(){this.generateActions("toggleAutocomplete","toggleDrawerTag","toggleDrawerDirect","toggleDrawerPreferences","togglePreferredWeeks","toggleRequiredTagWarningDrawer","closeDrawerTagConfirm","closeDrawerNoneTagWarning","updateSelectedSchedulePreferences","updateCheckedPreferredWeek","updateCheckedPreferredRST","addPosition","addPositionSuccess","addPositionFailure","getTeam","getTeamSuccess","getTeamFailure","getPosition","getPositionSuccess","getPositionFailure","getRegularServiceTimes","getRegularServiceTimesSuccess","getRegularServiceTimesFailure","removeDirect","removeDirectSuccess","removeDirectFailure","removeTagClick","removeNoneTagClick","updatePreferences","updatePreferencesSuccess","updatePreferencesFailure","unpermittedActionClick","unpermittedActionDismissClick")};pe.displayName="TeamsActions";var he={PeopleActions:le,PermissionsActions:de,TeamsActions:pe},me=function(){this.generateActions("updatePeople","updatePerson","addPerson","removePerson")};me.displayName="PersonEmailerPeopleActions";var ve=me,ye=function(){this.generateActions("update")};ye.displayName="PersonEmailerSelectedTemplateActions";var ge=ye,be=function(){function e(){this.generateActions("updateTemplate","addTemplate","deleteTemplate")}return e.prototype.updateTemplates=function(e){this.dispatch(e)},e}();be.displayName="PersonEmailerTemplatesActions";var Se={People:ve,SelectedTemplate:ge,Templates:be},we=function(){this.generateActions("add","remove")};we.displayName="ProcessingUpdatablesActions";var Oe=we,Pe=function(){this.generateActions("update")};Pe.displayName="RememberedItemActions";var _e=Pe,Ee=function(){this.generateActions("add","remove","replace","clear","intersect")};Ee.displayName="SelectedItemActions";var je=Ee,Te=function(){this.generateActions("addListItem","removeArchivedListItem","removeListItem","updateListItem")};Te.displayName="SongSidebarActions";var Ie={SongSidebarActions:Te},Ce=function(){this.generateActions("setStatus","fadeStatus","removeStatus")};Ce.displayName="StatusActions";var Ae=Ce,xe=function(){this.generateActions("addTag","addTagSuccess","addTagFailure","editTagSuccess","removeTag","removeTagSuccess","removeTagFailure","getTagGroupSuccess","getTagGroupFailure","upsertTagGroupSuccess","deleteTagGroupSuccess","swapMultipleSelectionTag","swapMultipleSelectionTagSuccess","swapMultipleSelectionTagFailure")};xe.displayName="TagsActions";var ke=xe,Ne=function(){this.generateActions("toggleAutocomplete","toggleTagConfirmDrawer","toggleRequiredTagWarningDrawer")};Ne.displayName="TagGroupCollectionActions";var Le=Ne,Fe=function(){this.generateActions("filterByFolder","editTagGroup")};Fe.displayName="TagGroupsActions";var De={TagGroupsActions:Fe},Me=function(){this.generateActions("fetch","sortChange","pageChange","folderChange","nameSearch")};Me.displayName="Teams.IndexActions";var Re=Me,Ue=function(){this.generateActions("updateTeam","upsertServiceType","removeServiceType")};Ue.displayName="TeamActions";var Be={IndexActions:Re,TeamActions:Ue},Ge=function(){this.generateActions("inject","refresh")};Ge.displayName="QueryActions";var Ve={Arrangements:p,BlockoutDates:y,DismissiblePaneActions:b,Files:w,FilterBox:ie,Keys:ae,Medias:ce,People:he,PersonEmailer:Se,ProcessingUpdatablesActions:Oe,RememberedItemActions:_e,SelectedItemActions:je,Songs:Ie,StatusActions:Ae,TagsActions:ke,TagGroupCollectionActions:Le,TagGroups:De,Teams:Be,QueryActions:Ge},We=r(69500),ze=function(){function e(){this.on("bootstrap",this._onBootstrap),this.exportPublicMethods({getId:this.getId.bind(this)})}var t=e.prototype;return t.getId=function(){return this.state.id},t._onBootstrap=function(){this.state=(0,We.Yu)(this.state)},e}();function qe(e,t){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qe(e,t)}var $e=function(e){var t,r;function n(){var t;return(t=e.call(this)||this).bindActions(Services.Flux.getActions("ArrangementActions")),t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,qe(t,r),n.prototype.updateArrangement=function(e){this.setState(e)},n}(ze),He=function(){function e(){this.state={forcedHoverId:null,lastRemovedIndex:null},this.bindActions(Services.Flux.getActions("InteractionActions"))}var t=e.prototype;return t.simulateDrag=function(e){this.setState({forcedHoverId:e})},t.endDragSimulation=function(){this.setState({forcedHoverId:null})},t.removeItem=function(e){this.setState({lastRemovedIndex:e}),Services.Flux.getActions("ItemActions").removeItem.defer(e)},t.clearRemoved=function(){this.setState({lastRemovedIndex:null})},e}();He.config={stateKey:"state"};var Je=He,Ye=r(96540);function Ke(e){return function(e){if(Array.isArray(e))return Ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ze(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ze(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach(function(t){et(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function et(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tt=function(){function e(){this.state={sequence:[]},this.bindActions(Services.Flux.getActions("ItemActions")),this.getLastId=this.getLastId.bind(this),this.exportPublicMethods({relatedItemNumbers:this.relatedItemNumbers,getLastId:this.getLastId})}var t=e.prototype;return t.setSequence=function(e){this.setState({sequence:e})},t.addItem=function(e){this.setState(Ye.addons.update(this.state,{sequence:{$push:[Xe(Xe({},e),{},{id:this._nextId()})]}})),this.updateStep(e)},t.removeItem=function(e){var t=this.state.sequence[e];t&&(this.setState(Ye.addons.update(this.state,{sequence:{$splice:[[e,1]]}})),this.updateStep(t))},t.moveOrInsertItem=function(e){var t=e.from,r=e.to,n=e.newItem,i=this.state.sequence[t];i?this.setState(Ye.addons.update(this.state,{sequence:{$splice:[[t,1],[r,0,i]]}})):this.insertItem({to:r,newItem:n})},t.insertItem=function(e){var t=e.to,r=e.newItem;this.setState(Ye.addons.update(this.state,{sequence:{$splice:[[t,0,Xe(Xe({},r),{},{id:this._nextId()})]]}})),this.updateStep(r)},t.relatedItemNumbers=function(e){return _(this.getState().sequence).filter(function(t){return t.label===e.label}).map(function(e){return+e.number+1}).value()},t.updateStep=function(e){Services.Flux.getActions("StepActions").updateCount.defer(e)},t.getLastId=function(){return Math.max.apply(Math,Ke(this.state.sequence.map(function(e){return e.id})).concat([0]))},t._nextId=function(){return this.getLastId()+1},e}();tt.config={stateKey:"state"};var rt=tt;function nt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function it(e){return function(e){if(Array.isArray(e))return ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ot(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ot(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var at=function(){function e(){this.state={steps:{}},this.labels=[],this.bindActions(Services.Flux.getActions("StepActions")),this.exportPublicMethods({getOrderedSteps:this.getOrderedSteps.bind(this)})}var t=e.prototype;return t.setLabels=function(e){this.labels=e},t.setSteps=function(e){this.setState({steps:e})},t.addStep=function(e){this.setState(Ye.addons.update(this.state,{steps:{$merge:Services.Utils.Songs.addLabel({},e,1)}}))},t.updateCount=function(e){var t=Services.StoreInstances.Arrangements.Sequence,r=e.label.toLowerCase(),n=t.ItemStore.relatedItemNumbers(e);this.setState(Ye.addons.update(this.state,{steps:nt({},r,{count:{$set:Math.max.apply(Math,it(n).concat([1]))}})}))},t.getOrderedSteps=function(){var e=this;return _.sortBy(this.state.steps,function(t){return e.labels.indexOf(t.label)+1||t.added})},e}();at.config={stateKey:"state"};var st={ArrangementStore:$e,Sequence:{InteractionStore:Je,ItemStore:rt,StepStore:at}},ct=function(){function e(){var e=Services.Flux.getActions("BlockoutDatesActions"),t=e.create,r=e.edit,n=e.update,i=e.destroy,o=e.clear;this.bindListeners({create:t,edit:r,update:n,destroy:i,clear:o}),this.rules=m().List(),this.editing=!1,this.startDate=null,this.endDate=null}var t=e.prototype;return t._getIndex=function(e){return this.rules.findIndex(function(t){return t.get("id")===e})},t._resetValues=function(){this.rules=this.rules.clear(),this.editing=!1,this.startDate=null,this.endDate=null},t.create=function(e){var t=this.rules,r=(this.editing,e.get("id"));t=t.map(function(e){return e.set("isEditing",!1)}),this.rules=t.unshift(e),this.editing=r,this.startDate=e.get("startDate"),this.endDate=e.get("endDate")},t.edit=function(e){var t,r,n=this.rules;this.editing;this.rules=n.map(function(n){var i=n.get("id")===e;return i&&(t=n.get("startDate"),r=n.get("endDate")),n.set("isEditing",i)}),this.editing=e,this.startDate=t,this.endDate=r},t.update=function(e){var t=e.id,r=e.key,n=e.value,i=this.rules,o=(this.editing,this._getIndex(t));this.rules=i.setIn([o,r],n),this.editing=t,"startDate"===r&&(this.startDate=n),"endDate"===r&&(this.endDate=n)},t.destroy=function(e){var t,r=this.rules,n=this.editing,i=this._getIndex(e),o=!1,a=!1;e===n&&(o=i===r.count()-1?i-1:i),t=0===(r=r.delete(i)).count(),!1===o||t||(a=r.get(o),r=r.setIn([o,"isEditing"],!0)),this.rules=r,a?(this.editing=a.get("id"),this.startDate=a.get("startDate"),this.endDate=a.get("endDate")):t&&this._resetValues()},t.clear=function(){this._resetValues()},e}();function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(r),!0).forEach(function(t){ft(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ft(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dt=function(){function e(){this.state={type:null},this.bindActions(Services.Flux.getActions("DismissiblePaneActions")),this.exportPublicMethods({getStatus:this.getStatus.bind(this)})}var t=e.prototype;return t.getStatus=function(){return this.state},t.toggleDismissiblePane=function(e){this.state=e.type?lt(lt({},{}),e):{type:null}},e}(),pt=r(2543),ht=r.n(pt),mt=r(84743),vt=r.n(mt),yt=r(74186),gt=r(49462),bt=r(62134);function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach(function(t){_t(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _t(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Et=ht().compose(We.lz,bt.default),jt=function(){function e(){var e=this;this.procedures={},this.pending={},this.bindActions(Services.Flux.getActions("FileActions")),this.on("bootstrap",function(){e.files=ht().mapValues(e.files,function(t){return e._makeFile(t)})}),this.exportPublicMethods({getFiles:this.getFiles.bind(this),shouldUpdate:this.shouldUpdate.bind(this),cancelPendingMove:this.cancelPendingMove.bind(this),scheduleMove:this.scheduleMove.bind(this),isValidAction:this.isValidAction.bind(this)})}var t=e.prototype;return t.setFile=function(e,t){this.shouldUpdate(t)&&this.setState({files:Pt(Pt({},this.files),{},_t({},e,t))})},t.shouldUpdate=function(e){var t=this.getStoredFile(e);if(!t)return!0;var r=St(ht().map([t,e],function(e){return vt()(e.updatedAt).unix()}),2),n=r[0];return r[1]>=n&&!ht().isEqual(ht().omit(e,"updatedAt","actions"),ht().omit(t,"updatedAt","actions"))},t.destroy=function(e){var t=e.file.id;this.setState({files:ht().omit(this.files,t)})},t.destroyWhere=function(e){var t=ht()(this.files).filter(e).map("id").value();this.setState({files:ht().omit(this.files,t)})},t.update=function(e){this.setFile(e.id,this._makeFile(e))},t.move=function(e){var t=this,r=e.file,n=e.instantRequest;this.setFile(r.id,r);var i=function(){$.ajax({url:"/files/".concat(r.id),type:"PATCH",data:t._payload(t.getStoredFile(r))})};n?i():(this.procedures[this._moveId(r)]=i,this.scheduleMove(r))},t.copy=function(e){var t=this,r=e.file,n=e.file.id,i=e.uuid;this.setFile(i,r),$.ajax({url:"/files/".concat(n,"/copy"),type:"POST",data:Pt({uuid:i},this._payload(this.getStoredFile({id:i}))),success:function(e){return t._replace({id:e.uuid},t._makeFile(e.file))}})},t.upload=function(e){var t=this;this.performUnlessFileStorageExceeded(function(){return t._upload(e)})},t.isValidAction=function(e,t){return(t.attachableType!==e.attachableType||t.attachableId!==e.id)&&(t.allowMultiple||this.actionWillNotDuplicateFile(e,t))},t.actionWillNotDuplicateFile=function(e,t){var r=e.id,n=e.attachableType,i=t.filename,o=this.getFiles({attachableId:r,attachableType:n});return!ht().find(o,{filename:i})},t._upload=function(e){var t=this,r=e.files,n=e.attachableType,i=e.id;r.forEach(function(e){var r=new yt.Ig({file:e,filename:e.name,attachableType:n,attachableId:i});t._replace(t._find(r),r),r.onComplete=function(e,r){var n=e.id;return t._replace({id:n},t._makeFile(r))}})},t.performUnlessFileStorageExceeded=function(e){$.ajax({url:"".concat((0,We.dk)("api"),"/services/v2"),xhrFields:{withCredentials:!0}}).done(function(t){var r=t.data;r.attributes.file_storage_exceeded?Swal.alertError.fire({titleText:"File storage limit",html:"Your account has hit the ".concat(Et(r.attributes.file_storage_size)," file storage limit.<br>Extra file storage is available at the cost of $1/GB per month."),confirmButtonText:"Extra file storage"}).then(function(e){return e.value&&(0,gt.showFileStorageModal)()}):e()})},t.cancelPendingMove=function(e){clearTimeout(this.pending[this._moveId(e)])},t.scheduleMove=function(e){var t=e.id,r=this._moveId({id:t});this.pending[r]=setTimeout(this.procedures[r],1200)},t.getStoredFile=function(e){var t=e.id;return this.files[t]},t.getFiles=function(e){var t=e.attachableType,r=e.attachableId;return ht()(this.files).filter({attachableType:t,attachableId:r}).sortBy(function(e){return e.filename.toLowerCase()}).sortBy(function(e){return"rehearsal_mix_v2"===e.extension?1:0}).value()},t._payload=function(e){var t=e.attachmentTypeIds,r=e.attachableType,n=e.attachableId;return{file:{filename:e.filename,song_part:["key"===r?n:ht().titleize(r),n],attachment_type_ids:t}}},t._moveId=function(e){var t=e.id;return"move".concat(t)},t._makeFile=function(e){return new yt.ZH(e)},t._replace=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id,t=arguments.length>1?arguments[1]:void 0;this.setState({files:Pt(Pt({},ht().omit(this.files,e)),{},_t({},t.id,t))})},t._find=function(e){var t=e.filename,r=e.attachableType,n=e.attachableId;return ht().find(this.files,{attachableType:r,attachableId:n,filename:t})},e}(),Tt={FileStore:jt},It={FoldersStore:function(){function e(){this.on("bootstrap",this._onBootstrap),this.exportPublicMethods({isFolder:this.isFolder.bind(this),getPath:this.getPath.bind(this)})}var t=e.prototype;return t.isFolder=function(e){return!ht().isUndefined(ht().find(this.state,{id:e}))},t.getPath=function(e){if(this.paths[e])return this.paths[e];var t=[],r=this.children[e]||ht().get(this.index,[e,"parentId"]);if(!r)return t;var n=this.index[r];do{t.push(n)}while(n=this.index[n.parentId]);return this.paths[e]=t.reverse()},t._onBootstrap=function(){var e=this.state,t=e.folders,r=e.children;this.state=(0,We.Yu)(t),this.paths={},this.children=r,this.index=ht().keyBy(this.state,"id")},e}()};function Ct(e){return function(e){if(Array.isArray(e))return At(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?At(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var xt={KeyStore:function(){function e(){var e=this;this.on("bootstrap",function(){e.keys=e._sort(e.keys.map(We.Yu))}),this.bindActions(Services.Flux.getActions("KeyActions"))}var t=e.prototype;return t.addKey=function(e){this.setState({keys:this._sort([].concat(Ct(this.keys),[(0,We.Yu)(e)]))})},t.updateKey=function(e){var t=Services.Flux.getActions("FileActions").update;this.removeKey(e),this.addKey(e),e.files_hash.forEach(function(e){return t.defer(e)})},t.removeKey=function(e){var t=Services.Flux.getActions("FileActions").destroyWhere;this.setState({keys:this.keys.filter(function(t){return t.id!==e.id})}),t.defer({attachableId:e.id})},t._sort=function(e){var t=this;return ht().sortBy(e,function(e){return t._order(e.starting)+.01*t._order(e.ending)*(t._isFlat(e.ending)?-1:1)})},t._order=function(e){return(0,We.db)("Key.KEYS").indexOf(this._major(e))+1},t._isFlat=function(e){return e&&e.indexOf("b")+1},t._major=function(e){return(e||"").replace("m","")},e}()};function kt(e,t){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kt(e,t)}var Nt={MediaStore:function(e){var t,r;function n(){var t;return(t=e.call(this)||this).bindActions(Services.Flux.getActions("MediaActions")),t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,kt(t,r),n.prototype.updateMedia=function(e){this.setState((0,We.Yu)(e))},n}(ze)},Lt=r(95093),Ft=r.n(Lt),Dt=function(){function e(){this.on("bootstrap",this._onBootstrap),this.exportPublicMethods({allowAdminsToDeleteAnything:this.allowAdminsToDeleteAnything.bind(this),attachmentTypes:this.attachmentTypes.bind(this),chartProConnected:this.chartProConnected.bind(this),churchCenterSettingsAppEnabledAt:this.churchCenterSettingsAppEnabledAt.bind(this),churchCenterSettingsWebEnabledAt:this.churchCenterSettingsWebEnabledAt.bind(this),churchCenterUrl:this.churchCenterUrl.bind(this),exportAllPeoplePermissions:this.exportAllPeoplePermissions.bind(this),getAccountCenterId:this.getAccountCenterId.bind(this),getCcliAutoReportingEnabled:this.getCcliAutoReportingEnabled.bind(this),getCcliAutoReportLog:this.getCcliAutoReportLog.bind(this),getCcliConnected:this.getCcliConnected.bind(this),getCcliIdHint:this.getCcliIdHint.bind(this),getCcliNumber:this.getCcliNumber.bind(this),getCcliLog:this.getCcliLog.bind(this),getCcliReportingEnabled:this.getCcliReportingEnabled.bind(this),getCcliUpdatedAt:this.getCcliUpdatedAt.bind(this),getDateFormat:this.getDateFormat.bind(this),getId:this.getId.bind(this),getName:this.getName.bind(this),getRehearsalMixConnected:this.getRehearsalMixConnected.bind(this),multiTracksConnected:this.multiTracksConnected.bind(this),multiTracksFirstFailure:this.multiTracksFirstFailure.bind(this),multiTracksLastRefresh:this.multiTracksLastRefresh.bind(this),multiTracksRelinks:this.multiTracksRelinks.bind(this),multiTracksUserName:this.multiTracksUserName.bind(this),multiTracksUpdatedAt:this.multiTracksUpdatedAt.bind(this),musicStandEnabled:this.musicStandEnabled.bind(this),packageName:this.packageName.bind(this),peopleLimit:this.peopleLimit.bind(this),peopleRemaining:this.peopleRemaining.bind(this),peopleUsed:this.peopleUsed.bind(this),praiseChartsEnabledNames:this.praiseChartsEnabledNames.bind(this),rehearsalMixV1Connected:this.rehearsalMixV1Connected.bind(this),rehearsalMixV2Connected:this.rehearsalMixV2Connected.bind(this),rehearsalPackConnected:this.rehearsalPackConnected.bind(this),secret:this.secret.bind(this),timeZone:this.timeZone.bind(this),twentyFourHourTime:this.twentyFourHourTime.bind(this),viewAllPeoplePermissions:this.viewAllPeoplePermissions.bind(this),weekStartsOnSunday:this.weekStartsOnSunday.bind(this)})}var t=e.prototype;return t.allowAdminsToDeleteAnything=function(){return this.state.allowAdminsToDeleteAnything},t.attachmentTypes=function(){return this.state.attachmentTypes},t.chartProConnected=function(){return this.state.chartProConnected},t.churchCenterSettingsAppEnabledAt=function(){return this.state.churchCenterSettingsAppEnabledAt},t.churchCenterSettingsWebEnabledAt=function(){return this.state.churchCenterSettingsWebEnabledAt},t.churchCenterUrl=function(){return this.state.churchCenterUrl},t.exportAllPeoplePermissions=function(){return this.state.exportAllPeoplePermissions},t.getAccountCenterId=function(){return this.state.accountCenterId},t.getCcliAutoReportingEnabled=function(){return this.state.ccliAutoReportingEnabled},t.getCcliAutoReportLog=function(){return this.state.ccliAutoReportLog},t.getCcliConnected=function(){return this.state.ccliConnected},t.getCcliIdHint=function(){return this.state.ccliIdHint},t.getCcliNumber=function(){return this.state.ccli},t.getCcliLog=function(){return this.state.ccliLog},t.getCcliReportingEnabled=function(){return this.state.ccliReportingEnabled},t.getCcliUpdatedAt=function(){return this.state.ccliUpdatedAt},t.getDateFormat=function(){return this.state.dateFormat},t.getId=function(){return this.state.id},t.getName=function(){return this.state.name},t.getRehearsalMixConnected=function(){return this.state.rehearsalMixConnected},t.multiTracksConnected=function(){return this.state.multiTracksConnected},t.multiTracksFirstFailure=function(){return this.state.multiTracksFirstFailure},t.multiTracksLastRefresh=function(){return this.state.multiTracksLastRefresh},t.multiTracksRelinks=function(){return this.state.multiTracksRelinks},t.multiTracksUserName=function(){return this.state.multiTracksUserName},t.multiTracksUpdatedAt=function(){return this.state.multiTracksUpdatedAt},t.musicStandEnabled=function(){return this.state.musicStandEnabled},t.packageName=function(){return this.state.packageName},t.peopleLimit=function(){return this.state.limit},t.peopleRemaining=function(){return this.state.peopleRemaining},t.peopleUsed=function(){return this.state.peopleUsed},t.praiseChartsEnabledNames=function(){return this.state.praiseChartsEnabledNames},t.rehearsalMixV1Connected=function(){return this.state.rehearsalMixV1Connected},t.rehearsalMixV2Connected=function(){return this.state.rehearsalMixV2Connected},t.rehearsalPackConnected=function(){return this.state.rehearsalPackConnected},t.secret=function(){return this.state.secret},t.timeZone=function(){return this.state.timeZone},t.twentyFourHourTime=function(){return this.state.twentyFourHourTime},t.viewAllPeoplePermissions=function(){return this.state.viewAllPeoplePermissions},t.weekStartsOnSunday=function(){return this.state.weekStartsOnSunday},t._onBootstrap=function(){this.state=(0,We.Yu)(this.state);var e={US:{L:"MM/DD/YYYY",LL:"MMMM D YYYY"},EU:{L:"DD/MM/YYYY",LL:"D MMMM YYYY"}}[this.state.dateFormat],t=e.L,r=e.LL,n=this.state.twentyFourHourTime?"H:mm":"h:mm a";Ft().updateLocale("en",{longDateFormat:{L:t,LL:r,LT:n}})},e}(),Mt=function(){function e(){this._resetState(),this.bindActions(Services.Flux.getActions("TagsActions")),this.bindActions(Services.Flux.getActions("TeamsActions")),this.exportPublicMethods({isPositionIdAffected:this.isPositionIdAffected.bind(this),getAffectedPositionIds:this.getAffectedPositionIds.bind(this),computeAffectedPositions:this.computeAffectedPositions.bind(this)})}var t=e.prototype;return t.getAffectedPositionIds=function(){return this.state},t.isPositionIdAffected=function(e){return this.state.indexOf(e)>-1},t.toggleDrawerPreferences=function(){this._resetState()},t.toggleDrawerTag=function(e){this._resetState()},t.toggleDrawerDirect=function(e){var t=window.Services.StoreInstances.People.DrawerStore;this.waitFor(t),this.state=t.getOpenStatusForTeamId(e.teamId)?[e.id]:[]},t.closeDrawerTagConfirm=function(){this._resetState()},t.removeTagClick=function(e){var t=window.Services.StoreInstances.TagGroupCollection.TagGroupCollectionStore,r=e.tagGroupId;if(t.showRequiredWarningForTagGroupId(r))return this._resetState();this.state=ht().map(this.computeAffectedPositions(e.id,e.tagGroupId),"id")},t.removeTagSuccess=function(){this._resetState()},t.removeTagFailure=function(){},t.computeAffectedPositions=function(e,t){var r=this,n=window.Services.StoreInstances.People.TeamsStore,i=window.Services.StoreInstances.TagGroupCollection.TagGroupCollectionStore,o=ht().filter(i.getTags(),function(t){return t.id!==e}),a=ht()(o).map("tagGroupId").uniq().value(),s=ht()(n.getTeams()).map(function(e){return ht().values(e.personPositions)}).flatten().value(),c=ht().filter(s,this._positionRequires.bind(this,"tags",e)),u=ht().filter(s,this._positionRequires.bind(this,"tagGroups",t)),l=ht().filter(u,function(e){return r._hasRequiredTagGroups(a,e)});return c.concat(l)},t._hasRequiredTagGroups=function(e,t){return!ht().intersection(e,this._getIds("tagGroups",t)).length},t._positionRequires=function(e,t,r){return ht().includes(this._getIds(e,r),t)},t._getIds=function(e,t){return ht().map(t.tags&&t.tags[e]||[],"id")},t._resetState=function(){this.state=[]},e}(),Rt=Mt,Ut=function(){function e(){this.state=this._getInitialState(),this.bindActions(Services.Flux.getActions("TagsActions")),this.bindActions(Services.Flux.getActions("TeamsActions")),this.exportPublicMethods({getContents:this.getContents.bind(this),getContentsForTeamId:this.getContentsForTeamId.bind(this),getOpenStatusForTeamId:this.getOpenStatusForTeamId.bind(this),refresh:this.refresh.bind(this)})}var t=e.prototype;return t.getContents=function(){return this.state},t.getContentsForTeamId=function(e){return this.state[e]},t.getOpenStatusForTeamId=function(e){return null!==this.getContentsForTeamId(e).type},t.refresh=function(){var e=this;this.state=this._setAllTeams(function(t){return e.state[t]||{type:null,direction:"forward"}})},t.updatePreferencesSuccess=function(e){var t=e.requestData.teamId;this._closeDrawer(t)},t.updateSelectedSchedulePreferences=function(e){var t=e.teamId;this.state[t]=ht().extend({},this.state[t],e)},t.updateCheckedPreferredWeek=function(e){var t=e.teamId,r=e.weeks;this.state[t].preferredWeeks=ht().sortBy(r)},t.updateCheckedPreferredRST=function(e){var t=e.id,r=e.teamId,n=this.state[r];ht().includes(n.regularServiceTimeIds,t)?n.regularServiceTimeIds=ht().reject(n.regularServiceTimeIds,function(e){return e===t}):n.regularServiceTimeIds.push(t),this.state[r]=n},t.toggleDrawerPreferences=function(e){var t=e.teamId;if(this._closeOtherDrawers(t),"preferences"!==this.state[t].type){var r=window.Services.StoreInstances.People,n=r.TeamsStore,i=r.TimePreferenceOptionsStore,o=n.getTeamByTeamId(t),a=o.serviceTypes,s=o.regularServiceTimeIds,c=o.schedulePreferences,u=o.preferredWeeks,l={teamId:t,schedulePreferences:c,regularServiceTimes:ht().flatMap(a,function(e){return i.getRSTsByServiceTypeId(e.id)}),regularServiceTimeIds:ht().clone(s),preferredWeeks:ht().clone(u)},f=ht().includes(["tag","tagConfirm"],this.state[t].type)?"backward":"forward";this.state[t]=ht().extend({},{type:"preferences",direction:f},l)}else this._closeDrawer(t)},t.toggleDrawerTag=function(e){var t=window.Services.StoreInstances.People.TeamsStore,r=e.teamId,n=e.teamPositionId;if(this._closeOtherDrawers(r),"tag"===this.state[r].type)this._closeDrawer(r);else{if(t.showTagPositionNoCriteriaForTeamPositionId(r,n))return this.toggleTagPositionNoCriteriaDrawer(ht().extend({},e));var i="noneTagWarning"===this.state[r].type?"backward":"forward";this.state[r]=ht().extend({},{type:"tag",direction:i},e)}},t.toggleDrawerDirect=function(e){var t=e.teamId;this._closeOtherDrawers(t),"direct"===this.state[t].type?this._closeDrawer(t):this.state[t]=ht().extend({},{type:"direct",direction:"forward"},e)},t.togglePreferredWeeks=function(e){var t=e.teamId,r=e.schedulePreferences,n=window.Services.StoreInstances.People.TeamsStore;this.state[t].preferredWeeks=n.getPreferredWeeksForTeamId(t),this.state[t].schedulePreferences=r},t.addPositionSuccess=function(e){var t=e.requestData.teamId;this.state[t]||this._clearDrawer(t)},t.removeTagSuccess=function(){this._pruneRemovedTeams()},t.removeDirectSuccess=function(){this._pruneRemovedTeams()},t.closeDrawerTagConfirm=function(e){var t=e.teamId;delete this.state[t].openDrawerTagConfirm,this.state[t].type="tag",this.state[t].direction="backward"},t.removeTagClick=function(e){var t=window.Services.StoreInstances.TagGroupCollection.TagGroupCollectionStore,r=e.teamId,n=e.tagGroupId;if(t.showRequiredWarningForTagGroupId(n))return this.toggleRequiredTagWarningDrawer(e);this.state[r].openDrawerTagConfirm=e,this.state[r].type="tagConfirm",this.state[r].direction="forward"},t.removeNoneTagClick=function(e){var t=e.teamId;this.state[t].openNoneTagWarning=e,this.state[t].type="noneTagWarning",this.state[t].direction="forward"},t.toggleRequiredTagWarningDrawer=function(e){var t=e.teamId;"requiredWarning"===this.state[t].type?(delete this.state[t].openRequiredTagWarning,this.state[t].type="tag",this.state[t].direction="forward"):(this.state[t].openRequiredTagWarning=e,this.state[t].type="requiredWarning",this.state[t].direction="backward")},t.toggleTagPositionNoCriteriaDrawer=function(e){var t=e.teamId;"tagPositionNoCriteria"===this.state[t].type?this._closeDrawer(t):this.state[t]=ht().extend({},{type:"tagPositionNoCriteria",direction:"forward"},e)},t.closeDrawerNoneTagWarning=function(e){var t=e.teamId;delete this.state[t].openNoneTagWarning,this.state[t].type="tag",this.state[t].direction="backward"},t._pruneRemovedTeams=function(){var e=this,t=window.Services.StoreInstances.People.TeamsStore;this.waitFor(t);var r=t.getTeamIds();ht().map(Object.keys(this.state),function(e){return parseInt(e,10)}).forEach(function(t){ht().includes(r,t)?e._closeDrawer(t):delete e.state[t]})},t._closeOtherDrawers=function(e){ht()(this.state).filter(function(t){return t.teamId!==e}).each(function(e){e.type=null,e.direction="forward"})},t._getInitialState=function(){return this._setAllTeams(function(){return{type:null,direction:"forward"}})},t._setAllTeams=function(e){var t=window.Services.StoreInstances.People.TeamsStore;return ht().reduce(t.getTeamIds(),function(t,r){return t[r]=e(r),t},{})},t._clearDrawer=function(e){this.state[e]={type:null,direction:"forward"}},t._closeDrawer=function(e){this.state[e].type=null,this.state[e].direction="forward"},e}(),Bt=Ut;function Gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vt(e,t){return Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vt(e,t)}var Wt=function(e){var t,r;function n(){var t;return(t=e.call(this)||this).exportPublicMethods({getServiceTypes:t.getServiceTypes.bind(Gt(t))}),t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Vt(t,r),n.prototype.getServiceTypes=function(){return this.state.serviceTypes},n}(ze);function zt(e){return function(e){if(Array.isArray(e))return qt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return qt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function $t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(r),!0).forEach(function(t){Jt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Jt(e,t,r){return(t=Kt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kt(n.key),n)}}function Kt(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var Zt=function(){function e(){this.state={},this.bindActions(Services.Flux.getActions("FilterBox.".concat(this.filterType,"Actions"))),this.exportPublicMethods({getFilterValue:this.getFilterValue.bind(this),isPinned:this.isPinned.bind(this),isEmpty:this.isEmpty.bind(this)})}var t,r,n,i=e.prototype;return i.getFilterValue=function(){throw new Error("DEFINE THIS IN SUBCLASS")},i.processFilters=function(){throw new Error("DEFINE THIS IN SUBCLASS")},i.pinFilter=function(){throw new Error("DEFINE THIS IN SUBCLASS")},i.updateFilters=function(e){var t=e.filters,r=e.options;(0!==t.length||r.clearEmpty)&&(this.removeFilters(),this.processFilters(t,this.updateFilter.bind(this)))},i.removeFilters=function(){this.setState({state:{}})},i.addFilters=function(e){this.processFilters(e,this.addFilter.bind(this))},i.addFilter=function(e){var t=e.filterGroup,r=e.filter;this.setState({state:Ht(Ht({},this.state),{},Jt({},t.id,{filterGroup:t,filter:r}))}),this.isPinned(t.id)&&this.pinFilter(t.id)},i.updateFilter=function(e){var t=e.filterGroup,r=e.filter;this.setState({state:Ht(Ht({},this.state),{},Jt({},t.id,{filterGroup:t,filter:[].concat(zt(this.state[t.id]?this.state[t.id].filter:[]),zt(r))}))}),this.isPinned(t.id)&&this.pinFilter(t.id)},i.removeFilter=function(e){var t=e.filterGroup,r=Ht({},this.state);delete r[t.id],this.setState({state:Ht({},r)})},i.swapFilter=function(e){var t=e.filterGroup,r=e.filter,n=e.otherFilterGroupId,i=ht().omit(this.state,n);this.setState({state:Ht(Ht({},i),{},Jt({},t.id,{filterGroup:t,filter:r}))}),this.isPinned(n)&&(this.pinFilter(t.id),this.unPinFilter(n))},i.isEmpty=function(){return ht().isEmpty(this.state)},i.isPinned=function(e){return!!localStorage.getItem(this._getLocalStorageKey(e))},i.unPinFilter=function(e){localStorage.removeItem(this._getLocalStorageKey(e))},i._getLocalStorageKey=function(e){var t=Services.Flux.getStore("PersonCurrentStore").getAccountCenterId();return"pinnedFilters_".concat(this.filterType,"_").concat(t,"_").concat(e)},t=e,(r=[{key:"filterType",get:function(){throw new Error("DEFINE THIS IN SUBCLASS")}}])&&Yt(t.prototype,r),n&&Yt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(r),!0).forEach(function(t){er(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function er(e,t,r){return(t=rr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rr(n.key),n)}}function rr(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function nr(e,t){return nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nr(e,t)}var ir=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,nr(t,r);var i=n.prototype;return i.processFilters=function(e,t){ht().each(e,function(e){t({filterGroup:{id:"backgroundCheck",name:"BG Check"},filter:e})})},i.updateFilter=function(e){var t=e.filterGroup,r=e.filter;this.setState({state:Xt(Xt({},this.state),{},er({},t.id,{filterGroup:t,filter:Xt(Xt({},this.state[t.id]?this.state[t.id].filter:{}),r)}))}),this.isPinned(t.id)&&this.pinFilter(t.id)},i.pinFilter=function(e){try{var t=this.state[e].filter;localStorage.setItem(this._getLocalStorageKey(e),JSON.stringify(t))}catch(r){}},i.getFilterValue=function(e){var t=this.state[e];if(!t)return"";var r=t.filter.backgroundCheck;return Services.Constants.People.FilterBox.BACKGROUND_CHECK_OPTIONS[r]},function(e,t,r){t&&tr(e.prototype,t),r&&tr(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"filterType",get:function(){return"BackgroundCheck"}}]),n}(Zt),or=ir;function ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(r),!0).forEach(function(t){cr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cr(e,t,r){return(t=lr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ur(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lr(n.key),n)}}function lr(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function fr(e,t){return fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fr(e,t)}var dr=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,fr(t,r);var i=n.prototype;return i.processFilters=function(e,t){var r=Services.Constants.People.FilterBox.DATE_GROUPS;ht().each(e,function(e){ht().each(e,function(e,n){var i,o,a=ht().find(r,{id:n}),s=a.id,c=a.name,u=e.interval,l=e.serviceTypeId;"past-day"===u?(i=vt()().subtract(1,"day").toDate(),o=vt()().toDate()):"past-week"===u?(i=vt()().subtract(7,"days").toDate(),o=vt()().toDate()):"past-month"===u?(i=vt()().subtract(1,"month").toDate(),o=vt()().toDate()):(i=vt()(e.starts).toDate(),o=vt()(e.ends).toDate()),t({filterGroup:{id:s,name:c},filter:{interval:u,starts:i,ends:o,serviceTypeId:l}})})})},i.updateFilter=function(e){var t=e.filterGroup,r=e.filter;this.setState({state:sr(sr({},this.state),{},cr({},t.id,{filterGroup:t,filter:sr(sr({},this.state[t.id]?this.state[t.id].filter:{}),r)}))}),this.isPinned(t.id)&&this.pinFilter(t.id)},i.pinFilter=function(e){try{var t=this.state[e],r=cr({},t.filterGroup.id,t.filter);localStorage.setItem(this._getLocalStorageKey(e),JSON.stringify(r))}catch(n){}},i.getFilterValue=function(e){var t=this.state[e].filter,r=t.interval,n=t.starts,i=t.ends,o=ht().find(Services.Constants.People.FilterBox.DATE_INTERVALS,{id:r}).name,a=this._formatDate(n),s=this._formatDate(i);return"between-dates"===r?"".concat(a," - ").concat(s):"after-date"===r?"after ".concat(a):"before-date"===r?"before ".concat(a):"never-or-before"===r?"never or before ".concat(a):"select-date"===r?"on ".concat(a):"".concat(o)},i._formatDate=function(e){return vt()(e).format("MMM DD, YYYY")},function(e,t,r){t&&ur(e.prototype,t),r&&ur(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"filterType",get:function(){return"Dates"}}]),n}(Zt),pr=dr,hr=r(74916);function mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(r),!0).forEach(function(t){yr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yr(e,t,r){return(t=br(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,br(n.key),n)}}function br(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function Sr(e,t){return Sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sr(e,t)}var wr=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Sr(t,r);var i=n.prototype;return i.processFilters=function(e,t){var r,n=Services.Flux.getStore("People.FilterBox.PermissionsStore").getServiceTypes(),i=Services.Constants.People.FilterBox,o=i.MAX_PERMISSIONS,a=i.GENERAL_PERMISSIONS,s=i.SONG_PERMISSIONS,c=i.MEDIA_PERMISSIONS,u=(yr(r={},o,"Highest"),yr(r,a,"People and Plans"),yr(r,s,"Songs"),yr(r,c,"Media"),r);ht().each(e,function(e){ht().each(e,function(e,r){var i=parseInt(r),o=u[i]||ht().first(ht().find(n,function(e){return e[1]===i}));t({filterGroup:{id:i,name:o},filter:e})})})},i.updateFilter=function(e){var t=e.filterGroup,r=e.filter;this.setState({state:vr(vr({},this.state),{},yr({},t.id,{filterGroup:t,filter:vr(vr({},this.state[t.id]?this.state[t.id].filter:{}),r)}))}),this.isPinned(t.id)&&this.pinFilter(t.id)},i.pinFilter=function(e){try{var t=this.state[e],r=yr({},t.filterGroup.id,t.filter);localStorage.setItem(this._getLocalStorageKey(e),JSON.stringify(r))}catch(n){}},i.getFilterValue=function(e){var t=this.state[e].filter,r=t.comparator,n=t.permission,i=ht().find(Services.Constants.People.FilterBox.PERMISSION_COMPARATORS,{id:r}).name,o=ht().find(hr.lw.PERMISSIONS,{id:parseInt(n)}).name;return"".concat(i," ").concat(o)},function(e,t,r){t&&gr(e.prototype,t),r&&gr(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"filterType",get:function(){return"Permissions"}}]),n}(Zt),Or=wr;function Pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _r(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Er(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jr(n.key),n)}}function jr(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function Tr(e,t){return Tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tr(e,t)}var Ir=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Tr(t,r);var i=n.prototype;return i.processFilters=function(e,t){var r=Services.Flux.getStore("People.FilterBox.TeamsStore").getTeams(),n=this._positions(r),i=ht().flatten(e);i.length&&t({filterGroup:{id:0,name:"Positions",positions:n},filter:i})},i._positions=function(e){return ht().flatMap(e,function(e){var t=e.name,r=e.serviceTypeNames;return e.positions.map(function(e){var n=Pr(e,2),i=n[0],o=n[1];return{teamName:t,serviceTypeNames:r,name:i,id:o}})})},i.pinFilter=function(e){try{var t=this.state[e].filter;localStorage.setItem(this._getLocalStorageKey(e),JSON.stringify(t))}catch(r){}},i.getFilterValue=function(){var e=Services.Flux.getStore("People.FilterBox.TeamsStore").getTeams(),t=this._positions(e),r=(this.state[0]||{}).filter,n=void 0===r?[]:r;return ht()(t).intersectionWith(n,function(e,t){return e.id===t}).sortBy(["serviceTypeNames","teamName","name"]).map(function(e){var t,r=e.name,n=e.teamName;return"".concat(r,"-").concat((t=n,ht()(t.toUpperCase()).clean().split(/[\s-\/]/).map(0).join("")))}).join(", ")},function(e,t,r){t&&Er(e.prototype,t),r&&Er(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"filterType",get:function(){return"Positions"}}]),n}(Zt),Cr=Ir;function Ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(r),!0).forEach(function(t){kr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ar(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function kr(e,t,r){return(t=Lr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lr(n.key),n)}}function Lr(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function Fr(e,t){return Fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fr(e,t)}var Dr=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Fr(t,r);var i=n.prototype;return i.processFilters=function(e,t){ht().each(e,function(e){t({filterGroup:{id:"rehearsalTeam",name:"Rehearsal Team"},filter:e})})},i.updateFilter=function(e){var t=e.filterGroup,r=e.filter;this.setState({state:xr(xr({},this.state),{},kr({},t.id,{filterGroup:t,filter:xr(xr({},this.state[t.id]?this.state[t.id].filter:{}),r)}))}),this.isPinned(t.id)&&this.pinFilter(t.id)},i.pinFilter=function(e){try{var t=this.state[e].filter;localStorage.setItem(this._getLocalStorageKey(e),JSON.stringify(t))}catch(r){}},i.getFilterValue=function(e){var t=this.state[e];if(!t)return"";var r=t.filter.rehearsalTeam;return Services.Constants.People.FilterBox.REHEARSAL_TEAM_OPTIONS[r]},function(e,t,r){t&&Nr(e.prototype,t),r&&Nr(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"filterType",get:function(){return"RehearsalTeam"}}]),n}(Zt),Mr=Dr;function Rr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ur(n.key),n)}}function Ur(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function Br(e,t){return Br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Br(e,t)}var Gr=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Br(t,r);var i=n.prototype;return i.processFilters=function(e,t){var r=Services.Flux.getStore("People.FilterBox.TagsStore").getTagGroups();ht().each(e,function(e){t({filterGroup:{id:Services.Constants.People.FilterBox.TAG_GROUPS_FILTER_GROUP_ID,name:"TagGroups",tagGroups:r},filter:e})})},i.pinFilter=function(e){try{var t=this.state[e].filter;localStorage.setItem(this._getLocalStorageKey(e),JSON.stringify(t))}catch(r){}},i.getFilterValue=function(){var e=Services.Flux.getStore("People.FilterBox.TagsStore").getTagGroups(),t=this.state[0];if(!t)return"";var r=t.filter;return r.length===e.length?"Any":ht().compact(r.map(function(t){var r=ht().find(e,function(e){return e.id===t});return r?r.name:""})).join(", ")},function(e,t,r){t&&Rr(e.prototype,t),r&&Rr(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"filterType",get:function(){return"TagGroups"}}]),n}(Zt),Vr=Gr;function Wr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zr(n.key),n)}}function zr(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function qr(e,t){return qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qr(e,t)}var $r=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,qr(t,r);var i=n.prototype;return i.processFilters=function(e,t){var r=Services.Flux.getStore("People.FilterBox.TagsStore").getTagGroups();ht().each(e,function(e){var n=ht().find(r,function(t){return ht().intersection(ht().map(t.tags,function(e){return e[1]}),e.map(Math.abs)).length});if(n){var i=n.id,o=n.name,a=n.tags;t({filterGroup:{id:i,name:o,tags:a},filter:e})}})},i.pinFilter=function(e){try{var t=this.state[e].filter;localStorage.setItem(this._getLocalStorageKey(e),JSON.stringify(t))}catch(r){}},i.getFilterValue=function(e){var t=this.state[e];if(!t)return"";var r=t.filterGroup.tags,n=t.filter;if(ht().isEqual(n.map(function(e){return Math.abs(e)}).sort(),r.map(function(e){return e[1]}).sort())){if(ht().every(n,function(e){return e>0}))return"Any";if(ht().every(n,function(e){return e<0}))return"None"}var i=[],o=[];return ht().each(n,function(e){if(e>0){var t=ht().find(r,function(t){return t[1]===e});t&&i.push(t[0])}else{var n=ht().find(r,function(t){return t[1]===Math.abs(e)});n&&o.push(n[0])}}),i.length>0&&0===o.length?i.sort().join(", "):0===i.length&&o.length>0?"Not ".concat(o.sort().join(", ")):"".concat(i.sort().join(", ")," | Not ").concat(o.sort().join(", "))},function(e,t,r){t&&Wr(e.prototype,t),r&&Wr(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"filterType",get:function(){return"Tags"}}]),n}(Zt),Hr=$r;function Jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(r),!0).forEach(function(t){Kr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Kr(e,t,r){return(t=Qr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qr(n.key),n)}}function Qr(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function Xr(e,t){return Xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xr(e,t)}var en=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Xr(t,r);var i=n.prototype;return i.processFilters=function(e,t){ht().each(e,function(e){t({filterGroup:{id:"teamLeader",name:"Team Leader"},filter:e})})},i.updateFilter=function(e){var t=e.filterGroup,r=e.filter;this.setState({state:Yr(Yr({},this.state),{},Kr({},t.id,{filterGroup:t,filter:Yr(Yr({},this.state[t.id]?this.state[t.id].filter:{}),r)}))}),this.isPinned(t.id)&&this.pinFilter(t.id)},i.pinFilter=function(e){try{var t=this.state[e].filter;localStorage.setItem(this._getLocalStorageKey(e),JSON.stringify(t))}catch(r){}},i.getFilterValue=function(e){var t=this.state[e];if(!t)return"";var r=t.filter.teamLeader;return Services.Constants.People.FilterBox.TEAM_LEADER_OPTIONS[r]},function(e,t,r){t&&Zr(e.prototype,t),r&&Zr(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"filterType",get:function(){return"TeamLeader"}}]),n}(Zt),tn=en;function rn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nn(n.key),n)}}function nn(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function on(e,t){return on=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},on(e,t)}var an=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,on(t,r);var i=n.prototype;return i.processFilters=function(e,t){var r=Services.Flux.getStore("People.FilterBox.TeamsStore").getTeams();ht().each(e,function(e){var n=ht().find(r,function(t){return ht().intersection(ht().map(t.positions,function(e){return e[1]}),e.map(Services.Utils.FilterBox.abs)).length});if(n){var i=n.id,o=n.name,a=n.positions;t({filterGroup:{id:i,name:o,positions:a},filter:e})}})},i.pinFilter=function(e){try{var t=this.state[e].filter;localStorage.setItem(this._getLocalStorageKey(e),JSON.stringify(t))}catch(r){}},i.getFilterValue=function(e){var t=this.state[e];if(!t)return"";var r=t.filterGroup.positions,n=t.filter;if(ht().isEqual(n.map(Services.Utils.FilterBox.abs).sort(),r.map(function(e){return e[1]}).sort())){if(ht().every(n,Services.Utils.FilterBox.isPositive))return"Any";if(ht().every(n,Services.Utils.FilterBox.isNegative))return"None"}var i=[],o=[];return ht().each(n,function(e){if(Services.Utils.FilterBox.isPositive(e)){var t=ht().find(r,function(t){return t[1]===e});t&&i.push(t[0])}else{var n=ht().find(r,function(t){return t[1]===Services.Utils.FilterBox.abs(e)});n&&o.push(n[0])}}),i.length>0&&0===o.length?i.sort().join(", "):0===i.length&&o.length>0?"Not ".concat(o.sort().join(", ")):"".concat(i.sort().join(", ")," | Not ").concat(o.sort().join(", "))},function(e,t,r){t&&rn(e.prototype,t),r&&rn(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"filterType",get:function(){return"TeamPositions"}}]),n}(Zt),sn=an;function cn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,un(n.key),n)}}function un(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function ln(e,t){return ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ln(e,t)}var fn=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,ln(t,r);var i=n.prototype;return i.processFilters=function(e,t){var r=Services.Flux.getStore("People.FilterBox.TeamsStore").getTeams();ht().each(e,function(e){t({filterGroup:{id:Services.Constants.People.FilterBox.TEAMS_FILTER_GROUP_ID,name:"Teams",teams:r},filter:e})})},i.pinFilter=function(e){try{var t=this.state[e].filter;localStorage.setItem(this._getLocalStorageKey(e),JSON.stringify(t))}catch(r){}},i.getFilterValue=function(){var e=Services.Flux.getStore("People.FilterBox.TeamsStore").getTeams(),t=this.state[0];if(!t)return"";var r=t.filter,n=Services.Flux.getStore("People.FilterBox.TeamsStore").getMyTeams();if(ht().isEqual(n.sort(),r.sort())&&0!==n.length)return"My Teams";var i=Services.Flux.getStore("People.FilterBox.TeamsStore").getTeamsILead();if(ht().isEqual(i.sort(),r.sort())&&0!==i.length)return"Any I Lead";if(0===i.length&&0===n.length)return Services.Flux.getStore("PersonCurrentStore").canEditPeople()?"":"My Teams";if(ht().every(r,Services.Utils.FilterBox.isNegative))return"None";var o=t.filterGroup;return r.length===o.teams.length?"Any":ht().compact(r.map(function(t){var r=ht().find(e,function(e){return e.id===t});return r?r.name:""})).join(", ")},function(e,t,r){t&&cn(e.prototype,t),r&&cn(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"filterType",get:function(){return"Teams"}}]),n}(Zt),dn=fn;function pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function mn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vn(n.key),n)}}function vn(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function yn(e,t){return yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yn(e,t)}var gn=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,yn(t,r);var i=n.prototype;return i.addFilter=function(t){var r=t.text;e.prototype.addFilter.call(this,this.textFilter(r))},i.processFilters=function(e,t){var r=pn(e,1)[0];r&&t(r)},i.updateFilter=function(e){var t=e.text,r=ht().clean(t);ht().isBlank(r)||(this.setState({state:{text:this.textFilter(r)}}),this.isPinned("text")&&this.pinFilter("text"))},i.textFilter=function(e){return{filterGroup:{id:"text",name:"Text"},filter:{value:e}}},i.pinFilter=function(e){try{var t=this.state[e],r=function(e,t,r){return(t=vn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t.filterGroup.id,t.filter.value);localStorage.setItem(this._getLocalStorageKey(e),JSON.stringify(r))}catch(n){}},i.getFilterValue=function(e){return this.state[e].filter.value},function(e,t,r){t&&mn(e.prototype,t),r&&mn(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"filterType",get:function(){return"Text"}}]),n}(Zt),bn=gn;function Sn(e){return function(e){if(Array.isArray(e))return jn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||En(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(r),!0).forEach(function(t){Pn(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Pn(e,t,r){return(t=In(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||En(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(e,t){if(e){if("string"==typeof e)return jn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jn(e,t):void 0}}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Tn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,In(n.key),n)}}function In(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var Cn=function(){function e(){this.state={},this._shape={},this.bindActions(this.actions),this.exportPublicMethods({getData:this.getData.bind(this)})}var t,r,n,i=e.prototype;return i.addFilter=function(){this._update()},i.swapFilter=function(){this._update()},i.removeFilter=function(){this._update()},i.removeFilters=function(){this._update()},i.addFilters=function(){this._update()},i.updateFilters=function(){this._update()},i.getData=function(){return this.state},i._update=function(){this.waitFor(this.store),this.setState({state:this._convert(this.store.getState().state)})},i._convert=function(e){return _.reduce(e,this._transform.bind(this),this.shape)},i._partition=function(e,t,r){var n=_n(_.partition(e,Services.Utils.FilterBox.isNegative),2),i=n[0],o=n[1];return On(On({},this._combinePositive(t,o,r)),this._combineNegative(t.not,i.map(Services.Utils.FilterBox.abs),r))},i._combinePositive=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this._combine.apply(this,t.concat([function(e){return e}]))},i._combineNegative=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this._combine.apply(this,t.concat([function(e){return{not:e}}]))},i._combine=function(e,t,r,n){var i=t.join(","),o=_.compact([].concat(Sn(e[r]),[i]));return n(On(On({},e),{},Pn({},r,o)))},t=e,(r=[{key:"shape",get:function(){return this._shape},set:function(e){this._shape=e}}])&&Tn(t.prototype,r),n&&Tn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),An=Cn;function xn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kn(n.key),n)}}function kn(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function Nn(e,t){return Nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nn(e,t)}var Ln=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Nn(t,r),function(e,t,r){t&&xn(e.prototype,t),r&&xn(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"type",get:function(){return _.last(this.__proto__._storeName.split(".")).replace("Store","")}},{key:"store",get:function(){return Services.Flux.getStore("People.FilterBox.Filters.".concat(this.type,"Store"))}},{key:"actions",get:function(){return Services.Flux.getActions("FilterBox.".concat(this.type,"Actions"))}}]),n}(An),Fn=Ln;function Dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(r),!0).forEach(function(t){Rn(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Rn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Un(e,t){return Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Un(e,t)}var Bn=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Un(t,r),n.prototype._transform=function(e,t,r){var n=t.filter.backgroundCheck;return Mn(Mn({},e),{},{passed_background_check:n})},n}(Fn),Gn=Bn;function Vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(r),!0).forEach(function(t){$n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $n(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hn(e,t){return Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hn(e,t)}var Jn=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Hn(t,r);var i=n.prototype;return i._transform=function(e,t,r){var n=t.filter;return qn(qn({},e),{},$n({},"".concat(r,"[").concat(n.serviceTypeId||0,"]"),this._map(n)))},i._map=function(e){var t=e.starts,r=e.ends,n=e.interval,i=Vn([t,r].map(function(e){return vt()(e).format("YYYY-MM-DD")}),2),o=i[0],a=i[1];switch(n){case"past-day":case"past-week":case"past-month":return n;case"between-dates":return{gte:o,lte:a};case"before-date":return{lte:o};case"after-date":return{gte:o};case"never-or-before":return{lte:o,null_values:!0};default:return o}},n}(Fn),Yn=Jn;function Kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(r),!0).forEach(function(t){Qn(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Qn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xn(e,t){return Xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xn(e,t)}var ei=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Xn(t,r);var i=n.prototype;return i._transform=function(e,t,r){var n=t.filter;return Zn(Zn({},e),{},Qn({},"service_type_permissions[".concat(r,"]"),this._map(n)))},i._map=function(e){var t=e.comparator,r=e.permission;switch(t){case"gte":return{gte:r};case"lte":return{lte:r};case"exactly":return r}},n}(Fn),ti=ei;function ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ni(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ni(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ii(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(r),!0).forEach(function(t){ai(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ii(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ai(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function si(e,t){return si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},si(e,t)}var ci=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,si(t,r);var i=n.prototype;return i._transform=function(e,t,r){var n=t.filter;return oi(oi({},e),this._map(n))},i._map=function(e){return ht()(e).partition(Services.Utils.People.FilterBox.isLeadsTeamId).thru(function(e){var t=ri(e,2),r=t[0];return{position_id:t[1],position_leader_id:r.map(Services.Utils.People.FilterBox.extractLeadsTeamId)}}).omitBy(ht().isEmpty).mapValues(function(e){return[e.join(",")]}).value()},n}(Fn),ui=ci;function li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?li(Object(r),!0).forEach(function(t){di(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):li(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function di(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pi(e,t){return pi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pi(e,t)}var hi=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,pi(t,r),n.prototype._transform=function(e,t,r){var n=t.filter.rehearsalTeam;return fi(fi({},e),{},{rehearsal_team:n})},n}(Fn),mi=hi;function vi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vi(Object(r),!0).forEach(function(t){gi(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vi(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function gi(e,t,r){return(t=Si(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Si(n.key),n)}}function Si(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function wi(e,t){return wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wi(e,t)}var Oi=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,wi(t,r),n.prototype._transform=function(e,t){var r=t.filter;return yi(yi({},e),this._partition(r,e,this.id))},function(e,t,r){t&&bi(e.prototype,t),r&&bi(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"shape",get:function(){var e;return gi(e={},this.id,[]),gi(e,"not",gi({},this.id,[])),e}}]),n}(Fn),Pi=Oi;function _i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ei(n.key),n)}}function Ei(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function ji(e,t){return ji=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ji(e,t)}var Ti=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,ji(t,r),function(e,t,r){t&&_i(e.prototype,t),r&&_i(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"id",get:function(){return"tag_group_id"}}]),n}(Pi),Ii=Ti;function Ci(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ai(n.key),n)}}function Ai(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function xi(e,t){return xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xi(e,t)}var ki=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,xi(t,r),function(e,t,r){t&&Ci(e.prototype,t),r&&Ci(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"id",get:function(){return"tag_id"}}]),n}(Pi),Ni=ki;function Li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Fi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Li(Object(r),!0).forEach(function(t){Di(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Li(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Di(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mi(e,t){return Mi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mi(e,t)}var Ri=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Mi(t,r),n.prototype._transform=function(e,t,r){var n=t.filter.teamLeader;return Fi(Fi({},e),{},{team_leader:n})},n}(Fn),Ui=Ri;function Bi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Gi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bi(Object(r),!0).forEach(function(t){Vi(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bi(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Vi(e,t,r){return(t=$i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zi(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function qi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$i(n.key),n)}}function $i(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function Hi(e,t){return Hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hi(e,t)}var Ji="team_position_id",Yi="team_position_leader_id",Ki=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Hi(t,r),n.prototype._transform=function(e,t,r){var n=t.filter,i=Wi(ht().partition(n,Services.Utils.People.FilterBox.isLeadsTeamId),2),o=i[0],a=i[1],s=o.map(Services.Utils.People.FilterBox.extractLeadsTeamId),c=this._partition(s,e,Yi),u=this._partition(a,c,Ji);return Gi(Gi({},e),u)},function(e,t,r){t&&qi(e.prototype,t),r&&qi(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"shape",get:function(){var e,t=(Vi(e={},Ji,[]),Vi(e,Yi,[]),e);return Gi(Gi({},t),{},{not:Gi({},t)})}}]),n}(Fn),Zi=Ki;function Qi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xi(n.key),n)}}function Xi(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function eo(e,t){return eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eo(e,t)}var to=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,eo(t,r),function(e,t,r){t&&Qi(e.prototype,t),r&&Qi(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"id",get:function(){return"team_id"}}]),n}(Pi),ro=to;function no(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?no(Object(r),!0).forEach(function(t){oo(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):no(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ao(e,t){return ao=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ao(e,t)}var so=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,ao(t,r),n.prototype._transform=function(e,t,r){var n=t.filter.value;return io(io({},e),{},{q:n})},n}(Fn),co={BackgroundCheckStore:or,DatesStore:pr,FilterStore:Zt,PermissionsStore:Or,PositionsStore:Cr,RehearsalTeamStore:Mr,TagGroupsStore:Vr,TagsStore:Hr,TeamLeaderStore:tn,TeamPositionsStore:sn,TeamsStore:dn,TextStore:bn,Query:{BackgroundCheckStore:Gn,DatesStore:Yn,PermissionsStore:ti,PositionsStore:ui,RehearsalTeamStore:mi,TagGroupsStore:Ii,TagsStore:Ni,TeamLeaderStore:Ui,TeamPositionsStore:Zi,TeamsStore:ro,TextStore:so}};function uo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lo(e,t){return lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lo(e,t)}var fo=function(e){var t,r;function n(){var t;return(t=e.call(this)||this).exportPublicMethods({getServiceTypes:t.getServiceTypes.bind(uo(t))}),t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,lo(t,r),n.prototype.getServiceTypes=function(){return this.state.serviceTypes},n}(ze),po=fo;function ho(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mo(e,t){return mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mo(e,t)}var vo=function(e){var t,r;function n(){var t;return(t=e.call(this)||this).exportPublicMethods({getHomeFolder:t.getHomeFolder.bind(ho(t)),getTagFolders:t.getTagFolders.bind(ho(t)),getTagGroups:t.getTagGroups.bind(ho(t))}),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,mo(t,r);var i=n.prototype;return i.getHomeFolder=function(){return this.state.homeFolder},i.getTagFolders=function(){return this.state.tagFolders},i.getTagGroups=function(){return this.state.tagGroups},n}(ze),yo=vo;function go(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bo(e,t){return bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bo(e,t)}var So=function(e){var t,r;function n(){var t;return(t=e.call(this)||this).exportPublicMethods({getTeamFolders:t.getTeamFolders.bind(go(t)),getTeams:t.getTeams.bind(go(t)),getMyTeams:t.getMyTeams.bind(go(t)),getTeamsILead:t.getTeamsILead.bind(go(t))}),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,bo(t,r);var i=n.prototype;return i.getTeamFolders=function(){return this.state.teamFolders},i.getTeams=function(e){var t=this;return void 0===e?this.state.teams:"myTeams"===e?ht().filter(this.state.teams,function(e){return ht().includes(t.state.myTeams,e.id)}):ht().filter(this.state.teams,function(t){return ht().includes(t.ancestors,e)})},i.getMyTeams=function(){return this.state.myTeams},i.getTeamsILead=function(){return this.state.teamsILead},n}(ze),wo={DatesStore:Wt,Filters:co,PermissionsStore:po,TagsStore:yo,TeamsStore:So};function Oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(r),!0).forEach(function(t){_o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eo(e){return function(e){if(Array.isArray(e))return jo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return jo(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jo(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function To(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Io(e,t){return Io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Io(e,t)}var Co=function(e){var t,r;function n(){var t;return(t=e.call(this)||this).isFetching=!1,t.isLoaded=!1,t.state={people:[],unpaginated:[],totalCount:0},t.on("bootstrap",t._formatData),t.bindActions(Services.Flux.getActions("People.PeopleActions")),t.exportPublicMethods({destroy:t.destroy.bind(To(t)),getIds:t.getIds.bind(To(t)),getAcids:t.getAcids.bind(To(t)),getTotal:t.getTotal.bind(To(t)),getPeople:t.getPeople.bind(To(t)),getSelectedAcids:t.getSelectedAcids.bind(To(t))}),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Io(t,r);var i=n.prototype;return i.add=function(e){var t=this.state,r=t.people,n=t.unpaginated;this.setState({state:{unpaginated:n,people:[].concat(Eo(r),[e])}})},i.remove=function(e){var t=this.state,r=t.people,n=t.unpaginated;this.setState({state:{unpaginated:n,people:ht().reject(r,function(t){return t.id===e.id})}})},i.update=function(e){var t=this.state,r=t.people,n=t.unpaginated,i=ht().findIndex(r,function(t){return t.id===e.id});this.setState({state:{unpaginated:n,people:[].concat(Eo(r.slice(0,i)),[(0,We.Yu)(e)],Eo(r.slice(i+1)))}})},i.destroy=function(e){var t=e.id,r=this.state,n=r.people,i=r.unpaginated,o=ht().findKey(i,function(e){return e===t});o&&(o=parseInt(o,10),n=ht().reject(n,{id:o}),i=ht().omit(i,o),this.setState({state:{unpaginated:i,people:n,totalCount:ht().size(i)}}))},i.getPeople=function(){return this.state.people},i.getTotal=function(){return this.state.totalCount},i.getIds=function(){return ht().keys(this.state.unpaginated).map(function(e){return parseInt(e,10)})},i.getAcids=function(){return ht().values(this.state.unpaginated)},i.getSelectedAcids=function(){var e=Services.Flux.getStore("SelectedItemStore"),t=e?e.getIds():[];return ht()(this.state.unpaginated).pick(t).values().value()},i.addSuffixTolastName=function(e){return ht().map(e,function(e){return e.nameSuffix?Po(Po({},e),{},{lastName:"".concat(e.lastName," ").concat(e.nameSuffix)}):e})},i.fetch=function(e){var t=this;this.setState({isFetching:!0}),$.ajax({url:window.location.pathname,data:e,cache:!1,success:function(e){var r=(0,We.Yu)(e),n=r.unpaginated,i=r.people,o=r.totalCount,a=r.permissions;Services.Flux.getActions("SelectedItemActions").intersect(ht().keys(n).map(function(e){return parseInt(e,10)})),Services.Flux.getActions("People.PermissionsActions").replaceAll({permissions:a}),t.setState({isFetching:!1,isLoaded:!0,state:{unpaginated:n,people:(0,We.ZU)(t.addSuffixTolastName(i),{exclude:["lastScheduledAt"]}),totalCount:o}})}})},i._formatData=function(){this.state.people=(0,We.ZU)(this.state.people,{exclude:["lastScheduledAt"]})},n}(ze);function Ao(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(r),!0).forEach(function(t){ko(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ao(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ko(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function No(e,t){return No=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},No(e,t)}var Lo=function(e){var t,r;function n(){var t;return(t=e.call(this)||this).state={permissions:{}},t.bindActions(Services.Flux.getActions("People.PermissionsActions")),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,No(t,r);var i=n.prototype;return i.update=function(e){var t=(0,We.Yu)(e),r=t.id,n=t.maxPlanPermissionsS;this.setState({permissions:xo(xo({},this.permissions),{},ko({},r,n))})},i.replaceAll=function(e){var t=e.permissions;this.setState({permissions:t})},n}(ze),Fo=Lo,Do=["Archived","Scheduled Viewer","Viewer","Scheduler","Editor","Administrator"],Mo=function(){function e(){this.on("bootstrap",this._onBootstrap),this.exportPublicMethods({archived:this.archived.bind(this),canDelete:this.canDelete.bind(this),canDeletePlan:this.canDeletePlan.bind(this),canEditAllPeople:this.canEditAllPeople.bind(this),canEditPeople:this.canEditPeople.bind(this),canEditTeam:this.canEditTeam.bind(this),canViewAllPeople:this.canViewAllPeople.bind(this),canViewPeople:this.canViewPeople.bind(this),fileAccessPermissions:this.fileAccessPermissions.bind(this),generalPermissionsEqualOrAbove:this.generalPermissionsEqualOrAbove.bind(this),getAccountCenterId:this.getAccountCenterId.bind(this),getId:this.getId.bind(this),getMaxPermissions:this.getMaxPermissions.bind(this),getMaxPlanPermissions:this.getMaxPlanPermissions.bind(this),getOnboardings:this.getOnboardings.bind(this),getOrganizationAccountCenterId:this.getOrganizationAccountCenterId.bind(this),getPath:this.getPath.bind(this),getPersonFirstName:this.getPersonFirstName.bind(this),getPersonName:this.getPersonName.bind(this),getPhotoThumbnailUrl:this.getPhotoThumbnailUrl.bind(this),isAdmin:this.isAdmin.bind(this),isEditor:this.isEditor.bind(this),isEditorFor:this.isEditorFor.bind(this),isAdminFor:this.isAdminFor.bind(this),isCurrent:this.isCurrent.bind(this),isExactlyServiceTypeScheduledViewer:this.isExactlyServiceTypeScheduledViewer.bind(this),isServiceTypeAdministrator:this.isServiceTypeAdministrator.bind(this),isServiceTypeEditor:this.isServiceTypeEditor.bind(this),isServiceTypeScheduler:this.isServiceTypeScheduler.bind(this),isServiceTypeViewer:this.isServiceTypeViewer.bind(this),isSiteAdmin:this.isSiteAdmin.bind(this),isStaffImpersonating:this.isStaffImpersonating.bind(this),isStaffOrStaffIsImpersonating:this.isStaffOrStaffIsImpersonating.bind(this),mediaAdmin:this.mediaAdmin.bind(this),mediaEditor:this.mediaEditor.bind(this),mediaViewer:this.mediaViewer.bind(this),owner:this.owner.bind(this),permissionsEqualOrAbove:this.permissionsEqualOrAbove.bind(this),praiseChartsEnabled:this.praiseChartsEnabled.bind(this),preferredApp:this.preferredApp.bind(this),songAdmin:this.songAdmin.bind(this),songEditor:this.songEditor.bind(this),songViewer:this.songViewer.bind(this),teamsILeadIds:this.teamsILeadIds.bind(this),myTeamsIds:this.myTeamsIds.bind(this),scheduledServiceTypeIds:this.scheduledServiceTypeIds.bind(this),isUnderThirteen:this.isUnderThirteen.bind(this)})}var t=e.prototype;return t.scheduledServiceTypeIds=function(){return this.state.scheduledServiceTypeIds},t.archived=function(){return this.state.archived},t.getId=function(){return this.state.id},t.getMaxPermissions=function(){return this.state.maxPermissions},t.getMaxPlanPermissions=function(){return this.state.maxPlanPermissions},t.getPath=function(){return this.state.path},t.getAccountCenterId=function(){return this.state.accountCenterId},t.getOnboardings=function(){return this.state.onboardings},t.getOrganizationAccountCenterId=function(){return this.state.organizationAccountCenterId},t.getPersonFirstName=function(){return this.state.firstName},t.getPersonName=function(){return this.state.name},t.getPhotoThumbnailUrl=function(){return this.state.photoThumbnailUrl},t.permissionsEqualOrAbove=function(e){return this._permissionsEqualOrAbove(e,this.state.maxPlanPermissions)},t.generalPermissionsEqualOrAbove=function(e){return this._permissionsEqualOrAbove(e,this.state.generalPermissions)},t.isExactlyServiceTypeScheduledViewer=function(e){return this._isExactlyServiceTypePermission(e,"Scheduled Viewer")},t.isServiceTypeViewer=function(e){return this._isServiceTypePermission(e,"Viewer")},t.isServiceTypeScheduler=function(e){return this._isServiceTypePermission(e,"Scheduler")},t.isServiceTypeEditor=function(e){return this._isServiceTypePermission(e,"Editor")},t.isServiceTypeAdministrator=function(e){return this._isServiceTypePermission(e,"Administrator")},t.isCurrent=function(){return this.state.isCurrent},t.isEditor=function(){return this.generalPermissionsEqualOrAbove("Editor")},t.isAdmin=function(){return this.generalPermissionsEqualOrAbove("Administrator")},t.isEditorFor=function(e){return["song","arrangement","key"].includes(e.toLowerCase())?this.songEditor():"media"===e.toLowerCase()?this.mediaEditor():this.permissionsEqualOrAbove("Editor")},t.isAdminFor=function(e){return["song","arrangement","key"].includes(e.toLowerCase())?this.songAdmin():"media"===e.toLowerCase()?this.mediaAdmin():this.isAdmin()},t.isSiteAdmin=function(){return this.state.isSiteAdmin},t.canEditPeople=function(){return this.state.editPeople},t.canEditAllPeople=function(){return this.state.editAllPeople},t.canViewPeople=function(){return this.state.viewPeople},t.canViewAllPeople=function(){return this.state.viewAllPeople},t.owner=function(){return this.state.owner},t.canDelete=function(e,t){var r=this.owner(),n=this.permissionsEqualOrAbove("Scheduler"),i=parseInt(e)===this.state.accountCenterId,o=n&&i,a=this._canDeleteAnything(t);return r||o||a},t.canDeletePlan=function(e,t,r){return this.isServiceTypeAdministrator(t)||this.isServiceTypeEditor(t)&&parseInt(e)===this.state.accountCenterId},t.canEditTeam=function(e){var t,r,n;return null!==(n=(t=this.canEditTeams)[r=e.id])&&void 0!==n?n:t[r]=this._canEditTeam(e)},t.praiseChartsEnabled=function(){return this.state.praiseChartsEnabled},t.preferredApp=function(){return this.state.preferredApp},t.mediaAdmin=function(){return this.state.mediaAdmin},t.mediaEditor=function(){return this.state.mediaEditor},t.mediaViewer=function(){return this.state.mediaViewer},t.songAdmin=function(){return this.state.songAdmin},t.songEditor=function(){return this.state.songEditor},t.songViewer=function(){return this.state.songViewer},t.fileAccessPermissions=function(){return this.state.fileAccessPermissions},t.isStaffImpersonating=function(){return this.state.isStaffImpersonating},t.isStaffOrStaffIsImpersonating=function(){return this.state.isStaffOrStaffIsImpersonating},t.teamsILeadIds=function(){return this.state.teamsILeadIds},t.myTeamsIds=function(){return this.state.myTeamsIds},t.isUnderThirteen=function(){return this.state.isUnderThirteen},t._canEditTeam=function(e){var t,r=this;return _.every(e.serviceTypes,function(n){var i;return r.isServiceTypeEditor(n.id)||(null!==(i=t)&&void 0!==i?i:t=r.teamsILeadIds().includes(e.id))&&r.isServiceTypeScheduler(n.id)})},t._canDeleteAnything=function(e){return e&&this.permissionsEqualOrAbove("Administrator")},t._onBootstrap=function(){this.state=(0,We.Yu)(this.state),this.canEditTeams={}},t._permissionsEqualOrAbove=function(e,t){var r=Do.indexOf(e);return-1!==r&&Do.indexOf(t)>=r},t._isExactlyServiceTypePermission=function(e,t){return Do.indexOf(this.state.serviceTypePermissions[e])===Do.indexOf(t)},t._isServiceTypePermission=function(e,t){return Do.indexOf(this.state.serviceTypePermissions[e])>=Do.indexOf(t)},e}(),Ro=function(){function e(){this.on("bootstrap",this._onBootstrap),this.exportPublicMethods({getPreferences:this.getPreferences.bind(this)})}var t=e.prototype;return t.getPreferences=function(){return this.state},t._onBootstrap=function(){this.state=(0,We.Yu)(this.state)},e}(),Uo=["not"];function Bo(e){return function(e){if(Array.isArray(e))return Go(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Go(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Go(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Go(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Vo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(r),!0).forEach(function(t){zo(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qo=function(){function e(){this.state={},this.history=window.history,this.on("bootstrap",this._setupBrowserHistory),this.on("bootstrap",this._replaceFilters),this.on("bootstrap",this._restoreOrder),this.on("unlisten",this._resetExistingOnPopState),this.bindActions(Services.Flux.getActions("QueryActions"))}var t=e.prototype;return t.addFilter=function(){this._updateFilters()},t.removeFilter=function(){this._updateFilters()},t.swapFilter=function(){this._updateFilters()},t.refresh=function(){this._updateFilters({page:this.state.page})},t._updateFilters=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.waitFor(this.stores);var t=this.state.order,r=this.stores.reduce(function(e,t){var r=t.getData(),n=r.not,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(r,Uo);return Wo(Wo(Wo({},e),i),{},{not:Wo(Wo({},e.not),n)})},Wo({page:1,order:t},e));this.update(r)},t.update=function(e){this.setState({state:e}),this.fetch(),this._updateBrowserHistory()},t.inject=function(e){this.update(Wo(Wo({},this.state),e))},t._replace=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setState({state:e}),this.fetch(),this._replaceFilters(t)},t._replaceFilters=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};We.tN.rehydrate(this.state,e)},t._updateBrowserHistory=function(){var e;(e=history).pushState.apply(e,Bo(this._newHistory()))},t._resetExistingOnPopState=function(){window.onpopstate=this._existingOnPopState},t._setupBrowserHistory=function(){var e=this;ht().isFunction(window.onpopstate)&&(this._existingOnPopState=window.onpopstate),window.onpopstate=function(t){var r=t.state.params;r&&e._replace(r,{clearEmpty:!0}),e._existingOnPopState&&e._existingOnPopState()}},t._newHistory=function(){return[Wo(Wo({},history.state),{},{initialLoad:!history.state.params,params:this.state}),null,"".concat(location.pathname).concat(this._queryString(this.state))]},t._queryString=function(e){return ht().isEmpty(e)?"":"?".concat($.param(e))},t._restoreOrder=function(){var e=this.state.order;this.setState({state:Wo(Wo({},this.state),{},{order:this.using_default_order&&We.xB.current||e})})},e}(),$o=qo;function Ho(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jo(n.key),n)}}function Jo(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function Yo(e,t){return Yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yo(e,t)}var Ko=["Teams","Positions","TeamPositions","Tags","TagGroups","Dates","Permissions","BackgroundCheck","TeamLeader","RehearsalTeam","Text"],Zo=function(e){var t,r;function n(){var t;return t=e.call(this)||this,Ko.forEach(function(e){return t.bindActions(Services.Flux.getActions("FilterBox.".concat(e,"Actions")))}),t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Yo(t,r),n.prototype.fetch=function(){Services.Flux.getActions("People.PeopleActions").fetch.defer(this.state)},function(e,t,r){t&&Ho(e.prototype,t),r&&Ho(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"stores",get:function(){return ht().values(Services.StoreInstances.People.FilterBox.Filters.Query)}}]),n}($o),Qo=function(){function e(){this.on("bootstrap",this._onBootstrap),this.exportPublicMethods({isLeader:this.isLeader.bind(this)})}var t=e.prototype;return t.isLeader=function(e){return this.state.teamIds.indexOf(e)>-1},t._onBootstrap=function(){this.state=(0,We.Yu)(this.state)},e}(),Xo=function(){function e(){this.on("bootstrap",this._onBootstrap),this.bindActions(Services.Flux.getActions("TagsActions")),this.bindActions(Services.Flux.getActions("TeamsActions")),this.registerAsync(Services.Sources.People.TeamsSource),this.getContents=this.getContents.bind(this),this.getTeams=this.getTeams.bind(this),this.getTeamIds=this.getTeamIds.bind(this),this.getTeamByTeamId=this.getTeamByTeamId.bind(this),this.getTeamPositionIds=this.getTeamPositionIds.bind(this),this.getServiceTypeIdForTeamId=this.getServiceTypeIdForTeamId.bind(this),this.getPreferredWeeksForTeamId=this.getPreferredWeeksForTeamId.bind(this),this.showTagPositionNoCriteriaForTeamPositionId=this.showTagPositionNoCriteriaForTeamPositionId.bind(this),this.exportPublicMethods({getContents:this.getContents,getTeams:this.getTeams,getTeamIds:this.getTeamIds,getTeamByTeamId:this.getTeamByTeamId,getTeamPositionIds:this.getTeamPositionIds,getServiceTypeIdForTeamId:this.getServiceTypeIdForTeamId,getPreferredWeeksForTeamId:this.getPreferredWeeksForTeamId,showTagPositionNoCriteriaForTeamPositionId:this.showTagPositionNoCriteriaForTeamPositionId.bind(this)})}var t=e.prototype;return t.getContents=function(){return this.state},t.getTeams=function(){return this.state.teams},t.getTeamIds=function(){return ht().map(this.state.teams,"teamId")},t.getTeamByTeamId=function(e){return this.state.teams[e]},t.getTeamPositionIds=function(){return ht()(this.state.teams).map(function(e){return ht().map(e.personPositions,"teamPositionId")}).flatten().value()},t.getServiceTypeIdForTeamId=function(e){return this.state.teams[e].serviceTypeId},t.showTagPositionNoCriteriaForTeamPositionId=function(e,t){var r=ht().find(this.state.teams[e].personPositions,{teamPositionId:t}).tags;return null!==r&&ht().every(r,function(e){return ht().isEmpty(e)})},t.getPreferredWeeksForTeamId=function(e){return ht().clone(this.state.teams[e].preferredWeeks)},t.toggleAutocomplete=function(){this.state.autocomplete.showing=!this.state.autocomplete.showing},t.getTeamSuccess=function(e){var t=e.requestData,r=e.responseData,n=e.positionData,i=t.serviceTypes,o=(t.teamPositionName,t.teamPositionId,r.id),a=r.assignedDirectly,s=r.name,c=r.scheduleTo,u=(n.id,n.schedulePreference),l=n.preferredWeeks;this.state.teams[o]={teamId:parseInt(o,10),teamName:s,serviceTypes:i,splitTeam:"time"===c,assignedDirectly:a,schedulePreferences:u,preferredWeeks:l.map(function(e){return parseInt(e,10)}),regularServiceTimeIds:"time"===c?n.timePreferenceOptionIds:null}},t.getTeamFailure=function(){console.error("get team failure")},t.unpermittedActionClick=function(e){this.state.unpermittedAction=e},t.unpermittedActionDismissClick=function(){this.state.unpermittedAction=null},t.addPosition=function(e){if(!this.getInstance().isLoading()){if(this.state.teams[e.teamId]){var t=this.state.teams[e.teamId];e.regularServiceTimeIds=t.regularServiceTimeIds,e.schedulePreferences=t.schedulePreferences,e.preferredWeeks=t.preferredWeeks}else e.schedulePreferences="No preference",e.preferredWeeks=ht().range(1,6);this.getInstance().addPosition(e)}},t.addPositionSuccess=function(e){var t=this,r=e.requestData,n=e.responseData,i=window.Services.StoreInstances.People.TimePreferenceOptionsStore,o=function(){var e=r.teamId,i=r.teamPositionName,o=r.teamPositionId,a=n.id,s=t.state.teams[e];s.personPositions||(s.personPositions={}),s.personPositions[a]={id:parseInt(a,10),name:i,teamPositionId:o,tags:s.assignedDirectly?null:{}},t._teamsOrder(),t.emitChange()};this.waitFor(i);var a=this.getInstance().getTeam({requestData:r,positionData:n});a?a.then(o):o()},t.addPositionFailure=function(){console.error("add position failure")},t.updatePreferences=function(e){if(!this.getInstance().isLoading()){var t=window.Services.StoreInstances.People,r=t.PersonStore,n=t.DrawerStore.getContentsForTeamId(e.teamId),i=n.schedulePreferences,o=n.regularServiceTimeIds,a=n.preferredWeeks,s=ht().extend({},e,{teamId:e.teamId,preferredWeeks:a,regularServiceTimeIds:o,schedulePreferences:i,personId:r.getId()});this.getInstance().updatePreferences(s)}},t.updatePreferencesSuccess=function(e){var t=e.requestData.teamId,r=e.responseData,n=this.state.teams[t];n.schedulePreferences=r.schedulePreference,n.preferredWeeks=ht().map(r.preferredWeeks,function(e){return+e}),n.regularServiceTimeIds=n.splitTeam?r.timePreferenceOptionIds:null,this.state.teams[t]=n},t.updatePreferencesFailure=function(e){},t.removeDirect=function(e){this.getInstance().isLoading()||this.getInstance().removeDirect(e)},t.removeDirectSuccess=function(e){var t=e.requestData,r=(e.responseData,t.id);this._removeTeamByPersonPositionId(r),this._teamsOrder()},t.removeDirectFailure=function(e){},t.removeTagSuccess=function(e){var t=this,r=e.requestData,n=(r.updatedTagIds,r.removedTag,e.responseData,window.Services.StoreInstances.People.AffectedPositionsStore),i=window.Services.StoreInstances.TagGroupCollection.TagGroupCollectionStore;this.waitFor(i);var o=n.getAffectedPositionIds();this.state.removedTeamIds=ht()(o).map(function(e){return t._removeTeamByPersonPositionId(e)}).compact().value(),this._teamsOrder()},t._removeTeamByPersonPositionId=function(e){var t=window.Services.StoreInstances.People.TeamLeadersStore,r=null,n=ht().find(this.state.teams,function(t){return t.personPositions&&ht().find(t.personPositions,function(t){return t.id===e})}),i=n.teamId;return delete this.state.teams[i].personPositions[e],0===Object.keys(n.personPositions).length&&(t.isLeader(i)?this.state.teams[i]=this._pruneLeaderOnlyTeam(i):(delete this.state.teams[i],r=i)),r},t._pruneLeaderOnlyTeam=function(e){return ht().pick.apply(ht(),[this.state.teams[e]].concat(["teamId","teamName","serviceTypes"]))},t._teamsOrder=function(){this.state.teamsOrder=ht()(this.state.teams).sortBy(["teamName",function(e){return ht()(e.serviceTypes).map("name").sortBy().value()}]).map("teamId").value()},t._checkedRSTIds=function(e){return null===e?null:ht()(e).filter(function(e){return e.checked}).map("id").value()},t._onBootstrap=function(){this.state=(0,We.Yu)(this.state),this.state.unpermittedAction=null,this.state.autocomplete={showing:!1},this._teamsOrder();var e=window.Services.StoreInstances.People.DrawerStore;null===e||void 0===e||e.refresh()},e}(),ea=["id","serviceTypeId"];var ta={AffectedPositionsStore:Rt,DrawerStore:Bt,FilterBox:wo,PeopleStore:Co,PermissionsStore:Fo,PersonStore:Mo,SchedulePreferenceSelectOptionsStore:Ro,QueryDataCollectionStore:Pi,QueryDataStore:Fn,QueryStore:Zo,TeamLeadersStore:Qo,TeamsStore:Xo,TimePreferenceOptionsStore:function(){function e(){this.on("bootstrap",this._onBootstrap),this.bindActions(Services.Flux.getActions("TeamsActions")),this.registerAsync(Services.Sources.People.TeamsSource),this.exportPublicMethods({getRSTsByServiceTypeId:this.getRSTsByServiceTypeId.bind(this)})}var t=e.prototype;return t.getRSTsByServiceTypeId=function(e){var t=ht().filter(this.state,function(t){return t.serviceTypeId===e});return ht().sortBy(t,function(e){return vt()(e.name,"ddd HHmm")})},t.addPositionSuccess=function(e){var t=e.requestData,r=e.responseData;this.getInstance().getRegularServiceTimes({requestData:t,positionData:r})},t.getRegularServiceTimesSuccess=function(e){var t=this,r=(e.requestData,e.responseData);e.positionData;r.forEach(function(e){var r,n,i,o,a,s,c=e.id,u=e.serviceTypeId,l=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,ea);t.state[c]={id:parseInt(c,10),name:(r=l,i=r.minuteOfDay,o=r.dayOfWeek,n=o.slice(0,3),a="".concat(n.charAt(0).toUpperCase()).concat(n.substring(1).toLowerCase()),s=vt()(function(e){for(e+="";e.length<4;)e="0"+e;return e}(i),"HHmm").format("h:mma").slice(0,-1),"".concat(a," ").concat(s)),serviceTypeId:u}})},t.getRegularServiceTimesFailure=function(){console.error("regular service times failure")},t._onBootstrap=function(){this.state=(0,We.Yu)(this.state),ht().each(this.state,function(e){return e.name=e.name.replace(" @","")})},e}()};function ra(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var na=function(){function e(){this.people={},this.sortedPeople=[],this.bindActions(Services.Flux.getActions("PersonEmailerPeopleActions"))}var t=e.prototype;return t.updatePeople=function(e){return this.people=e,this.updateSortedPeople(),!1},t.addPerson=function(e){this.people=ht().extend({},this.people,ra({},e.insertId,e)),this.updateSortedPeople()},t.updatePerson=function(e){this.people[e.insertId]=e,this.updateSortedPeople()},t.removePerson=function(e){this.people=ht().omit(this.people,e.insertId),this.sortedPeople=ht().without(this.sortedPeople,e)},t.updateSortedPeople=function(){this.sortedPeople=ht().values(this.people).sort(function(e,t){return e.insertId>t.insertId?1:-1})},e}();function ia(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(r),!0).forEach(function(t){aa(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ia(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function aa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sa={People:na,SelectedTemplate:function(){function e(){this.bindActions(Services.Flux.getActions("PersonEmailerSelectedTemplateActions")),this.bindActions(Services.Flux.getActions("PersonEmailerTemplatesActions")),this._bindModalLoadHandler()}var t=e.prototype;return t.update=function(e){var t=e.id,r=e.kind;this.selectedTemplate=t,this.storedTemplates=oa(oa({},this.storedTemplates),aa({},r,t))},t.deleteTemplate=function(e){this.selectedTemplate===e.id&&(this.selectedTemplate=null)},t._initialize=function(){this.selectedTemplate=null,this.storedTemplates=this._getInitialState()},t._getInitialState=function(){return JSON.parse(localStorage.getItem("lastSelectedTemplates")||"{}")},t._bindModalLoadHandler=function(){var e=this;$(document).on("modal:load",function(){return e._initialize()})},e}(),Templates:function(){function e(){this.templates={},this.bindActions(Services.Flux.getActions("PersonEmailerTemplatesActions"))}var t=e.prototype;return t.updateTemplates=function(e){this.templates=e},t.updateTemplate=function(e){var t=ht().extend({},this.templates),r=ht().reject(this.templates[e.kind],function(t){return t.id==e.id}).concat([e]);t[e.kind]=r,this.templates=t},t.addTemplate=function(e){var t=ht().extend({},this.templates);t[e.kind]=t[e.kind].concat([e]),this.templates=t},t.deleteTemplate=function(e){var t=ht().extend({},this.templates),r=ht().reject(this.templates[e.kind],function(t){return t.id==e.id});t[e.kind]=r,this.templates=t},e.getTemplate=function(e){return ht()(this.getState().templates).values().flatten().find({id:parseInt(e,10)})},e}()};function ca(e){return function(e){if(Array.isArray(e))return ua(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ua(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ua(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var la=function(){function e(){this.bindActions(Services.Flux.getActions("ProcessingUpdatablesActions"))}var t=e.prototype;return t.add=function(e){this.setState({updatables:[].concat(ca(this.updatables),ca(ht().flatten([e]).map(function(e){return+e})))})},t.remove=function(e){this.setState({updatables:ht().difference(this.updatables,ht().flatten([e]).map(function(e){return+e}))})},e}(),fa=r(33513);function da(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?da(Object(r),!0).forEach(function(t){ha(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):da(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ha(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ma=function(){function e(){this.on("bootstrap",this._formatKeys),this.bindActions(Services.Flux.getActions("RememberedItemActions")),this.exportPublicMethods({getItems:this.getItems.bind(this)})}var t=e.prototype;return t.update=function(e){var t=e.key,r=this.state,n=r.items,i=r.prefix,o=ht().has(n,t)&&!n[t];(0,fa.F6)({url:"/me",data:{data:{attributes:{remembered_items:ha({},"".concat(i).concat(ht().snakeCase(t)),"".concat(o))}}}}),this.setState({state:pa(pa({},this.state),{},{items:pa(pa({},n),{},ha({},t,o))})})},t.getItems=function(){return this.state.items},t._formatKeys=function(){var e=this.state,t=e.items,r=e.prefix;this.state=(0,We.Yu)(pa(pa({},this.state),{},{items:ht().reduce(t,function(e,t,n){return pa(pa({},e),{},ha({},n.replace(r,""),t))},{})}))},e}();function va(e){return function(e){if(Array.isArray(e))return ya(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ya(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ya(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ga=function(){function e(){this.state=[],this.bindActions(Services.Flux.getActions("SelectedItemActions")),this.exportPublicMethods({getIds:this.getIds.bind(this),contains:this.contains.bind(this),isAllSelected:this.isAllSelected.bind(this)})}var t=e.prototype;return t.add=function(e){this.setState({state:ht().union(this.state,e)})},t.remove=function(e){this.setState({state:ht().without.apply(ht(),[this.state].concat(va(e)))})},t.replace=function(e){this.setState({state:va(e)})},t.clear=function(){this.setState({state:[]})},t.intersect=function(e){this.setState({state:ht().intersection(e,this.state)})},t.contains=function(e){return ht().includes(this.state,e)},t.getIds=function(){return this.state},t.isAllSelected=function(e){return!ht().difference(e,this.state).length},e}();function ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(r),!0).forEach(function(t){wa(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ba(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oa(e){return function(e){if(Array.isArray(e))return Pa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Pa(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pa(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var _a=function(){function e(){this.bindActions(Services.Flux.getActions("SongSidebarActions"))}var t=e.prototype;return t.addListItem=function(e){var t=this,r=this.state.active.map(function(r){var n=e[r.id];return n&&(r.items=t._sort([].concat(Oa(r.items),[n]))),r});this.setState({state:Sa(Sa({},this.state),{},{active:r})})},t.removeListItem=function(e){var t=this.state.active.map(function(t){var r=e[t.id];return r&&(t.items=t.items.filter(function(e){return e.id!==r.id})),t});this.setState({state:Sa(Sa({},this.state),{},{active:t})})},t.removeArchivedListItem=function(e){var t=e.id;this.setState({state:Sa(Sa({},this.state),{},{archived:Sa(Sa({},this.state.archived),{},{items:ht().reject(this.state.archived.items,{id:t})})})})},t.updateListItem=function(e){this.removeListItem(e),this.addListItem(e)},t._sort=function(e){return ht().sortBy(e,function(e){return e.attachable_name.toLowerCase()})},e}();function Ea(e,t){return Ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ea(e,t)}var ja=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Ea(t,r),n}(ze),Ta={SongStore:ja,SongSidebarStore:_a};function Ia(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ca(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(r),!0).forEach(function(t){Aa(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ia(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Aa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xa=function(){function e(){this.status={},this.bindActions(Services.Flux.getActions("StatusActions"))}var t=e.prototype;return t.setStatus=function(e){var t=e.type,r=e.status;this.setState({status:Ca(Ca({},this.status),{},Aa({},t,r))})},t.fadeStatus=function(e){this.status[e]&&this.setState({status:Ca(Ca({},this.status),{},Aa({},e,Ca(Ca({},this.status[e]),{},{fading:!0})))})},t.removeStatus=function(e){this.setState({status:ht().omit(this.status,e)})},e}(),ka=function(){function e(){this.state={open:!1},this.bindActions(Services.Flux.getActions("TagGroupCollectionActions")),this.bindActions(Services.Flux.getActions("TagsActions")),this.exportPublicMethods({getStatus:this.getStatus.bind(this)})}var t=e.prototype;return t.getStatus=function(){return this.state},t.toggleAutocomplete=function(){this.state.open=!this.state.open},e}(),Na=function(){function e(){this.state=this.getInitialState(),this.bindActions(Services.Flux.getActions("TagsActions")),this.bindActions(Services.Flux.getActions("TagGroupCollectionActions")),this.exportPublicMethods({getContents:this.getContents.bind(this)})}var t=e.prototype;return t.getContents=function(){return this.state},t.toggleRequiredTagWarningDrawer=function(e){var t=e.tagGroupId;this._isDrawerClosed(t)?this.state[t]=ht().extend({},e,{type:"requiredWarning"}):this._closeDrawer(t)},t.toggleTagConfirmDrawer=function(e){var t=window.Services.StoreInstances.TagGroupCollection.TagGroupCollectionStore,r=(e.id,e.tagGroupId);if(this._closeAllDrawersExcept(r),t.showRequiredWarningForTagGroupId(r))return this.toggleRequiredTagWarningDrawer({tagGroupId:r});if(e.open){var n=this.state[r];this._sameDrawerForSameTagAndTagGroup(n,e)?this._closeDrawer(r):this.state[r]=ht().extend({},e,{type:"tagConfirm"})}else this._closeDrawer(r)},t.addTagSuccess=function(e){var t=e.requestData.tagGroupId;this.state[t]||this._resetDrawer(t)},t.removeTagSuccess=function(e){var t=this,r=(e.requestData.tagGroupId,window.Services.StoreInstances.TagGroupCollection.TagGroupCollectionStore);this.waitFor(r);var n=r.getTagGroupIds();ht().map(this.state,function(e){var r=e.tagGroupId;ht().includes(n,r)?t._closeDrawer(r):delete t.state[r]})},t.getInitialState=function(){return window.Services.StoreInstances.TagGroupCollection.TagGroupCollectionStore.getTagGroupIds().reduce(function(e,t){return e[t]={},e},{})},t._closeAllDrawersExcept=function(e){ht()(this.state).filter(function(t){return t.tagGroupId!==e}).each(function(e){return e.type=null})},t._isDrawerClosed=function(e){return null===this.state[e].type},t._resetDrawer=function(e){this.state[e]={type:null}},t._closeDrawer=function(e){this.state[e].type=null},t._sameDrawerForSameTagAndTagGroup=function(e,t){return"tagConfirm"===e.type&&e.id===t.id&&e.tagGroupId===t.tagGroupId},e}(),La=Na;function Fa(e){return function(e){if(Array.isArray(e))return Da(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Da(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Da(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Da(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ma=function(){function e(){this.state=[],this.bindActions(Services.Flux.getActions("TagsActions")),this.exportPublicMethods({getTagIds:this.getTagIds.bind(this)})}var t=e.prototype;return t.getTagIds=function(){return this.state},t.addTag=function(e){var t=e.id,r=Services.StoreInstances.TagGroupCollection.TagGroupCollectionStore;this.waitFor(r),this.state=[].concat(Fa(this.state),[t])},t.addTagSuccess=function(e){this._removeFromProcessing(e)},t.addTagFailure=function(e){this._removeFromProcessing(e)},t._removeFromProcessing=function(e){var t=e.requestData.id;this.state=ht().without(this.state,t)},e}(),Ra=Ma,Ua=function(){function e(e){this.on("bootstrap",this._onBootstrap),this.exportPublicMethods({getTags:this.getTags.bind(this),getTagGroups:this.getTagGroups.bind(this)})}var t=e.prototype;return t.getTags=function(){return ht()(this.state).map(function(e){return e.tags}).flatten().sortBy(this._sort).value()},t.getTagGroups=function(){return ht()(this.state).values().sortBy(this._sort).value()},t._sort=function(e){return e.serviceTypeFolderName?"".concat(e.serviceTypeFolderName.toLowerCase()," ").concat(e.name.toLowerCase()):e.name.toLowerCase()},t._onBootstrap=function(){this.state=Services.Utils.keysToCamelCase(this.state)},e}();function Ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ga(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(r),!0).forEach(function(t){Va(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ba(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Va(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wa(e){return function(e){if(Array.isArray(e))return za(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return za(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?za(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function za(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var qa=function(){function e(){this.on("bootstrap",this._onBootstrap),this.bindActions(Services.Flux.getActions("TagsActions")),this.registerAsync(Services.Sources.TagGroupCollectionSource),this.exportPublicMethods({getTags:this.getTags.bind(this),getTagIds:this.getTagIds.bind(this),getTagGroups:this.getTagGroups.bind(this),getTagGroupIds:this.getTagGroupIds.bind(this),getExcludedTagIds:this.getExcludedTagIds.bind(this),showRequiredWarningForTagGroupId:this.showRequiredWarningForTagGroupId.bind(this)})}var t=e.prototype;return t.getTags=function(){return ht()(this.state).map(function(e){return e.tags}).flatten().value()},t.getTagIds=function(){return ht().map(this.getTags(),"id")},t.getExcludedTagIds=function(){return[this,Services.StoreInstances.TagGroupCollection.TagGroupCollectionProcessingTagStore].reduce(function(e,t){return[].concat(Wa(t.getTagIds()),Wa(e))},[])},t.getTagGroups=function(){return this.state},t.getTagGroupIds=function(){return ht().map(this.state,"id")},t.showRequiredWarningForTagGroupId=function(e){var t=this.state[e];return 1===t.tags.length&&t.required},t.getTagGroupSuccess=function(e){var t=e.responseData,r=t.id,n=t.name,i=t.required,o=t.allowMultipleSelections,a=t.serviceTypeFolderName;this.state[r]={id:parseInt(r,10),name:n,required:i,allowMultipleSelections:o,serviceTypeFolderName:a,tags:[]}},t.getTagGroupFailure=function(){console.error("add tag group failure")},t.swapMultipleSelectionTag=function(e){var t=e.selectedTagId,r=e.selectedTagName,n=e.currentTagId,i=e.tagGroupId,o=ht()(this.getTagIds()).without(n).push(t).value();this.getInstance().swapMultipleSelectionTag(Ga(Ga(Ga({},{id:t,name:r,tagGroupId:i,currentTagId:n}),e),{},{updatedTagIds:o}))},t.swapMultipleSelectionTagSuccess=function(e){var t=e.requestData;this.addTagSuccess({requestData:t});var r=t.currentTagId,n=t.tagGroupId;this.removeTagSuccess({requestData:{id:r,tagGroupId:n}}),Services.Flux.getActions("DismissiblePaneActions").toggleDismissiblePane.defer({type:null})},t.swapMultipleSelectionTagFailure=function(){console.error("swap multiple selection tag failure")},t.addTag=function(e){var t=e.id,r=e.tagGroupId,n=this.state[r];if(n&&!n.allowMultipleSelections&&n.tags.length>=1){var i=this._getDismissiblePanePayload(n,e);return Services.Flux.getActions("DismissiblePaneActions").toggleDismissiblePane.defer(i),!1}var o=Ga(Ga({},e),{updatedTagIds:[].concat(Wa(this.getExcludedTagIds()),[t])});this.getInstance().addTag(o)},t.addTagSuccess=function(e){var t=this,r=e.requestData,n=function(){var e=r.id,n=r.name,i=r.tagGroupId,o={id:e,name:n,tagGroupId:i,tagGroupName:r.tagGroupName},a=t.state[i];t.setState({state:Ga(Ga({},t.state),{},Va({},i,Ga(Ga({},a),{},{tags:[].concat(Wa(a.tags),[o])})))}),t.emitChange()},i=this.getInstance().getTagGroup({requestData:r});i?i.then(n):n()},t.addTagFailure=function(e){console.error("add tag failure")},t.removeTag=function(e){var t=Ga(Ga({},e),{updatedTagIds:ht().without(this.getTagIds(),e.id)});this.getInstance().removeTag(t)},t.removeTagSuccess=function(e){var t=e.requestData,r=t.id,n=t.tagGroupId,i=ht().filter(this.state[n].tags,function(e){return e.id!==r});0===i.length?delete this.state[n]:this.state[n].tags=i},t.removeTagFailure=function(e){console.error("remove tag failure")},t._getDismissiblePanePayload=function(e,t){var r=t.id,n=t.name,i=t.tagGroupName,o=e.tags[0];return{type:"requiredMultipleSelection",tagGroupId:e.id,tagGroupName:i,selectedTagId:r,selectedTagName:n,currentTagId:o.id,currentTagName:o.name}},t._onBootstrap=function(){this.state=Services.Utils.keysToCamelCase(this.state)},e}(),$a=r(68161),Ha=function(){function e(){this.state={tagGroupId:$a.ux},this.bindActions(Services.Flux.getActions("TagsActions")),this.bindActions(Services.Flux.getActions("TagGroupsActions")),this.exportPublicMethods({getEditingTagGroupId:this.getEditingTagGroupId.bind(this)})}var t=e.prototype;return t.getEditingTagGroupId=function(){return this.state.tagGroupId},t.editTagGroup=function(e){this._setState(e)},t.filterByFolder=function(){this._setState($a.ux)},t.upsertTagGroupSuccess=function(){this._setState($a.ux)},t.deleteTagGroupSuccess=function(){this._setState($a.ux)},t._setState=function(e){this.setState({state:{tagGroupId:e}})},e}();function Ja(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(r),!0).forEach(function(t){Ka(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ja(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ka(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Za=function(){function e(){this.state={filterBy:$a._M},this.bindActions(Services.Flux.getActions("TagGroupsActions")),this.exportPublicMethods({getFilterByState:this.getFilterByState.bind(this)})}var t=e.prototype;return t.getFilterByState=function(){return this.state.filterBy},t.filterByFolder=function(e){this.setState({state:Ya(Ya({},this.state),{},{filterBy:e})})},e}(),Qa=["id","tagGroupId"];function Xa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(r),!0).forEach(function(t){ts(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xa(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ts(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rs(e){return function(e){if(Array.isArray(e))return ns(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ns(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ns(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var is=function(){function e(){this.on("bootstrap",this._onBootstrap),this.bindActions(Services.Flux.getActions("TagsActions")),this.bindActions(Services.Flux.getActions("TagGroupsActions")),this.exportPublicMethods({getFilteredState:this.getFilteredState.bind(this),getFoldersForFilterBy:this.getFoldersForFilterBy.bind(this)})}var t=e.prototype;return t.getFilteredState=function(){var e=Services.Flux.getStore("TagGroups.FilterByStore").getFilterByState();if(e===$a._M)return this._sortByName(this.state);var t=ht().reduce(this.state,function(t,r){return e===r.serviceTypeFolderId&&(t[r.id]=r),t},{});return this._sortByName(t)},t.getFoldersForFilterBy=function(){return this._getFolders()},t.upsertTagGroupSuccess=function(e){this.state[e.id]=e},t.deleteTagGroupSuccess=function(e){this.state=ht().reduce(this.state,function(t,r){return e!==r.id&&(t[r.id]=r),t},{})},t.addTagSuccess=function(e){var t=this.state[e.tagGroupId].tags;this.state[e.tagGroupId].tags=[].concat(rs(t),[e])},t.editTagSuccess=function(e){var t=e.id,r=e.tagGroupId,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Qa),i=this.state[r].tags,o=ht().find(i,{id:t});o=es(es({},o),n)},t.removeTagSuccess=function(e){var t=e.id,r=e.tagGroupId,n=this.state[r].tags;this.state[r].tags=n.filter(function(e){return e.id!==t})},t._getFolders=function(){return ht()(this.state).map(function(e){return{id:e.serviceTypeFolderId,name:e.serviceTypeFolderOption}}).filter(function(e){var t=e.id,r=e.name;return 0!==t&&!ht().isNull(r)}).uniqBy(function(e){return e.id}).value()},t._onBootstrap=function(){this.state=(0,We.Yu)(this.state)},t._sortByName=function(e){return ht().sortBy(e,function(e){return e.name.toLowerCase()})},e}(),os={EditTagGroupStore:Ha,FilterByStore:Za,TagGroupsStore:is};function as(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ss(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?as(Object(r),!0).forEach(function(t){cs(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):as(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function us(e){return function(e){if(Array.isArray(e))return ls(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ls(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ls(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ls(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function fs(e,t){return fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fs(e,t)}var ds=function(e){var t,r;function n(){var t;return(t=e.call(this)||this).state={team:{}},t.bindActions(Services.Flux.getActions("TeamActions")),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,fs(t,r);var i=n.prototype;return i.updateTeam=function(e){this.setState({state:ht().isFunction(e)?e(this.state):(0,We.Yu)(e)})},i.upsertServiceType=function(e){this.changeServiceTypes(function(t){return[].concat(us(ht().reject(t,{id:e.id})),[e])})},i.removeServiceType=function(e){this.changeServiceTypes(function(t){return ht().reject(t,{id:e.id})})},i.changeServiceTypes=function(e){var t=this;this.updateTeam(function(r){return ss(ss({},r),{},{serviceTypes:e(t.state.serviceTypes)})})},n}(ze);function ps(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ps(Object(r),!0).forEach(function(t){ms(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ps(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ms(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vs=function(){return Services.Flux.getActions("Teams.IndexActions")},ys=function(){function e(){this.bindActions(Services.Flux.getActions("Teams.IndexActions")),this.on("bootstrap",this._onBootstrap),this.exportPublicMethods({getParams:this.getParams.bind(this)})}var t=e.prototype;return t.getParams=function(){return this.state},t.sortChange=function(e){var t=e.order;this._setState({order:t}),vs().fetch.defer(this.state)},t.pageChange=function(e){var t=e.page;this._setState({page:t}),vs().fetch.defer(this.state)},t.folderChange=function(e){var t=e.folder;this._setState({folder:t}),vs().fetch.defer(this.state)},t.nameSearch=function(e){var t=e.teamName;t!==this.state.teamName&&(this._setState({teamName:t}),vs().fetch.defer(this.state))},t._setState=function(e){this.setState({state:hs(hs({},this.state),e)})},t._onBootstrap=function(){this.state=(0,We.Yu)(this.state)},e}(),gs=ys,bs=r(25617),Ss=["folder"];function ws(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Os(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ws(Object(r),!0).forEach(function(t){Ps(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ws(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ps(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Es(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Es(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Es(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var js=ht().compose(We.ZU,We.Yu),Ts=function(){function e(){this.on("bootstrap",this._onBootstrap),this.bindActions(Services.Flux.getActions("Teams.IndexActions")),this._setState=this._setState.bind(this),this.exportPublicMethods({getIds:this.getIds.bind(this),refreshTeam:this.refreshTeam.bind(this)})}var t=e.prototype;return t.getIds=function(){return this.state.unpaginated},t.refreshTeam=function(e){var t=this,r=e.id;ht().some(this.state.teams,{id:r})&&new Services.Classes.RequestWithCredentials({url:"".concat(bs.tf,"/extended_teams"),data:{where:{id:r}}}).then(Services.Apis.Teams.Index.FetchTeams.transformResponse).then(function(e){var r=e.teams,n=_s(js(r),1)[0],i=t.state.teams.map(function(e){return e.id===n.id?n:e});t.setState({state:Os(Os({},t.state),{},{teams:i})})})},t.fetch=function(e){var t=this,r=e.folder,n=Os(Os({},function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Ss)),{},{id:r});(new Services.Apis.Teams.Index.FetchUnpaginated).fetch(n,function(e){var r=e.unpaginated,i=t._getParams(n,r.length);n.page!==i.page?Services.Flux.getActions("Teams.IndexActions").pageChange.defer({page:i.page}):(new Services.Apis.Teams.Index.FetchTeams).fetch(i,function(e){var n=e.totalCount,i=e.teams;return t._setState({totalCount:n,teams:i,unpaginated:r})})})},t._getParams=function(e,t){var r=e.page,n=e.perPage,i=this.state.unpaginated.length,o=Math.ceil(t/n);return i>t&&o<r?Os(Os({},e),{},{page:o}):e},t._setState=function(e){var t=e.teams,r=e.totalCount,n=e.unpaginated;this.setState({state:Os(Os({},this.state),{},{teams:js(t),totalCount:r,unpaginated:n})}),Services.Flux.getActions("SelectedItemActions").intersect(n)},t._onBootstrap=function(){var e=(0,We.Yu)(this.state);this.state=Os(Os({},e),{},{teams:(0,We.ZU)(e.teams)})},e}(),Is={Arrangements:st,BlockoutDates:ct,BootstrappedStore:ze,DismissiblePaneStore:dt,Files:Tt,Folders:It,Keys:xt,Medias:Nt,OrganizationStore:Dt,People:ta,PersonEmailer:sa,ProcessingUpdatablesStore:la,RememberedItemStore:ma,SelectedItemStore:ga,Songs:Ta,StatusStore:xa,TagGroupCollection:n,TagGroups:os,Teams:{Index:{FilterStore:gs,TeamsStore:Ts},TeamStore:ds},QueryDataStore:An,QueryStore:$o};e=r.hmd(e);var Cs=["__reactstandin__regenerateByEval"];function As(e,t){return As=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},As(e,t)}var xs=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,As(t,r),n.prototype.getActions=function(t){var r=e.prototype.getActions.call(this,t);if(r){r.__reactstandin__regenerateByEval;var n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(r,Cs);return n}console.warn("Cannot fetch undefined actions: ".concat(t))},n}(o());$(document).on("turbolinks:before-render",function(){Services.Flux=new xs}),Services.Flux=new xs,e.hot},2844:function(e,t,r){"use strict";r.d(t,{A:function(){return A}});var n=r(2543),i=r.n(n),o=r(33513);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){var t=e.serviceTypeId,r=e.planId,n=e.planType,o=e.planPersonId;if("PlanTemplate"===n)throw new Error("attendances do not exist on plan templates");var a=i().pluralize(i().snakeCase(n));return"/service_types/".concat(t,"/").concat(a,"/").concat(r,"/team_members/").concat(o,"/attendances")};var l=function(e){var t=e.serviceTypeId,r=e.planId,n=e.planType,o=e.planPersonId,a=e.id;if("PlanTemplate"===n)throw new Error("attendances do not exist on plan templates");var s=i().pluralize(i().snakeCase(n));return"/service_types/".concat(t,"/").concat(s,"/").concat(r,"/team_members/").concat(o,"/attendances/").concat(a)};var f=r(27657),d=function(e){var t=e.serviceTypeId,r=e.planType,n=e.planId,o=e.teamMemberId;if("PlanTemplate"===r)throw new Error("attendance do not exist on plan templates");var a=i().pluralize(i().snakeCase(r));return"/service_types/".concat(t,"/").concat(a,"/").concat(n,"/team_members/").concat(o,"/attendances/")};var p=r(25617),h=r(69500),m=function(e){var t=e.serviceTypeId,r=e.planId,n=e.planType,a=e.id,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=i().pluralize(i().snakeCase(n));return new Services.Classes.RequestWithCredentials({type:"POST",url:"".concat((0,p.lA)(),"/service_types/").concat(t,"/").concat(c,"/").concat(r,"/team_members/").concat(a,"/conflicts"),data:JSON.stringify((0,h.wJ)(s))}).then(o.SA)},v=function(e){var t=e.serviceTypeId,r=e.planId,n=e.teamMemberId,o=e.planType,a=i().pluralize(i().snakeCase(o));return"/service_types/".concat(t,"/").concat(a,"/").concat(r,"/team_members/").concat(n,"/emails")},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Jt)({url:v(e),data:t})},g=function(e){var t=e.serviceTypeId,r=e.planId,n=e.teamMemberId,o=e.planType,a=i().pluralize(i().snakeCase(o));return"/service_types/".concat(t,"/").concat(a,"/").concat(r,"/team_members/").concat(n,"/phone_numbers")},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Jt)({url:g(e),data:t})},S=function(e){var t=e.serviceTypeId,r=e.planId,n=e.teamMemberId,o=e.planType,a=i().pluralize(i().snakeCase(o));return"/service_types/".concat(t,"/").concat(a,"/").concat(r,"/team_members/").concat(n,"/plan_person_times")},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Jt)({url:S(e),data:t})},O=function(e){var t=e.serviceTypeId,r=e.planId,n=e.teamMemberId,o=e.planType,a=i().pluralize(i().snakeCase(o));return"/service_types/".concat(t,"/").concat(a,"/").concat(r,"/team_members/").concat(n,"/service_type_permissions/").concat(t)},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Jt)({url:O(e),data:t})},E=function(e){var t=e.serviceTypeId,r=e.planId,n=e.teamMemberId,i=e.planType,o=e.planPersonTimeId,a=_.pluralize(_.snakeCase(i));return"/service_types/".concat(t,"/").concat(a,"/").concat(r,"/team_members/").concat(n,"/plan_person_times/").concat(o)},j=function(e,t){return new Services.Classes.RequestWithCredentials({type:"PATCH",url:"".concat((0,p.lA)()).concat(E(e)),data:JSON.stringify((0,h.wJ)(t))}).then(o.SA)};function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function I(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=function(e,t){var r=e.serviceTypeId,n=e.planId,i=e.planType,o=void 0===i?"plan":i,a=e.id,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=_.pluralize(_.snakeCase(o));return new Services.Classes.RequestWithCredentials(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){I(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({type:"PATCH",url:"".concat((0,p.lA)(),"/service_types/").concat(r,"/").concat(c,"/").concat(n,"/team_members/").concat(a),data:JSON.stringify((0,h.wJ)(t))},s))},A={createAttendance:function(e,t){var r=t.planPersonId,n=t.planTimeId;return(0,o.bE)({url:u(s(s({},e),{},{planPersonId:r})),data:{data:{attributes:{},relationships:{plan_time:{data:{id:n,type:"PlanTime"}}}}}})},deleteAttendance:function(e){return(0,o.zr)({url:l(e)})},deleteTeamMember:f.A,fetchAttendances:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Jt)({url:d(e),data:t})},fetchConflicts:m,fetchEmails:y,fetchPhoneNumbers:b,fetchPlanPersonTimes:w,fetchServiceTypePermission:P,updatePlanPersonTime:j,updateTeamMember:C}},3140:function(e,t,r){"use strict";r.r(t),r.d(t,{AddFileModal:function(){return n.default},Amazon:function(){return i.default},DeletePlanFileButton:function(){return o.default},EditFileModal:function(){return a.default},Error:function(){return s.default},Itunes:function(){return c.default},LicenseAdministrator:function(){return u.default},Loader:function(){return l.default},PER_PAGE:function(){return d.default},Pager:function(){return f.default},PraiseCharts:function(){return p.default},PrevSaveNext:function(){return h.default},Results:function(){return m.default},ShowMoreOrLess:function(){return v.default},Spotify:function(){return y.default},Vimeo:function(){return g.default},YouTube:function(){return b.default}});var n=r(41316),i=r(2482),o=r(44600),a=r(80051),s=r(302),c=r(33676),u=r(7110),l=r(63017),f=r(88615),d=r(16697),p=r(16207),h=r(51363),m=r(66842),v=r(44802),y=r(47130),g=r(88660),b=r(80381)},3515:function(e,t,r){"use strict";r.r(t);r(72387);var n=r(96540),i=r(52306),o=r.n(i)()({displayName:"LiveSeparator",getInitialState:function(){return{dragging:!1}},componentDidMount:function(){$(window).on("mousemove",this.handleMouseMove).on("mouseup",this.handleMouseUp).on("touchmove",this.handleTouchMove).on("touchend",this.handleTouchEnd)},componentWillUnmount:function(){$(window).off("mousemove",this.handleMouseMove).off("mouseup",this.handleMouseUp).off("touchmove",this.handleTouchMove).off("touchend",this.handleTouchEnd)},render:function(){return n.createElement("div",{className:"LiveSeparator",onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown},n.createElement("span",{className:"icon-live-drag-dots-horizontal"}))},handleMouseDown:function(e){this.setState({dragging:!0}),e.preventDefault()},handleMouseMove:function(e){this.state.dragging&&this.props.onDrag(e.clientY)},handleMouseUp:function(){this.setState({dragging:!1})},handleTouchEnd:function(){this.handleMouseUp()},handleTouchMove:function(e){var t;this.state.dragging&&e.originalEvent&&(t=e.originalEvent.touches[0])&&this.props.onDrag(t.clientY)}});t.default=o},4626:function(e,t,r){"use strict";r.r(t);var n=r(15233),i=r(11289),o=r(96540),a=r(52306),s=r.n(a),c=r(90172),u=r.n(c),l=r(84743),f=r.n(l),d=r(84573),p=r(17360),h=s()({displayName:"LivePlanListItem",mixins:[n.A],render:function(){return o.createElement("tr",{className:this.getClassNames()},this.isHeader()?this.renderHeaderItem():null,this.isOtherItem()?this.renderItemTime():null,this.isOtherItem()?this.renderItemTitle():null)},renderHeaderItem:function(){return o.createElement("td",{colSpan:"2"},this.props.item.title)},renderItemTime:function(){return o.createElement("td",{className:"LivePlanListItem-length"},o.createElement("span",{className:"LivePlanListItem-length__inner"},this.renderTime()))},renderItemTitle:function(){return o.createElement("td",null,o.createElement("span",{className:"LivePlanListItem-title",onClick:this.handleClick},this.props.item.title))},renderTime:function(){return this.isEditable()?o.createElement(i.default,{value:this.getTime(),onChange:this.props.onTimeChange}):o.createElement("span",null,this.getTime())},getClassNames:function(){return u()({LivePlanListItem:!0,"is-header":this.props.item.is_header,"is-current":this.props.current,"is-recorded":this.isRecorded()&&!this.props.current,"is-editable":this.isEditable(),"is-over":this.isOver()&&!this.props.current,"is-last":this.props.last})},getTime:function(){if("planned_time"===this.props.mode||"projected_time"===this.props.mode&&this.props.pit&&this.props.pit.live_start){var e,t;if(e=this.props.current&&this.props.pit&&(t=this.props.pit.live_start)?f()((0,d.A)(t)):this.props.actual_start||this.props.planned_start)return e.format((0,p.A)({withSeconds:!0}))}else{if("projected_time"!==this.props.mode)return this.duration().format("m:ss",{trim:!1});if(this.props.projected_start)return this.props.projected_start.format((0,p.A)({withSeconds:!0}))}},handleClick:function(){this.props.onClick(this.props.item)},isHeader:function(){return this.props.item.is_header},isOver:function(){return"end"!==this.props.item.id&&this.duration().as("seconds")>this.props.item.length},isRecorded:function(){return this.props.pit&&this.props.pit.live_start},isOtherItem:function(){return!this.props.item.is_header},isEditable:function(){return this.isRecorded()&&-1!==["planned_time","projected_time"].indexOf(this.props.mode)}});t.default=h},5201:function(e,t,r){"use strict";var n=r(2543),i=r.n(n),o=r(25617);t.A=function(e){return new Services.Classes.RequestWithCredentials({type:"DELETE",url:(t=e,r=t.serviceTypeId,n=t.planType,a=t.planId,s=t.id,c=i().pluralize(i().snakeCase(n)),"".concat((0,o.lA)(),"/service_types/").concat(r,"/").concat(c,"/").concat(a,"/items/").concat(s))});var t,r,n,a,s,c}},5631:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(52306),s=r.n(a),c=r(35416);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f=s()({displayName:"LiveDropdown",mixins:[c.A],getDefaultProps:function(){return{className:"LiveToolbar-control"}},getInitialState:function(){return{expanded:!1}},render:function(){return o.createElement("div",{className:"".concat(this.props.className," dropdown-group ").concat(this.state.expanded?"active":"")},o.createElement("div",{className:"dropdown-trigger btn",onClick:this.handleClick},this.getCollapsedLabel(),"\xa0 ",o.createElement("span",{className:"icon-live-caret-down icon-right"})),o.createElement("ul",{className:"dropdown-menu",style:{display:this.state.expanded?"block":"none"}},this.renderRows()))},renderRow:function(e,t){var r=t.label,n=t.description;return o.createElement("li",{key:e},o.createElement("span",{title:n,onClick:i().partial(this.handleItemClick,e),className:e===this.props.selected?"active":""},e===this.props.selected?this.props.icon:null,r))},renderRows:function(){var e=this;return i().toPairs(this.props.options).map(function(t){var r=u(t,2),n=r[0],i=r[1];return e.renderRow(n,i)})},getCollapsedLabel:function(){if("function"===typeof this.props.label)return this.props.label(this.props.selected);var e=this.props.options[this.props.selected];return e?e.collapsedLabel||e.label:void 0},handleBlur:function(){this.setState({expanded:!1})},handleClick:function(){this.setState({expanded:!this.state.expanded})},handleItemClick:function(e){this.props.onChange(e),this.setState({expanded:!1})},_isBlurable:function(){return this.state.expanded}});t.default=f},5982:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i)()({displayName:"LivePlanItemSequenceRow",render:function(){return n.createElement("tr",{className:"LivePlanItemNote"},n.createElement("td",{className:"LivePlanItemNote-category"},"Sequence"),n.createElement("td",{className:"LivePlanItemNote-message"},this.props.sequence))}});t.default=o},6434:function(e,t,r){"use strict";r.r(t);var n=r(35259),i=r(17987),o=r(96540);function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}var s=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,a(t,r),n.prototype.render=function(){return o.createElement("div",null,this.props.children)},n}(o.Component),c=(0,i.DragDropContext)(n)(s);t.default=c},6476:function(e,t,r){"use strict";r.d(t,{S:function(){return n}});var n=6e4},7110:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var n=r(69500);function i(e){var t=e.name;return React.createElement(n.VJ,{defaultValue:t,onPersonSelect:function(e,t){var r=t.item.id;$("#file_license_administrator_id").val(r)},autocompleteOptions:{getParams:function(){return{select:"editor_at_all"}}}})}},8533:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i),a=r(90172),s=r.n(a),c=o()({displayName:"LiveVideoControlFeedDropdownInput",getClassSet:function(){return s()({LiveVideoControlFeedDropdown__input:!0,"zomg-can-we-please-stop-the-cascading-madness":!0})},render:function(){return n.createElement("div",null,n.createElement("input",{className:this.getClassSet(),placeholder:"Paste new embed code",type:"text",ref:"input"}),n.createElement("a",{className:"LiveVideoControlFeedDropdown__info",href:"https://pcoservices.zendesk.com/hc/en-us/articles/115000370668-Services-LIVE#add_video",target:"_blank",rel:"noopener noreferrer",children:"?"}),n.createElement("input",{className:"LiveVideoControlFeedDropdown__button",type:"submit",value:"Save"}))}});t.default=c},9465:function(e,t,r){"use strict";var n=r(33513);t.A=function(e){var t=e.songId,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.Jt)({url:"/songs/".concat(t,"/arrangements"),data:r})}},10076:function(e,t,r){"use strict";r.r(t),r.d(t,{Action:function(){return n.default},Attachable:function(){return i.default},DragDropFile:function(){return o.default},DragDropFileList:function(){return a.default},DragDropFilePreview:function(){return s.default},DraggableFileLink:function(){return c.default},EmptyState:function(){return u.default},File:function(){return l.default},FileIcon:function(){return f.default},Less:function(){return d.default},More:function(){return p.default},UploadableFile:function(){return h.default}});var n=r(87288),i=r(76383),o=r(83743),a=r(93671),s=r(53411),c=r(31289),u=r(48260),l=r(40436),f=r(385),d=r(52323),p=r(83179),h=r(17585)},10141:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(34738),s=r(22342),c=["onChange","preferences","schedulePreferences"],u=["teamId","preferredWeeks","onChange"],l=["fluid","preferences","preferredWeeks","schedulePreferences","teamId","onSchedulePreferencesChange","onPreferredWeeksChange"];function f(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var v=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).renderOptionGroup=function(e,r){var n=d(e,2),i=n[0],s=n[1];return o.createElement(a.A.OptionGroup,{key:r,title:i},s.map(t.renderOption))},t}h(t,e);var r=t.prototype;return r.renderOption=function(e,t){return o.createElement(a.A.Option,{key:t,value:e},e)},r.render=function(){var e=this.props,t=e.onChange,r=e.preferences,n=e.schedulePreferences,i=f(e,c);return o.createElement(a.A,Object.assign({value:n,onChange:t,popoverProps:{shouldFlip:!0}},i),r.map(this.renderOptionGroup))},t}(o.Component),y=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).renderSelectedWeeks=function(){var e=t.props.preferredWeeks;return 0===e.length?"Preferred Weeks":1===e.length?"1 Preferred Week":5===e.length?"All weeks":"".concat(e.length," Preferred Weeks")},t}return h(t,e),t.prototype.render=function(){var e=this,t=this.props,r=(t.teamId,t.preferredWeeks),n=t.onChange,s=f(t,u);return o.createElement(a.A,Object.assign({multiple:!0,emptyValue:o.createElement(a.A.Value,null,"Preferred Weeks"),renderValue:function(){return o.createElement(a.A.Value,null,e.renderSelectedWeeks())},value:r,onChange:n,popoverProps:{shouldFlip:!0}},s),i().range(1,6).map(function(e){return o.createElement(a.A.Option,{key:e,value:e},i().ordinalize(e))}))},t}(o.Component);t.default=function(e){var t=e.fluid,r=e.preferences,n=e.preferredWeeks,i=e.schedulePreferences,a=e.teamId,c=e.onSchedulePreferencesChange,u=e.onPreferredWeeksChange,d=f(e,l);return o.createElement(s.I,Object.assign({axis:"horizontal",grow:t?1:void 0,spacing:1},d),o.createElement(v,{grow:t?1:void 0,shrink:t?1:void 0,preferences:r,schedulePreferences:i,onChange:c}),"Choose Weeks"===i?o.createElement(y,{grow:t?1:void 0,shrink:t?1:void 0,teamId:a,preferredWeeks:n,onChange:u}):null)}},10684:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(28622),a=r(96540),s=r(52306),c=r.n(s)()({displayName:"LiveController",render:function(){return a.createElement("nav",{className:"LiveController",style:this.props.height?this.getComputedStyles():null},a.createElement("div",{className:"LiveController__inner"},a.createElement("button",{className:"LiveController-action LiveController-action--prev",disabled:!this.isControlling(),onClick:i().debounce(this.props.onPrevClick,250,!0),type:"button"},a.createElement("span",null,"Prev")),a.createElement("button",{className:"LiveController-action LiveController-action--next",disabled:!this.isControlling(),onClick:i().debounce(this.props.onNextClick,250,!0),type:"button"},a.createElement("span",null,this.getNextLabel())),a.createElement(o.default,{controlled_by:this.props.status.controlled_by,controlled_by_id:this.props.status.controlled_by_id,onClick:this.props.onControlToggle})))},getComputedStyles:function(){return{height:this.props.height+"px"}},getNextLabel:function(){return this.props.started?"Next":"Start"},isControlling:function(){return this.props.status.controlled_by_id===window.live.me.id}});t.default=c},10780:function(e,t,r){"use strict";r.r(t);var n=r(96540);t.default=function(e){var t=e.open,r=e.url,i=e.onClose;return(0,n.useEffect)(function(){return $(document).on("dialogClosed",i),t?Dialog.open(r):i(),function(){$(document).off("dialogClosed"),i()}},[t]),null}},11137:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=11137,e.exports=t},11289:function(e,t,r){"use strict";r.r(t);r(72387);var n=r(2543),i=r.n(n),o=r(96540),a=r(40961),s=r(52306),c=r.n(s)()({displayName:"LiveToggleInput",getInitialState:function(){return{editing:!1,value:this.props.value}},componentDidMount:function(){$(a.findDOMNode(this)).on("keyup","input",this.handleKeyPress)},componentWillUnmount:function(){$(a.findDOMNode(this)).off("keyup","input",this.handleKeyPress)},UNSAFE_componentWillReceiveProps:function(e){this.state.editing||e.value!==this.props.value&&this.setState({value:e.value,editing:!1})},render:function(){return this.state.editing?this.renderInput():this.renderDisplay()},renderDisplay:function(){return o.createElement("span",{onClick:this.handleClick},this.state.value)},renderInput:function(){return o.createElement("span",{className:"LiveToggleInput-edit-fields"},o.createElement("input",{ref:"input",className:"LiveToggleInput-field",value:this.state.value,onChange:this.handleChange,onBlur:this.handleSave}))},handleClick:function(){this.setState({editing:!0}),setTimeout(this._focus,10)},handleChange:function(e){this.setState({value:e.target.value})},handleKeyPress:function(e){switch(e.which||e.keyCode){case 13:this.handleSave();break;case 27:this.handleCancel();break;default:i().noop()}},handleSave:function(){-1!==[this.props.value,this.props.value.replace(/:00$/,"")].indexOf(this.state.value)||this.props.onChange(this.state.value),this.setState({editing:!1})},handleCancel:function(){this.setState({editing:!1,value:this.props.value})},_focus:function(){var e=a.findDOMNode(this.refs.input);e.focus(),e.selectionStart=e.selectionEnd=e.value.length}});t.default=c},11609:function(e,t,r){"use strict";var n=r(2543),i=r.n(n),o=r(84743),a=r.n(o),s=["archivedAt","createdAt","deletedAt","updatedAt","loggedInAt","blockoutsUpdatedAt","lastScheduledAt"];t.A=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).exclude,r=void 0===t?[]:t;return i().map(e,function(e){return i().mapValues(e,function(e,t){return e&&(n=t,~s.indexOf(n))&&!i().includes(r,t)?a()(e):e;var n})})}},12931:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(60490);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.default=function(e){var t=e.url,r=e.onClose,n=e.onSuccessResponse,c=void 0===n?i().noop:n,u=e.withLoader,l=void 0!==u&&u,f=s((0,o.useState)(l),2),d=f[0],p=f[1];return(0,a.pn)(d),(0,o.useEffect)(function(){var e=i().once(r),n=i().once(c);Services.Modal.load(t).then(function(t){p(!1),$(t.parent()).on("modal:success:response",function(e,t){return n(t)}),$(t.parent()).on("modal:close modal:submit:success",function(t){return e()})})},[]),null}},14173:function(e,t,r){"use strict";r.r(t),r.d(t,{FilesAccordion:function(){return l}});var n=r(96540),i=r(30812),o=r(69500),a=r(21725),s=r(80526);function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=function(e){var t=e.attachableKeys,r=e.selectedMedia,u=e.setSelectedMedia,l=function(e,t){return(0,o.SL)(e,t)}(e.song,e.songId).filter(function(e){var r=e.optgroup[0].value.key;return!t||!r||[].concat(c(t),c(a.GENERIC_KEYS)).includes(r)}),f=function(e){return e.toLowerCase().includes("most common")},d=l.some(function(e){var t=e.label;return f(t)});return n.createElement(i.Z,{maxHeight:"max(calc(100vh - 520px), 320px)",overflow:"auto"},l.map(function(e,t){var i,o=e.label,c=e.optgroup,l=!1,p=c[0].value.key;return d||(!(i=p)||a.GENERIC_KEYS.includes(i))?p&&!f(o)||(l=!0):(l=!0,d=!0),n.createElement(s.FilesAccordionSection,{idx:t,key:o,label:o,optgroup:c,renderOpen:l,selectedMedia:r,setSelectedMedia:u})}))}},15233:function(e,t,r){"use strict";var n=r(84573),i=r(84743),o=r.n(i),a=r(53395);r.n(a)()(o());var s={duration:function(){return this.props.length||this.endItemLength()||this.liveDuration()||this.actualDuration()||this.scheduledDuration()},endItemLength:function(){if(this.props.item&&"end"===this.props.item.id)return o().duration(this.props.item.length,"seconds")},scheduledDuration:function(){return o().duration((this.props.item||this.state&&this.state.current_item).length,"seconds")},actualDuration:function(){var e=this.props.pit||this.state&&this.state.current_pit;if(e&&e.live_start&&e.live_end)return o().duration((0,n.A)(e.live_end)-(0,n.A)(e.live_start))},liveDuration:function(){var e=this.props.pit||this.state&&this.state.current_pit;if(("undefined"===typeof this.props.current||this.props.current)&&e&&e.live_start)return o().duration((this.props.time||this.state&&this.state.time)-(0,n.A)(e.live_start))}};t.A=s},15518:function(e,t,r){"use strict";r.r(t);var n=r(11289),i=r(96540),o=r(52306),a=r.n(o)()({displayName:"LiveClockTimer",render:function(){return i.createElement("div",{className:"LiveClock-timer"},this.renderTime())},renderTime:function(){return this.props.isEditable?i.createElement("div",null,i.createElement("div",{className:"LiveToggleInput-edit-label"},"click to edit"),i.createElement(n.default,{value:this.props.time,onChange:this.props.onChange})):this.props.time}});t.default=a},16108:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var n=r(30402),i=r(15738),o=["chartProSong","checked"];function a(e){var t=e.chartProSong,r=e.checked,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,o);return React.createElement(i.A,{placement:"top-start",title:t.mtid?"":"MultiTracks does not have these charts."},React.createElement(n.A,Object.assign({disabled:!t.mtid,checked:!!t.mtid&&r},a)))}},16207:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(26922),s=r(10086),c=r(21210),u=r(88498),l=r(22342),f=r(88615),d=r(32925),p=r(62339),h=r(36576),m=r(66686),v=r(52813);function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var g=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).state={purchased:[],available:[],added:[],currentPage:1,isLoading:!0,error:null,defaultSearch:localStorage.addFileSearchTerm||"",attachableKeys:null,selectedSong:null},i().bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r),"handleChange","handleKeyUp","handleNext","handlePrevious"),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,y(t,r);var g=n.prototype;return g.componentDidMount=function(){var e=this;this.search(this.state.defaultSearch);var t=this.props,r=t.itemId,n=t.itemType,i=t.songId;"Arrangement"===n&&(0,h.A)({songId:i,arrangementId:r},{fields:{Key:"starting_key"}}).then(function(t){return e.setState({attachableKeys:t.map(function(e){return e.startingKey})})})},g.search=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;""!==e&&(this.setState({isLoading:!0,error:null}),$.ajax({type:"POST",url:"/files/praise_charts/search",data:{query:e,page:r,item_id:this.props.itemId,item_type:this.props.itemType},timeout:1e4,dataType:"json",error:function(e){var r=e.responseText,n=e.status;t.setState({isLoading:!1,error:i().omitBy({code:n,message:500!==n?JSON.parse(r).message:null},i().isNull)})},success:function(e,r,n){var i=e.available,o=e.purchased,a=e.page;t.setState({isLoading:!1,error:null,currentPage:a,purchased:o,available:i})}}))},g.handleKeyUp=function(e){var t=e.target.value;"Enter"===e.key&&""!==t&&this.search(t)},g.handleChange=function(e){var t=e.target.value;try{this.setState({defaultSearch:t}),localStorage.addFileSearchTerm=t}catch(r){}},g.navigate=function(e){this.search(this._searchInput.value,this.state.currentPage+e)},g.handlePrevious=function(){this.navigate(-1)},g.handleNext=function(){this.navigate(1)},g.renderNotLinked=function(){var e=this.props.linkUrl;return o.createElement(a.a,{marginTop:2},"To use this feature you need to"," ",o.createElement(c.N,{to:e,"data-method":"post",rel:"nofollow"},"link a PraiseCharts account")," ","to this Planning Center account.")},g.renderErrors=function(){var e=this.state.error;return o.createElement(a.a,{marginTop:2},o.createElement(v.default,e))},g.renderPurchased=function(){var e=this,t=this.state.purchased;return o.createElement("div",{className:"file-results-wrap"},o.createElement("h4",{className:"file-results-title"},"Purchased"),o.createElement("div",{className:"file-results"},t.length?t.map(function(t){return o.createElement(d.default,{key:t.arrangement_id,song:t,onSelectSong:function(){return e.setState({selectedSong:t})}})}):o.createElement("div",null,o.createElement("div",{className:"file-results-empty",style:{height:150}},o.createElement("div",{className:"center-xy"},o.createElement("h2",{className:"file-results-empty__title"},"No purchased items found"))))))},g.renderAvailable=function(){var e=this.state.available;return o.createElement("div",{className:"file-results-wrap"},o.createElement("h4",{className:"file-results-title"},"Available"),o.createElement("ul",{className:"file-results"},e.length?e.map(function(e){return o.createElement("li",{key:e.arrangement_id,className:"file-result file-result--no-preview"},o.createElement("div",{className:"file-result-thumbnail"},e.album_image_70?o.createElement("img",{src:e.album_image_70,className:"file-result-thumbnail__image",alt:"".concat(e.title," cover art")}):o.createElement(m.default,null)),o.createElement("div",{className:"file-result__meta"},o.createElement("h4",{className:"file-result__track",title:e.title},e.title),o.createElement("div",{className:"file-result__artist"},"by"," ",o.createElement("a",{href:"//www.praisecharts.com/detail/arrangement/".concat(e.arrangement_id),target:"_blank",rel:"noopener noreferrer"},e.artist))),o.createElement(s.$,{external:!0,iconRight:{name:"general.newWindow"},size:"sm",theme:"primary",to:"//www.praisecharts.com/detail/arrangement/".concat(e.arrangement_id),variant:"outline"},"Buy"))}):o.createElement("li",null,o.createElement("div",{className:"file-results-empty",style:{height:150}},o.createElement("div",{className:"center-xy"},o.createElement("h2",{className:"file-results-empty__title"},"No Available items found"))))))},g.render=function(){var e=this,t=this.props,r=t.isLinked,n=t.songId,i=t.setIntegrationParameters,a=this.state,s=a.attachableKeys,c=a.defaultSearch,d=a.isLoading,h=a.selectedSong,m=a.available,v=a.currentPage,y=a.error;return o.createElement("div",null,!h&&o.createElement("input",{ref:function(t){return e._searchInput=t},type:"search",placeholder:"Search PraiseCharts",defaultValue:c,onKeyUp:this.handleKeyUp,onChange:this.handleChange}),d?o.createElement(l.I,{alignment:"center",distribution:"center",marginTop:4},o.createElement(u.y,{size:"lg"})):o.createElement(o.Fragment,null,!r&&this.renderNotLinked(),y?this.renderErrors():h?o.createElement(p.default,{attachableKeys:s,handleRelink:function(){return e.setState({selectedSong:null})},setIntegrationParameters:i,song:h,songId:n}):o.createElement(o.Fragment,null,r&&this.renderPurchased(),this.renderAvailable(),o.createElement(f.default,{resultsCount:m.length,prevPage:v>1,onPrevious:this.handlePrevious,onNext:this.handleNext}))))},n}(o.Component);t.default=g},16236:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isPojo=function(e){var t=e.constructor;return!!e&&"object"===typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&r(t)&&(t instanceof t||"AltStore"===e.type)},t.isPromise=function(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then},t.eachObject=n,t.assign=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return n(function(t,r){return e[t]=r},r),e};var r=function(e){return"function"===typeof e};function n(e,t){t.forEach(function(t){Object.keys(Object(t)).forEach(function(r){e(r,t[r])})})}t.isFunction=r},16697:function(e,t,r){"use strict";r.r(t);t.default=5},17048:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i,o=r(96540),a=(i=o)&&i.__esModule?i:{default:i},s=r(16236);t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?e:arguments[1];return function(){if(!(0,s.isFunction)(e.getStores))throw new Error("connectToStores() expects the wrapped component to have a static getStores() method");if(!(0,s.isFunction)(e.getPropsFromStores))throw new Error("connectToStores() expects the wrapped component to have a static getPropsFromStores() method");if("undefined"===typeof e.storeDidChange)var r=function(){};else{if(!(0,s.isFunction)(e.storeDidChange))throw new Error("connectToStores() expects the storeDidChange() to be a function");r=e.storeDidChange}var i=function(i){function o(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;u=c=void 0,n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,r=a,n=!0}}(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,t,r),this.state=e.getPropsFromStores(t,r),this.onChange=this.onChange.bind(this)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,i),n(o,[{key:"UNSAFE_componentWillReceiveProps",value:function(t){this.setState(e.getPropsFromStores(t,this.context))}},{key:"componentDidMount",value:function(){var t=this,r=e.getStores(this.props,this.context);this.storeListeners=r.map(function(e){return e.listen(t.onChange)}),e.componentDidConnect&&e.componentDidConnect(this.props,this.context)}},{key:"componentWillUnmount",value:function(){this.storeListeners.forEach(function(e){return e()})}},{key:"onChange",value:function(){this.setState(e.getPropsFromStores(this.props,this.context)),r(this.state)}},{key:"render",value:function(){return a.default.createElement(t,(0,s.assign)({},this.props,this.state))}}]),o}(a.default.Component);return i.displayName="Stateful"+(t.displayName||t.name||"Container"),t.contextTypes&&(i.contextTypes=t.contextTypes),i}()},e.exports=t.default},17360:function(e,t){"use strict";t.A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.withAMPM,r=e.withSeconds,n=window.live.org.twenty_four_hour_time;return t&&r?n?"H:mm:ss":"h:mm:ss a":t?n?"H:mm":"h:mm a":r?n?"H:mm:ss":"h:mm:ss":n?"H:mm":"h:mm"}},17585:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(96540),i=r(84464),o=r(10076),a=r(38728),s=r(71765);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e){var t=e.file,r=c((0,n.useState)(0),2),u=r[0],l=r[1],f=(0,n.useRef)(null);(0,n.useEffect)(function(){var e=function e(t){f.current=setTimeout(function(){l(function(t){var r=(0,s.tick)(t);return e((0,s.delay)()),r})},t)};return t.upload({onProgress:function(e){l((0,s.calculateProgress)(e))},onUploaded:function(){e((0,s.delay)())},onProcessed:function(e){l(s.COMPLETE),setTimeout(e,s.MIN_DELAY)}}),function(){f.current&&clearTimeout(f.current)}},[t]);var d=t.filename,p=(0,a.Sh)("--t-text-color-disabled"),h=(0,a.Sh)("--t-fill-color-product-services-040");return React.createElement("div",null,React.createElement("div",{className:"files-list-item"},React.createElement("div",{className:"files-list-item__icon"},React.createElement(o.FileIcon,{fill:p})),React.createElement(i.Truncate,{component:"span",className:"files-list-item__title",style:{color:p}},d)),React.createElement("div",{style:{width:"".concat(u,"%"),height:3,background:h}}))}},18659:function(e,t){"use strict";var r={dispatch:function(e,t){window.DEBUG&&console.log("received event %s with data %o",e,t);var r=e.replace(/:/g,"_").replace(/_([a-z])/g,function(e){return e[1].toUpperCase()});"function"===typeof this[r="handle".concat(r[0].toUpperCase()).concat(r.substring(1))]&&(window.DEBUG&&console.log("  dispatching event to this.%s()",r),this[r](t))}};t.A=r},19272:function(e,t,r){"use strict";var n=r(2543),i=r.n(n),o=r(25617),a=r(69500);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){return e.data.map(function(e){var t=e.id,r=e.attributes,n=e.relationships,i=e.type;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({id:parseInt(t,10),type:i,teamId:parseInt(n.team.data.id,10)},r)})};t.A=function(e,t){var r=e.personId;return(0,o.mY)("".concat((0,o.lA)(),"/people/").concat(r,"/team_leaders"),(0,a.wJ)(t)).then(function(e){return i().flatMap(e,i().compose(a.Yu,u))})}},20601:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(2543),o=r.n(i),a=r(69500),s=r(38098);t.default=(0,a.cR)(function(e){var t,r=e.total,i=e.type,a=e.selected,c=Object.keys(a).length>0;return n.createElement(s.A,{level:3},c?"".concat(a.length.toLocaleString()," selected"):(t=r.toLocaleString(),"".concat(t," ").concat(o().pluralize(i,r))))})},21725:function(e,t,r){"use strict";r.r(t),r.d(t,{EXCLUDED_PART_CODES:function(){return n},GENERIC_KEYS:function(){return i}});var n=["CV"],i=["Numbers","Numerals"]},22005:function(e,t,r){"use strict";r.r(t),r.d(t,{EU_DATE_FORMAT:function(){return n},EU_FULL_DATE_FORMAT:function(){return o},EU_SHORT_DATE_FORMAT:function(){return c},TWELVE_HOUR_TIME:function(){return u},TWELVE_HOUR_TIME_NO_MINUTES:function(){return l},TWENTY_FOUR_HOUR_TIME:function(){return f},US_DATE_FORMAT:function(){return i},US_FULL_DATE_FORMAT:function(){return a},US_SHORT_DATE_FORMAT:function(){return s}});var n="%d/%m/%Y",i="%m/%d/%Y",o="dd MMMM yyyy",a="MMMM dd, yyyy",s="ddd M/D",c="ddd D/M",u="%-l:%M%P",l="%-l%P",f="%-k:%M"},22958:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i)()({displayName:"LiveVideoControlFeedDropdownCurrentVideo",getDefaultProps:function(){return{video:{url:""}}},render:function(){return n.createElement("div",{className:"LiveVideoControlFeedDropdown__current-feed"},n.createElement("span",{className:"LiveVideoControlFeedDropdown__current-feed__url"},this.props.video.url),n.createElement("input",{onClick:this.props.onVideoCleared,className:"LiveVideoControlFeedDropdown__button",type:"button",value:"Remove"}))}});t.default=o},24119:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i)()({displayName:"LiveControlToggleButton",getDefaultProps:function(){return{disabled:!1,icon:"",label:""}},render:function(){return n.createElement("button",{className:"LiveControlToggle-button",disabled:this.props.disabled,onClick:this.props.onClick,type:"button"},n.createElement("i",{className:"LiveControlToggle-button__icon fa ".concat(this.props.icon)}),n.createElement("span",null,this.props.label))}});t.default=o},24918:function(e,t,r){"use strict";r.r(t);var n=r(32485),i=r.n(n);t.default=function(e){var t=e.shelfId,r=e.className;return React.createElement("span",{className:i()("icon","icon-info-circle-outline",r),"data-shelf-id":t,"aria-hidden":!0})}},25269:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i),a=r(90172),s=r.n(a),c=o()({displayName:"LiveWatchedServiceSummary",getDefaultProps:function(){return{classSet:{LiveWatchedServiceSummary:!0}}},render:function(){return n.createElement("div",{className:s()(this.props.classSet)},n.createElement("h2",null,this.props.name),n.createElement("div",{className:"LiveWatchedServiceSummary--end-note",onClick:this.props.onClick},this.props.end))}});t.default=c},25326:function(e,t,r){"use strict";r.d(t,{A:function(){return s}});var n=r(96540),i=r(17048),o=r.n(i);function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function s(e){return o()(function(t){var r,i;function o(){return t.apply(this,arguments)||this}return i=t,(r=o).prototype=Object.create(i.prototype),r.prototype.constructor=r,a(r,i),o.getPropsFromStores=function(){return{selected:Services.Flux.getStore("SelectedItemStore").getState().state}},o.getStores=function(){return[Services.Flux.getStore("SelectedItemStore")]},o.prototype.render=function(){return n.createElement(e,this.props)},o}(n.Component))}},25581:function(e,t,r){"use strict";r.r(t),r.d(t,{useSetup:function(){return o}});var n=r(96540),i=r(61819);function o(e){return(0,n.useCallback)(function(t){var r,n=function(e,t){return function(e,t,r){for(;r!==t;){if(r.style[e])return r.style[e];r=r.parentNode}return 0}("fontSize",e,t)||function(e,t){return tinyMCE.DOM.getStyle(t,e,!0)}("fontSize",t)};t.addButton("textsize",{type:"listbox",icon:"text-size",tooltip:"Font Sizes",values:i.textSizes,onPostRender:(r=i.textSizes,function(){var e=this;t.on("nodeChange",function(i){var o=n(t.getBody(),i.element),a=null;r.forEach(function(e){e.value===o&&(a=o)}),e.value(a),e.text("")})}),onclick:function(e){e.control.settings.value&&t.execCommand("FontSize",!1,e.control.settings.value)}}),t.addButton("textalign",{type:"menubutton",icon:"alignleft",tooltip:"Alignment",menu:(0,i.textAlignMenuItems)(t)}),t.addButton("placeholders",{type:"menubutton",icon:"placeholder",tooltip:"Placeholders",menu:(0,i.placeholderMenuItems)(t)}),t.on("init",function(){t.getDoc().body.style.fontSize="14px"}),t.on("keydown",function(r){r.altKey&&9===r.keyCode?(r.preventDefault(),t.insertContent("&nbsp;&nbsp;&nbsp;&nbsp;")):9===r.keyCode&&e&&r.preventDefault()}),t.on("BeforeSetContent",function(e){return e.content=e.content.replaceAll(i.BASE_64_REGEX,"")})},[e])}},25617:function(e,t,r){"use strict";r.d(t,{TR:function(){return h},lA:function(){return f},mY:function(){return d},tf:function(){return l},y0:function(){return p}});var n=r(36213),i=["links"];function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l="".concat((0,n.A)("services"),"/~api/services/v2"),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="";return e.length&&(t="/"===e[0]?"":"/"),"".concat(l).concat(t).concat(e)},d=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Services.Classes.RequestWithCredentials({url:t,data:r}).then(function(t){var r=t.links.next,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,i),s=[].concat(o(n),[a]);return r?e(r,{},s):s})},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=_.includes(e,"?")?"&":"?";return"".concat(f(e)).concat(function(e,t){var r=t.order,n=t.page,i=t.perPage,o=Services.Utils.keysToSnakeCase,a=_.omitBy({order:r,perPage:i},_.isUndefined);if(0===_.keys(a).length)return"";var s=_.isNumber(n)&&a.perPage?a.perPage*(n-1):null,u=c(c({},_.isNumber(s)?{offset:s}:{}),o(a));return"".concat(e).concat($.param(u))}(r,t))},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Services.Classes.RequestWithCredentials(c({type:t,url:e(n),data:"GET"==t||r?i:m(i)},o))}},m=function(e){return JSON.stringify(Services.Utils.keysToSnakeCase({data:{attributes:e}}))}},25801:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(40961),o=r(52306),a=r.n(o),s=r(90172),c=r.n(s),u=a()({displayName:"LiveVideoControl",getDefaultProps:function(){return{enabled:!1,available:!1}},getClassSet:function(){return c()({LiveVideoControl:!0,"LiveVideoControl--appended":this.isAppended(),"is-enabled":this.isEnabled(),"is-available":this.isAvailable()})},getCheckboxClass:function(){return"LiveVideoControl__checkbox"},getCheckboxState:function(){return i.findDOMNode(this.refs.checkbox).checked},getDropdownClass:function(){return["LiveVideoControl__icon--small","icon-live-caret-down"].join(" ")},getBaseIconClass:function(){return["LiveVideoControl__icon","icon-live-video"].join(" ")},getIconClass:function(){return this.isAvailable()?this.getBaseIconClass():this.getBaseIconClass()+"--disabled"},isAppended:function(){return this.props.appended},isAvailable:function(){return this.props.available},isEnabled:function(){return this.props.enabled},render:function(){return n.createElement("label",{className:this.getClassSet()},n.createElement("input",{checked:this.isEnabled(),className:this.getCheckboxClass(),disabled:!this.isAvailable(),onChange:this.handleChange,ref:"checkbox",type:"checkbox"}),n.createElement("i",{className:this.getIconClass()}))},handleChange:function(){this.props.onToggle(this.getCheckboxState())}});t.default=u},26408:function(e,t,r){"use strict";r.d(t,{PW:function(){return o},YF:function(){return i},bA:function(){return c},mb:function(){return n},sA:function(){return a},vX:function(){return s}});var n=["AttachmentLink","AttachmentS3","AttachmentStage"],i="Editor",o="FILE",a=["ServiceType","Plan","Item"],s=["AttachmentChart::Chord","AttachmentChart::Lyric","AttachmentChart::Number","AttachmentChart::Numeral"],c=["AttachmentAmazon","AttachmentItunes","AttachmentSpotify","AttachmentStage","AttachmentText","AttachmentVimeo","AttachmentYoutube"].concat(s)},27657:function(e,t,r){"use strict";var n=r(25617);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.A=function(e){var t=e.serviceTypeId,r=e.planId,a=e.planType,s=void 0===a?"plan":a,c=e.id,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=_.pluralize(_.snakeCase(s));return new Services.Classes.RequestWithCredentials(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({type:"DELETE",url:"".concat((0,n.lA)(),"/service_types/").concat(t,"/").concat(l,"/").concat(r,"/team_members/").concat(c)},u))}},28362:function(e,t,r){"use strict";r.d(t,{PW:function(){return a},Wk:function(){return o},YF:function(){return s},Yp:function(){return u},zy:function(){return c}});var n=/\scopy \d+/,i=/\.[^.]+/,o=1,a="FILE",s="Editor",c=new RegExp("".concat(n.source,"(?=$|").concat(i.source,"$)")),u=new RegExp("(?:".concat(n.source,")?(").concat(i.source,")?$"))},28622:function(e,t,r){"use strict";r.r(t);var n=r(24119),i=r(5631),o=r(96540),a=r(52306),s=r.n(a)()({displayName:"LiveControlToggle",render:function(){return this.inControl()?o.createElement("div",{className:"LiveControlToggle"},o.createElement(n.default,{icon:"icon-live-unlink",label:"release control",onClick:this.handleClick})):this.releasedControl()&&window.live_permissions.canControl?o.createElement("div",{className:"LiveControlToggle"},o.createElement(n.default,{icon:"icon-live-link",label:"take control",onClick:this.handleClick})):this.props.controlled_by_id&&window.live_permissions.canTakeControl?o.createElement(i.default,{className:"LiveControlToggle",name:"controller",selected:"controller",onChange:this.handleClick,options:{controller:{collapsedLabel:this.renderCollapsedLabel(),label:"take control"}}}):this.props.controlled_by_id?o.createElement("div",{className:"LiveControlToggle"},o.createElement(n.default,{label:this.renderLabel(),disabled:!0})):o.createElement("span",null)},renderLabel:function(){return o.createElement("span",null,o.createElement("span",{className:"name"},this.props.controlled_by),o.createElement("span",{className:"description"}," in control"))},renderCollapsedLabel:function(){return o.createElement("span",null,o.createElement("span",{className:"name"},this.props.controlled_by),o.createElement("span",{className:"description"}," in control"))},handleClick:function(){this.props.onClick()},inControl:function(){return this.props.controlled_by_id===window.live.me.id},releasedControl:function(){return null===this.props.controlled_by_id}});t.default=s},29135:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(68147),o=r(32519),a=r(69500),s=["note","onClose","plan","recipients","teams"];t.default=function(e){var t=e.note,r=e.onClose,c=e.plan,u=e.recipients,l=e.teams,f=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,s),d=_(l).filter(function(e){return _.includes(t.teamIds,e.id)}).map("name").value();return n.createElement(o.default,{maxWidth:88,padding:0,marginTop:6,closeOnOutsideClick:!1,onRequestClose:r,open:!0},n.createElement(i.default,Object.assign({allowPersonSelect:!1,message:"<h1>Hi {{to.first_name}},</h1>\n<p>I've updated the following ".concat((0,a.Re)(d)," note for ").concat(c.dates,": ").concat(t.content.replace(/\n/g,"<br>"),"</p>\n<p>{{from.signature}}</p>"),onClose:r,planId:c.id,recipientOptions:u,subject:"Updated ".concat((0,a.Re)(d)," Note"),successMessageSize:function(e){return _.filter(e,"emails.length").length},title:"Email These People"},f)))}},29423:function(e,t,r){"use strict";function n(e){return React.createElement("svg",Object.assign({width:"232.4px",height:"138.7px",viewBox:"0 0 232.4 138.7"},e),React.createElement("path",{d:"M185.5,50h-8.4h-8.4H162c-1.5,0-2.7,1.2-2.7,2.6V59c0,0,0,0,0,0.1v23.9c0,1.6,1.3,2.8,2.8,2.8h30 c1.6,0,2.8-1.3,2.8-2.8V59c0,0,0,0,0-0.1v-6.3c0-1.4-1.2-2.6-2.7-2.6H185.5z M178.1,51.9h6.5V58h-6.5V51.9z M169.6,51.9h6.5V58h-6.5 V51.9z M161.2,52.7c0-0.4,0.4-0.7,0.8-0.7h5.7V58h-6.5V52.7z M193.1,82.9c0,0.5-0.4,0.9-0.9,0.9h-30c-0.5,0-0.9-0.4-0.9-0.9v-23h7.5 h8.4h8.4h7.5V82.9z M193,52.7V58h-6.5v-6.1h5.7C192.7,51.9,193,52.3,193,52.7z M31.2,50.3c-1.6,0-2.8,1.3-2.8,2.8v30 c0,1.6,1.3,2.8,2.8,2.8h30c1.6,0,2.8-1.3,2.8-2.8v-30c0-1.6-1.3-2.8-2.8-2.8H31.2z M62.1,53.1v30c0,0.5-0.4,0.9-0.9,0.9h-30 c-0.5,0-0.9-0.4-0.9-0.9v-30c0-0.5,0.4-0.9,0.9-0.9h30C61.7,52.2,62.1,52.6,62.1,53.1z M229.6,112.2l2.8,2.8l-1.7,1.7l-2.8-2.8 l-2.8,2.8l-1.7-1.7l2.8-2.8l-2.8-2.8l1.7-1.7l2.8,2.8l2.8-2.8l1.7,1.7L229.6,112.2z M14.4,13.9l-2.8,2.8L9.9,15l2.8-2.8L9.9,9.4 l1.7-1.7l2.8,2.8l2.8-2.8l1.7,1.7l-2.8,2.8l2.8,2.8l-1.7,1.7L14.4,13.9z M9.1,119.6l-7.3-4.3c-0.4-0.2-0.8-0.2-1.2,0 C0.2,115.6,0,116,0,116.4v8.5c0,0.4,0.2,0.8,0.6,1.1c0.2,0.1,0.4,0.2,0.6,0.2c0.2,0,0.4-0.1,0.6-0.2l7.3-4.3 c0.4-0.2,0.6-0.6,0.6-1.1S9.5,119.9,9.1,119.6z M2.4,122.8v-4.3l3.7,2.1L2.4,122.8z M156.3,14.4c0.2,0.1,0.4,0.2,0.6,0.2 c0.2,0,0.4-0.1,0.6-0.2l7.3-4.3c0.4-0.2,0.6-0.6,0.6-1.1s-0.2-0.8-0.6-1.1l-7.3-4.3c-0.4-0.2-0.8-0.2-1.2,0 c-0.4,0.2-0.6,0.6-0.6,1.1v8.5C155.7,13.8,156,14.2,156.3,14.4z M158.2,7l3.7,2.1l-3.7,2.1V7z M128.7,129c-2.7,0-4.9,2.2-4.9,4.9 s2.2,4.9,4.9,4.9s4.9-2.2,4.9-4.9S131.4,129,128.7,129z M128.7,136.3c-1.3,0-2.4-1.1-2.4-2.4s1.1-2.4,2.4-2.4s2.4,1.1,2.4,2.4 S130,136.3,128.7,136.3z M57.8,9.7c2.7,0,4.9-2.2,4.9-4.9S60.5,0,57.8,0s-4.9,2.2-4.9,4.9S55.1,9.7,57.8,9.7z M57.8,2.4 c1.3,0,2.4,1.1,2.4,2.4s-1.1,2.4-2.4,2.4s-2.4-1.1-2.4-2.4S56.4,2.4,57.8,2.4z M211.1,22.2c-2.7,0-4.9,2.2-4.9,4.9s2.2,4.9,4.9,4.9 s4.9-2.2,4.9-4.9S213.8,22.2,211.1,22.2z M211.1,29.5c-1.3,0-2.4-1.1-2.4-2.4s1.1-2.4,2.4-2.4s2.4,1.1,2.4,2.4 S212.5,29.5,211.1,29.5z M92.3,44.3c-2,0-3.7,1.6-3.7,3.6v38.9c0,2,1.6,3.6,3.7,3.6h38.9c2,0,3.7-1.6,3.7-3.6V47.9 c0-2-1.6-3.6-3.7-3.6H92.3z M132.4,47.9v38.9c0,0.7-0.5,1.2-1.2,1.2H92.3c-0.7,0-1.2-0.5-1.2-1.2V47.9c0-0.7,0.5-1.2,1.2-1.2h38.9 C131.9,46.7,132.4,47.2,132.4,47.9z",fill:"#E2E2E2"}),React.createElement("path",{d:"M209.8,44.7C209.8,44.6,209.7,44.6,209.8,44.7c-0.1-0.2-0.1-0.3-0.2-0.4l-18.7-18.7 c-0.1-0.1-0.2-0.1-0.3-0.2c0,0-0.1,0-0.1,0c-0.1,0-0.2,0-0.2,0c0,0,0,0-0.1,0h-41.1c-2,0-3.7,1.3-4.4,3l-15.2-15.2 c-0.1-0.1-0.2-0.2-0.4-0.2c0,0-0.1,0-0.1,0c-0.1,0-0.2-0.1-0.3-0.1c0,0-0.1,0-0.1,0H75.4c-3.3,0-6.1,2.7-6.1,6.1v16.8l-9.4-9.4 c-0.1-0.1-0.2-0.1-0.3-0.2c0,0-0.1,0-0.1,0c-0.1,0-0.2,0-0.2,0c0,0,0,0-0.1,0H18.1c-2.6,0-4.7,2.1-4.7,4.7v74.8 c0,2.6,2.1,4.7,4.7,4.7h51.2v5.6c0,3.3,2.7,6.1,6.1,6.1h72.7c3.3,0,6.1-2.7,6.1-6.1v-6.4h51c2.6,0,4.7-2.1,4.7-4.7V45c0,0,0,0,0-0.1 C209.8,44.8,209.8,44.7,209.8,44.7z M69.3,108.4H18.1c-1.5,0-2.8-1.3-2.8-2.8V30.8c0-1.5,1.3-2.8,2.8-2.8h40.2v14 c0,2.6,2.1,4.7,4.7,4.7h6.3V108.4z M69.3,44.8H63c-1.5,0-2.8-1.3-2.8-2.8V29.3l9.1,9.1V44.8z M191.1,28.5L206.6,44h-12.7 c-1.5,0-2.8-1.3-2.8-2.8V28.5z M129.9,17L150,37.1h-16.5c-2,0-3.6-1.6-3.6-3.6V17z M151.7,115.9c0,2-1.6,3.6-3.6,3.6H75.4 c-2,0-3.6-1.6-3.6-3.6v-97c0-2,1.6-3.6,3.6-3.6h52.1v18.2c0,3.3,2.7,6.1,6.1,6.1h18.2V115.9z M207.9,104.8c0,1.5-1.3,2.8-2.8,2.8 h-51V38.3c0,0,0-0.1,0-0.1c0-0.1,0-0.2-0.1-0.3c0,0,0-0.1,0-0.1c-0.1-0.1-0.1-0.3-0.2-0.4l-7.5-7.5c0.1-1.5,1.3-2.7,2.8-2.7h40.2v14 c0,2.6,2.1,4.7,4.7,4.7h14V104.8z M184,70.9c0.2,0.1,0.2,0.3,0,0.4l-0.4,0.2c-2.7,1.5-7.1,4.1-9.8,5.6l-0.4,0.2 c-0.2,0.1-0.4,0-0.4-0.2v-0.5c0-3.1,0-8.2,0-11.3V65c0-0.2,0.2-0.3,0.4-0.2l0.4,0.2c2.7,1.5,7.1,4.1,9.8,5.6L184,70.9z M55.6,61.4 l3.7,4.7l0,15.3l-26.3,0v-0.5l7.9-9.9l3.5,4.4L55.6,61.4z M37.2,61.3c0-2.1,1.7-3.8,3.8-3.8c2.1,0,3.8,1.7,3.8,3.8 c0,2.1-1.7,3.8-3.8,3.8C38.9,65,37.2,63.3,37.2,61.3z M105.3,62.2l5.9-6.3v22.9l-5.7-5.8h-5.2V62.2H105.3z M121.6,61.5 c1,1.7,1.6,3.7,1.6,5.8c0,2.1-0.6,4.2-1.6,5.8c-1,1.7-2.4,3-3.7,3.8c-0.7,0.4-1.3,0.7-1.9,1c-0.6,0.2-1.1,0.4-1.6,0.5 c-0.1,0-0.2,0-0.3,0.1v-2c0.3-0.1,0.7-0.2,1.1-0.4c0.5-0.2,1-0.5,1.6-0.8c1.1-0.7,2.2-1.8,3.1-3.2c0.4-0.7,0.7-1.5,1-2.3 c0.2-0.8,0.3-1.8,0.4-2.5c0-1.2-0.1-1.8-0.4-2.6c-0.2-0.8-0.6-1.6-1-2.3c-0.8-1.4-2-2.5-3.1-3.2c-0.6-0.3-1.1-0.6-1.6-0.8 c-0.4-0.2-0.8-0.3-1.1-0.4v-2c0.1,0,0.2,0,0.3,0.1c0.4,0.1,1,0.3,1.6,0.5c0.6,0.2,1.2,0.6,1.9,1C119.2,58.6,120.6,59.9,121.6,61.5z M114.2,72.9V61.8c2.1,1,3.6,3.1,3.6,5.6S116.3,72,114.2,72.9z",fill:"#C6C6C6"}))}r.r(t),r.d(t,{default:function(){return n}})},31289:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(17987),o=r(35259),a=r(2543),s=r.n(a),c=r(32485),u=r.n(c),l=r(95093),f=r.n(l),d=r(68414),p=r(26408),h=r(78172),m=["children","connectDragPreview","connectDragSource","isCopying","isDragging","setFileDrag"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var w={beginDrag:function(e){var t=e.file;return s().tap(y(y({},t),{},{isDragging:!0}),function(e){Services.Flux.getStore("Files.FileStore").cancelPendingMove(e)})},endDrag:function(e,t){var r=e.file,n=e.isCopying;if((0,e.setFileDrag)(!1),t.didDrop()){var i=t.getDropResult(),o=i.id,a=i.attachableType,s=i.instantRequest;if(o!==r.attachableId){var c={file:new h.A(y(y({},r),{},{attachableType:a,attachableId:o,updatedAt:f()().toISOString()})),instantRequest:s};c.file.adjustFilename(),n?Services.Flux.getActions("FileActions").copy(y(y({},c),{},{uuid:(0,d.v4)()})):Services.Flux.getActions("FileActions").move(c)}}else Services.Flux.getStore("Files.FileStore").scheduleMove(r)},canDrag:function(e){var t=e.file,r=Services.Flux.getStore("PersonCurrentStore"),n=["song","arrangement","key"].includes(t.attachableType)?r.songEditor():r.permissionsEqualOrAbove(p.YF);return t.reattachable&&n}};t.default=(0,i.DragSource)(p.PW,w,function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})(function(e){var t=e.children,r=e.connectDragPreview,i=e.connectDragSource,a=e.isCopying,c=e.isDragging,l=e.setFileDrag,f=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,m),d=b((0,n.useState)(!1),2),p=d[0],h=d[1];(0,n.useEffect)(function(){r((0,o.getEmptyImage)(),{captureDraggingState:!0})},[r]);var v,y=function(){p&&(h(!1),l(!1))},g=function(e){return e.nativeEvent.altKey&&!$.browser.safari};return i(React.createElement("div",{onMouseDown:function(e){g(e)||(e.stopPropagation(),h(!0))},onMouseMove:function(){p&&l(!0)},onMouseUp:y,onDragEnd:y,onContextMenu:y,className:u()(c&&"is-dragging")},React.createElement("a",Object.assign({},(v=f,s().omit(v,"allowedTypes","attachableType","file","hasModalOpen","hasSeparator","isDraggingFile","isOrigin","isOver","keydown","setFileDrag")),{rel:"noreferrer","data-turbolinks":"false"}),t)),{dropEffect:a?"copy":"move"})})},31570:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(96540),i=r(2543),o=r.n(i),a=r(60490),s=r(99751);function c(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e){var t=e.canView,r=void 0===t||t,i=e.children,l=e.id,f=e.viewAgain,d=Services.Flux.getStore("PersonCurrentStore").getAccountCenterId(),p=u((0,n.useState)(!1),2),h=p[0],m=p[1],v=u((0,n.useState)(!0),2),y=v[0],g=v[1],b=u((0,n.useState)(null),2),S=b[0],w=b[1],O=(0,a.j7)("viewOnce",!1),P=O.value,_=(0,a.Mj)("onboardings",JSON.stringify([])),E=JSON.parse(_.value);function j(){_.set(JSON.stringify(o().uniq([].concat(c(E),[l]))))}return(0,n.useEffect)(function(){"undefined"!==typeof f&&m(f)},[f]),(0,n.useEffect)(function(){o().isNull(S)||g(!1)},[S]),(0,n.useEffect)(function(){r&&(E.includes(l)||(0,s.uH)({personAcid:d},{fields:{Person:"onboardings"}}).then(function(e){var t=e.onboardings;return t&&w(t)}))},[]),(0,n.useEffect)(function(){y||(S.includes(l)?j():P||m(!0))},[y]),(0,n.useEffect)(function(){h&&(O.set(!0),(0,s.xs)({personAcid:d},{onboardings:o().uniq([].concat(c(E),[l]))}),j())},[h]),h?i({handleClose:function(){O.set(!1),m(!1)}}):null}},32476:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(96540),i=r(2543),o=r.n(i),a=r(6434);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e){return function(t){return function(r){var i=s((0,n.useState)(!1),2),c=i[0],u=i[1],l=(0,n.useRef)(null),f=(0,n.useRef)(null);return(0,n.useEffect)(function(){var e=(new a.default).getManager();l.current=e.backend.actions,f.current=l.current.beginDrag},[]),(0,n.useEffect)(function(){var t=function(t){return o().isFunction(e)?e(t):t[e]}(r);u(t)},[r]),(0,n.useEffect)(function(){l.current.beginDrag=c?function(){return!1}:f.current},[c]),React.createElement(t,r)}}}},32519:function(e,t,r){"use strict";r.r(t);var n=r(78598);n.Modal.Body=n.Body,n.Modal.Header=n.Header,n.Modal.Title=n.Title,n.Modal.Footer=n.Footer,n.Modal.Subtitle=n.Subtitle,t.default=n.Modal},32925:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(26922),o=r(22342);t.default=function(e){var t=e.song,r=e.onSelectSong;return n.createElement(o.I,{className:"file-result file-result--no-preview",axis:"horizontal",distribution:"space-between",spacing:1},n.createElement(i.a,{shrink:0,className:"file-result-thumbnail"},n.createElement("img",{alt:"".concat(t.title," cover art"),className:"file-result-thumbnail__image",src:t.album_image_70})),n.createElement(o.I,{grow:!0,shrink:!0,marginLeft:1},n.createElement("h4",{className:"file-result__track",title:t.title},t.title),n.createElement("div",{className:"file-result__artist"},"by"," ",n.createElement("a",{href:"//www.praisecharts.com/detail/arrangement/".concat(t.arrangement_id),target:"_blank",rel:"noopener noreferrer"},t.artist))),n.createElement("button",{type:"button",onClick:r,className:"file-result__add"},n.createElement("svg",{width:"21px",height:"21px",viewBox:"0 0 21 21",className:"add-to-save"},n.createElement("circle",{className:"add-to-save__circle",cx:"10.5",cy:"10.5",r:"10"}),n.createElement("g",{className:"add-to-save__plus"},n.createElement("line",{x1:"10.5",y1:"5.5",x2:"10.5",y2:"15.5"}),n.createElement("line",{x1:"5.5",y1:"10.5",x2:"15.5",y2:"10.5"})))))}},33513:function(e,t,r){"use strict";r.d(t,{F6:function(){return w},Jt:function(){return b},Kj:function(){return v},SA:function(){return _},T4:function(){return P},bE:function(){return S},zr:function(){return O}});var n=r(2543),i=r.n(n),o=r(84193),a=r.n(o),s=r(39813),c=r(36213),u=["data"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){d(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function h(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var m=function(){function e(e){this.app=e}var t,r,n;return e.prototype.version=function(e){return this.ver=e,this},t=e,(r=[{key:"root",get:function(){return"".concat((0,c.A)("services"),"/~api/").concat(this.app,"/v2/")}},{key:"clients",get:function(){var e,t;return(e=this.constructor.clients)[t=this.app]||(e[t]={})}},{key:"client",get:function(){var e,t;return(e=this.clients)[t=this.ver||"default"]||(e[t]=new s.Kj({root:this.root,version:this.ver}))}}])&&p(t.prototype,r),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();m.clients={};var v=new Proxy({},{get:function(e,t){return new Proxy(new m(t),{get:function(e,t,r){return Reflect.has(e,t)?Reflect.get.apply(Reflect,arguments):e.client[t]}})}}),y=v.services.version("2018-11-01"),g=function(e){return i().get(e,"data")},b=function(e){var t=e.data,r=void 0===t?{}:t,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,u);return y.get(f({data:f({walk:!0},r)},n)).then(g)},S=function(e){return y.post(e).then(g)},w=function(e){return y.patch(e).then(g)},O=function(e){return y.delete(e).then(g)},P=i().flowRight(a().buildQuery,s.oP),_=function(e){var t=(0,s.SA)(e);return i().isEmpty(t)?t:g(t)}},33676:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(63017),s=r(66842),c=r(88615),u=r(302),l=r(16697);function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var p=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).state={results:[],currentPage:0,isLoading:!1,hasErrors:!1,defaultSearch:localStorage.addFileSearchTerm||""},r.handleKeyUp=r.handleKeyUp.bind(f(r)),r.handlePrevious=r.handlePrevious.bind(f(r)),r.handleNext=r.handleNext.bind(f(r)),r.handleAddResult=r.handleAddResult.bind(f(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,d(t,r);var p=n.prototype;return p.componentDidMount=function(){this.search(this.state.defaultSearch)},p.search=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;""!==e&&(this.setState({isLoading:!0,hasErrors:!1}),$.ajax({type:"POST",url:"/files/itunes/search",data:{query:e,page:r,per_page:l.default},timeout:2e3,dataType:"json",error:function(e){t.setState({isLoading:!1,hasErrors:!0})},success:function(e,n,o){e.error?t.setState({isLoading:!1,hasErrors:!0,currentPage:r}):t.setState({isLoading:!1,hasErrors:!1,currentPage:r,raw_results:e.results,results:i().map(e.results,function(e){return{id:e.id,author:e.artistName,author_uri:e.artistUrl,track_view_uri:e.url,thumbnail:e.artwork.url.replace("{w}x{h}","100x100"),title:e.name,preview_url:e.previews[0].url}})})}}))},p.handleAddResult=function(e){var t={item_id:this.props.itemId,item_type:this.props.itemType,attribs:i().find(this.state.results,function(t){return t.id===e})};setTimeout(function(){return Services.Modal.hide()},750),$.post("/files/itunes",t)},p.handleKeyUp=function(e){var t=e.target.value;"Enter"===e.key&&""!==t&&this.search(t)},p.handleChange=function(e){var t=e.target.value;try{localStorage.addFileSearchTerm=t}catch(r){}},p.handlePrevious=function(){this.search(this._searchInput.value,this.state.currentPage-1)},p.handleNext=function(){this.search(this._searchInput.value,this.state.currentPage+1)},p.getResultProps=function(){return{results:this.state.results,addResult:this.handleAddResult}},p.render=function(){var e=this,t=this.state,r=t.defaultSearch,n=t.isLoading,i=t.results,l=t.currentPage,f=t.hasErrors;return o.createElement("div",null,o.createElement("input",{ref:function(t){return e._searchInput=t},type:"search",placeholder:"Search Apple Music",defaultValue:r,onKeyUp:this.handleKeyUp,onChange:this.handleChange}),n?o.createElement(a.default,null):o.createElement("div",{className:"file-results-wrap"},f?o.createElement(u.default,null):o.createElement(s.default,this.getResultProps())),!n&&i.length>0&&o.createElement(c.default,{resultsCount:i.length,prevPage:l>0,onPrevious:this.handlePrevious,onNext:this.handleNext}))},n}(o.Component);t.default=p},34641:function(e,t){"use strict";var r={safari11:function(e){(function(e){return!window.localStorage.getItem("autoPlayMessage")&&"NotAllowedError"===e.name&&(window.localStorage.setItem("autoPlayMessage","true"),!0)})(e)&&Swal.alert.fire({titleText:"Safari and Audio",html:'Safari now prevents audio from playing automatically. You can enable autoplay for Planning Center using Safari\u2019s per-site settings.</br></br><a href="https://support.apple.com/guide/safari/customize-browsing-settings-per-website-ibrw7f78f7fe" target="_blank">Learn More</a>'})}};t.A=r},35416:function(e,t,r){"use strict";r(72387);var n=r(40961),i={componentDidMount:function(){$("body").on("click",this.handleBodyClick)},componentWillUnmount:function(){$("body").off("click",this.handleBodyClick)},handleBodyClick:function(e){this._isBlurable()&&0===$(e.target).closest(n.findDOMNode(this)).length&&this.handleBlur(e)}};t.A=i},35823:function(e,t,r){"use strict";r.r(t);r(72387);var n=r(96540),i=r(40961),o=r(52306),a=r.n(o)()({displayName:"LiveChatInput",getInitialState:function(){return{text:""}},componentDidMount:function(){$(i.findDOMNode(this)).find('input[type="text"]').on("keyup",this.handleKeyPress)},componentWillUnmount:function(){$(i.findDOMNode(this)).find('input[type="text"]').off("keyup",this.handleKeyPress)},render:function(){return n.createElement("fieldset",{className:"LiveChatInput"},n.createElement("input",{className:"LiveChatInput-text",placeholder:"What's on your mind?",value:this.state.text,onChange:this.handleTextChange,type:"text"}),n.createElement("input",{className:"LiveChatInput-submit",type:"submit",onClick:this.handleSend,value:"Send"}))},handleKeyPress:function(e){13!==e.which&&13!==e.keyCode||this.handleSend()},handleSend:function(e){e&&e.preventDefault(),this.props.onSend(this.state.text),this.setState({text:""})},handleTextChange:function(e){this.setState({text:e.target.value})}});t.default=a},35900:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var n=r(96540),i=r(40961),o=["component","separator","start"];function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}var s=function(e){var t,r;function s(t){var r;return(r=e.call(this,t)||this).state={text:t.children},r._fullText=t.children,r.trim=r.trim.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),r._animationFrameID=null,r}r=e,(t=s).prototype=Object.create(r.prototype),t.prototype.constructor=t,a(t,r);var c=s.prototype;return c.componentDidMount=function(){var e=this;this._node=i.findDOMNode(this),this._resizeObserver=new ResizeObserver(function(){return e.trim()}),this._resizeObserver.observe(this._node.parentNode),this._animationFrameID=window.requestAnimationFrame(function(){return e.trim()})},c.componentDidUpdate=function(e){this.props.children!==e.children&&(this._fullText=this.props.children,this.setState({text:this.props.children}))},c.componentWillUnmount=function(){this._resizeObserver.disconnect(this._node.parentNode),this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID)},c.trim=function(){for(var e=this,t=this.props,r=t.separator,n=t.start,i=this._fullText,o=i.substring(0,n)+r,a=n+r.length;a<i.length&&Utils.getTextWidth(i,this._node)>this._node.offsetWidth;)i=o+i.substr(a++);i!==this.state.text&&(this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID),this._animationFrameID=window.requestAnimationFrame(function(){null!==e._resizeObserver&&e.setState({text:i})}))},c.render=function(){var e=this.props,t=e.component,r=(e.separator,e.start,function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,o));return(0,n.createElement)(t,r,this.state.text)},s}(n.Component);s.defaultProps={component:"div",separator:"\u2026",start:3}},36576:function(e,t,r){"use strict";var n=r(33513);t.A=function(e,t){var r=e.songId,i=e.arrangementId;return(0,n.Jt)({url:"/songs/".concat(r,"/arrangements/").concat(i,"/keys"),data:t})}},37332:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i),a=r(90172),s=r.n(a),c=o()({displayName:"LiveWatchServiceButton",getDefaultProps:function(){return{enabled:!0}},render:function(){return n.createElement("button",{className:this.getClassSet(),disabled:!this.props.enabled,onClick:this.handleClick},this.props.enabled?"Watch A Service":"(no services to watch)")},getClassSet:function(){return s()({LiveWatchServiceButton:!0,disabled:!this.props.enabled})},handleClick:function(){this.props.enabled&&this.props.onClick()}});t.default=c},37742:function(e,t,r){"use strict";r.d(t,{p:function(){return v}});var n=r(55954),i=r(38728),o=r(46289),a=r(757),s=r(19718),c=r(86119),u=r(46313),l=r(72064),f=r(50559);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){h(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m={fontWeight:(0,i.Sh)("--t-font-weight-normal")};function v(){var e=Services.Flux.getStore("OrganizationCurrentStore");return{button:{themes:{primary:{outline:{color:(0,i.Sh)("--t-text-color"),hover:{backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-outline-hover")},stroke:(0,i.Sh)("--t-border-color-button-neutral")},disabled:{backgroundColor:(0,i.Sh)("--t-fill-color-button-interaction-solid-disabled"),stroke:(0,i.Sh)("--t-fill-color-button-interaction-solid-disabled"),color:(0,i.Sh)("--t-text-color-disabled"),opacity:1}},interaction:{ghost:p({active:{backgroundColor:(0,i.Sh)("--t-fill-color-button-interaction-ghost-active"),color:(0,i.Sh)("--t-text-color-interaction-active")},backgroundColor:(0,i.Sh)("--t-fill-color-button-interaction-ghost"),color:(0,i.Sh)("--t-text-color-interaction"),disabled:{backgroundColor:(0,i.Sh)("--t-fill-color-button-interaction-ghost-disabled"),color:(0,i.Sh)("--t-text-color-disabled"),opacity:1},hover:{backgroundColor:(0,i.Sh)("--t-fill-color-button-interaction-ghost-hover"),color:(0,i.Sh)("--t-text-color-interaction-hover")}},m),outline:p({active:{backgroundColor:(0,i.Sh)("--t-fill-color-button-interaction-outline-active"),color:(0,i.Sh)("--t-text-color-interaction-active"),stroke:(0,i.Sh)("--t-fill-color-button-interaction-solid-active")},backgroundColor:(0,i.Sh)("--t-fill-color-button-interaction-outline"),color:(0,i.Sh)("--t-text-color-interaction"),disabled:{backgroundColor:(0,i.Sh)("--t-fill-color-button-interaction-outline-disabled"),color:(0,i.Sh)("--t-text-color-disabled"),opacity:1,stroke:(0,i.Sh)("--t-border-color-disabled")},hover:{backgroundColor:(0,i.Sh)("--t-fill-color-button-interaction-outline-hover"),color:(0,i.Sh)("--t-text-color-interaction-hover"),stroke:(0,i.Sh)("--t-fill-color-button-interaction-solid-hover")},stroke:(0,i.Sh)("--t-fill-color-button-interaction-solid")},m),selected:p({active:{backgroundColor:(0,i.Sh)("--t-fill-color-button-interaction-outline-active"),color:(0,i.Sh)("--t-text-color-interaction-active"),stroke:(0,i.Sh)("--t-fill-color-button-interaction-solid-active")},backgroundColor:(0,i.Sh)("--t-fill-color-button-interaction-outline-hover"),color:(0,i.Sh)("--t-text-color-interaction"),disabled:{backgroundColor:(0,i.Sh)("--t-fill-color-button-interaction-outline-disabled"),color:(0,i.Sh)("--t-text-color-disabled"),opacity:1,stroke:(0,i.Sh)("--t-border-color-disabled")},hover:{backgroundColor:(0,i.Sh)("--t-fill-color-button-interaction-outline-active"),color:(0,i.Sh)("--t-text-color-interaction-active"),stroke:(0,i.Sh)("--t-fill-color-button-interaction-solid-active")},stroke:(0,i.Sh)("--t-fill-color-button-interaction-solid")},m),solid:p({active:{backgroundColor:(0,i.Sh)("--t-fill-color-button-interaction-solid-active")},backgroundColor:(0,i.Sh)("--t-fill-color-button-interaction-solid"),color:(0,i.Sh)("--t-text-color-inverted"),disabled:{backgroundColor:(0,i.Sh)("--t-fill-color-button-interaction-solid-disabled"),color:(0,i.Sh)("--t-text-color-disabled"),opacity:1},hover:{backgroundColor:(0,i.Sh)("--t-fill-color-button-interaction-solid-hover")}},m)},neutral:{ghost:p({active:{backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-ghost-active")},backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-ghost"),color:(0,i.Sh)("--t-text-color"),disabled:{backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-ghost-disabled"),color:(0,i.Sh)("--t-text-color-disabled"),opacity:1},hover:{backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-ghost-hover")}},m),inactive:p({active:{backgroundColor:(0,i.Sh)("--t-fill-color-neutral-040")},backgroundColor:(0,i.Sh)("--t-fill-color-neutral-040"),color:(0,i.Sh)("--t-text-color"),disabled:{backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-ghost-disabled"),color:(0,i.Sh)("--t-text-color-disabled"),opacity:1},hover:{backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-ghost-hover")}},m),outline:p({active:{backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-outline-active")},backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-outline"),color:(0,i.Sh)("--t-text-color"),disabled:{backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-outline-disabled"),color:(0,i.Sh)("--t-text-color-disabled"),opacity:1,stroke:(0,i.Sh)("--t-border-color-disabled")},hover:{backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-ghost-hover")},stroke:(0,i.Sh)("--t-border-color-button-neutral")},m),selected:p({active:{backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-ghost-active")},backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-ghost-active"),color:(0,i.Sh)("--t-text-color"),disabled:{backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-ghost-disabled"),color:(0,i.Sh)("--t-text-color-disabled"),opacity:1},hover:{backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-ghost-hover")}},m),solid:p({active:{backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-solid-active")},backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-solid"),color:(0,i.Sh)("--t-text-color-inverted"),disabled:{backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-solid-disabled"),color:(0,i.Sh)("--t-text-color-disabled"),opacity:1},hover:{backgroundColor:(0,i.Sh)("--t-fill-color-button-neutral-solid-hover")}},m)},delete:{ghost:p({active:{backgroundColor:(0,i.Sh)("--t-fill-color-button-delete-ghost-active")},backgroundColor:(0,i.Sh)("--t-fill-color-button-delete-ghost"),color:(0,i.Sh)("--t-text-color-status-error"),disabled:{backgroundColor:(0,i.Sh)("--t-fill-color-button-delete-ghost-disabled"),color:(0,i.Sh)("--t-text-color-disabled"),opacity:1},hover:{backgroundColor:(0,i.Sh)("--t-fill-color-button-delete-ghost-hover")}},m),outline:p({active:{backgroundColor:(0,i.Sh)("--t-fill-color-button-delete-outline-active")},backgroundColor:(0,i.Sh)("--t-fill-color-button-delete-outline"),color:(0,i.Sh)("--t-text-color-status-error"),disabled:{backgroundColor:(0,i.Sh)("--t-fill-color-button-delete-outline-disabled"),color:(0,i.Sh)("--t-text-color-disabled"),opacity:1,stroke:(0,i.Sh)("--t-border-color-disabled")},hover:{backgroundColor:(0,i.Sh)("--t-fill-color-button-delete-outline-hover")},stroke:(0,i.Sh)("--t-border-color-button-delete")},m),solid:p({active:{backgroundColor:(0,i.Sh)("--t-fill-color-button-delete-solid-active")},backgroundColor:(0,i.Sh)("--t-fill-color-button-delete-solid"),color:(0,i.Sh)("--t-text-color-inverted"),disabled:{backgroundColor:(0,i.Sh)("--t-fill-color-button-delete-solid-disabled"),color:(0,i.Sh)("--t-text-color-disabled"),opacity:1},hover:{backgroundColor:(0,i.Sh)("--t-fill-color-button-delete-solid-hover")}},m)},segmentedControlWarning:{fill:{backgroundColor:(0,i.Sh)("--local-fill-color-segmented-control-warning-base"),color:(0,i.Sh)("--local-text-color-segmented-control-warning")}}}},calendar:{weekStartsOn:e?e.weekStartsOnSunday()?0:1:0},card:{backgroundColor:(0,i.Sh)("--t-surface-color-card")},checkbox:{checkedFill:(0,i.Sh)("--t-fill-color-button-interaction-solid"),checkedStroke:(0,i.Sh)("--t-fill-color-button-interaction-solid"),disabled:{checkedFill:(0,i.Sh)("--t-fill-color-control-disabled"),checkedStroke:(0,i.Sh)("--t-border-color-control-disabled"),fill:(0,i.Sh)("--t-fill-color-neutral-070"),stroke:(0,i.Sh)("--t-border-color-control-disabled")},fill:(0,i.Sh)("--t-surface-color-card"),stroke:(0,i.Sh)("--t-border-color-control-neutral")},colors:{primary:{base:(0,i.Sh)("--t-fill-color-button-interaction-solid"),dark:(0,i.Sh)("--t-fill-color-button-interaction-solid-hover"),darker:(0,i.Sh)("--t-fill-color-button-interaction-solid-active"),darkest:(0,i.Sh)("--t-fill-color-button-interaction-solid-active"),light:(0,i.Sh)("--t-fill-color-button-interaction-outline"),lighter:(0,i.Sh)("--t-fill-color-button-interaction-outline-active"),lightest:(0,i.Sh)("--t-fill-color-button-interaction-outline-hover")},highlight:(0,i.Sh)("--t-fill-color-button-neutral-outline-hover")},icons:p({accounts:{integrations:f.Gn},general:o,logomark:a,brand:s,services:c,tapestry:u,churchCenter:{circle:l.circle}},n.A.icons),id:"services",pageTab:{backgroundColor:(0,i.Sh)("--t-surface-color-card")},pageTitle:{as:"h1",lineHeight:"40px",marginTop:(0,i.Sh)("--t-spacing-half")},pagination:{activeColor:(0,i.Sh)("--t-fill-color-button-interaction-solid")},popover:{backgroundColor:(0,i.Sh)("--t-surface-color-card")},radio:{checkedFill:(0,i.Sh)("--t-fill-color-button-interaction-solid")},section:{headingProps:{color:(0,i.Sh)("--t-text-color-headline")}},stepperProgress:{activeColor:(0,i.Sh)("--t-fill-color-status-success")}}}},38034:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i),a=r(66851),s=r(35823),c=r(62414),u=r(1479),l=o()({displayName:"LiveChat",render:function(){return n.createElement("section",{className:"LiveChat",style:{height:this.props.height+"px"}},"mobile"===this.props.composition?this.renderHeading():null,n.createElement("div",{className:"LiveChat-vsplit-1"},n.createElement("div",{className:"LiveChat-split-1-1"},n.createElement(a.default,{channels:this.props.channels,unreadCounts:this.getMessageUnreadCounts(),selected:this.props.selectedChannelId,onChange:this.props.onChannelChange,overflow:"normal"===this.props.composition}),n.createElement(u.default,{messages:this.getMessages(),messagesLength:this.getMessages().length,selected:this.props.selectedChannelId})),n.createElement("div",{className:"LiveChat-split-1-2"},n.createElement(s.default,{onSend:this.props.onMessageSend}))),n.createElement("div",{className:"LiveChat-vsplit-2"},n.createElement(c.default,{members:this.getMembers()})))},getMembers:function(){var e=this;return this.props.members.filter(function(t){return 0===e.props.selectedChannelId||parseInt(t.service_type_id)===e.props.selectedChannelId})},getMessages:function(){var e=this;return this.props.messages.filter(function(t){return parseInt(t.ministry_id)===e.props.selectedChannelId}).map(function(e){return e.read=!0,e})},getMessageUnreadCounts:function(){var e=this,t={};return this.props.messages.filter(function(e){return!e.read}).forEach(function(r){t[r.ministry_id]=t[r.ministry_id]||0,parseInt(r.ministry_id)!==e.props.selectedChannelId&&t[r.ministry_id]++}),t},renderHeading:function(){return n.createElement("h1",null,"Chat")}});t.default=l},38286:function(e){e.exports=function(){"use strict";var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),r=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},i="function"===typeof window.WeakMap&&"function"===typeof window.Map,o=function(){if(i)return window.WeakMap;function t(e,t){var r=-1;return e.some(function(e,n){var i=e[0]===t;return i&&(r=n),i}),r}return function(){function r(){e(this,r),this.__entries__=[]}return r.prototype.get=function(e){var r=t(this.__entries__,e);return this.__entries__[r][1]},r.prototype.set=function(e,r){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=r:this.__entries__.push([e,r])},r.prototype.delete=function(e){var r=this.__entries__,n=t(r,e);~n&&r.splice(n,1)},r.prototype.has=function(e){return!!~t(this.__entries__,e)},r}()}(),a=i?window.Map:function(i){function o(){return e(this,o),n(this,i.apply(this,arguments))}return r(o,i),o.prototype.clear=function(){this.__entries__.splice(0,this.__entries__.length)},o.prototype.entries=function(){return this.__entries__.slice()},o.prototype.keys=function(){return this.__entries__.map(function(e){return e[0]})},o.prototype.values=function(){return this.__entries__.map(function(e){return e[1]})},o.prototype.forEach=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.__entries__,n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var a=o;e.call(t,a[1],a[0])}},t(o,[{key:"size",get:function(){return this.__entries__.length}}]),o}(o),s="function"===typeof window.requestAnimationFrame?window.requestAnimationFrame:function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=null,i=null;function o(){e.apply.apply(e,n),n=null,i&&(c.apply.apply(c,i),i=null)}function a(){r?s(o):o()}function c(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];var s=[this,r];n?i=s:(n=s,setTimeout(a,t))}return c},u="function"===typeof window.MutationObserver,l=function(){function r(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(this,r),this._isCycleContinuous=!u||t,this._listenersEnabled=!1,this._mutationsObserver=null,this._observers=[],this.refresh=c(this.refresh.bind(this),30,!0),this._continuousUpdateHandler=c(this.refresh,70)}return r.prototype.connect=function(e){this.isConnected(e)||this._observers.push(e),this._listenersEnabled||this._addListeners()},r.prototype.disconnect=function(e){var t=this._observers,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this._listenersEnabled&&this._removeListeners()},r.prototype.isConnected=function(e){return!!~this._observers.indexOf(e)},r.prototype.refresh=function(){this._updateObservers()?this.refresh():this._isCycleContinuous&&this._listenersEnabled&&this._continuousUpdateHandler()},r.prototype._updateObservers=function(){var e=!1,t=this._observers,r=Array.isArray(t),n=0;for(t=r?t:t[Symbol.iterator]();;){var i;if(r){if(n>=t.length)break;i=t[n++]}else{if((n=t.next()).done)break;i=n.value}var o=i;o.gatherActive(),o.hasActive()&&(e=!0,o.broadcastActive())}return e},r.prototype._addListeners=function(){this._listenersEnabled||(window.addEventListener("resize",this.refresh),u&&(this._mutationsObserver=new MutationObserver(this.refresh),this._mutationsObserver.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._listenersEnabled=!0,this._isCycleContinuous&&this.refresh())},r.prototype._removeListeners=function(){this._listenersEnabled&&(window.removeEventListener("resize",this.refresh),this._mutationsObserver&&this._mutationsObserver.disconnect(),this._mutationsObserver=null,this._listenersEnabled=!1)},t(r,[{key:"continuousUpdates",get:function(){return this._isCycleContinuous},set:function(e){u&&(this._isCycleContinuous=e,this._listenersEnabled&&e&&this.refresh())}}]),r}(),f=v(0,0,0,0);function d(e){return window.getComputedStyle(e)}function p(e){return parseFloat(e)||0}function h(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(function(t,r){return t+p(e["border-"+r+"-width"])},0)}function m(e){var t={},r=["top","right","bottom","left"],n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var a=o,s=e["padding-"+a];t[a]=p(s)}return t}function v(e,t,r,n){return{width:e,height:t,top:r,right:e+n,bottom:t+r,left:n}}function y(e){var t=e.getBBox();return v(t.width,t.height,0,0)}function g(){var e=d(document.documentElement);return v(p(e.width),p(e.height),0,0)}function b(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return f;var n=d(e),i=m(n),o=i.left+i.right,a=i.top+i.bottom,s=p(n.width),c=p(n.height);"border-box"===n.boxSizing&&(Math.round(s+o)!==t&&(s-=h(n,"left","right")+o),Math.round(c+a)!==r&&(c-=h(n,"top","bottom")+a));var u=Math.round(s+o)-t,l=Math.round(c+a)-r;return 1!==Math.abs(u)&&(s-=u),1!==Math.abs(l)&&(c-=l),v(s,c,i.top,i.left)}function S(e){return e instanceof window.SVGElement}function w(e){return e===document.documentElement}function O(e){return S(e)?y(e):w(e)?g():b(e)}var P=function(){function t(r){e(this,t),this.target=r,this._contentRect=f,this.broadcastWidth=0,this.broadcastHeight=0}return t.prototype.broadcastRect=function(){var e=this._contentRect;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t.prototype.isActive=function(){var e=O(this.target);return this._contentRect=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t}();function _(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={configurable:r.configurable||!1,writable:r.writable||!1,enumerable:r.enumerable||!1},i=Object.keys(t),o=Array.isArray(i),a=0;for(i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if((a=i.next()).done)break;s=a.value}var c=s;n.value=t[c],Object.defineProperty(e,c,n)}return e}var E=function t(r,n){e(this,t);var i=window.ClientRect||Object,o=Object.create(i.prototype);_(o,n,{configurable:!0}),_(this,{target:r,contentRect:o},{configurable:!0})},j=function(){function t(r,n,i){if(e(this,t),"function"!==typeof r)throw new TypeError("The callback provided as parameter 1 is not a function.");this._callback=r,this._targets=new a,this._activeTargets=[],this._controller=n,this._publicObserver=i}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this._targets;t.has(e)||(t.set(e,new P(e)),this._controller.isConnected(this)||this._controller.connect(this),this._controller.refresh())},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this._targets;t.has(e)&&(t.delete(e),t.size||this.disconnect())},t.prototype.disconnect=function(){this.clearActive(),this._targets.clear(),this._controller.disconnect(this)},t.prototype.gatherActive=function(){this.clearActive();var e=this._activeTargets;this._targets.forEach(function(t){t.isActive()&&e.push(t)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this._publicObserver,t=this._activeTargets.map(function(e){return new E(e.target,e.broadcastRect())});this.clearActive(),this._callback.call(e,t,e)}},t.prototype.clearActive=function(){this._activeTargets.splice(0)},t.prototype.hasActive=function(){return!!this._activeTargets.length},t}(),T=new l,I=new o,C=function(){function r(t){if(e(this,r),!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=new j(t,T,this);I.set(this,n)}return t(r,null,[{key:"continuousUpdates",get:function(){return T.continuousUpdates},set:function(e){if("boolean"!==typeof e)throw new TypeError('type of "continuousUpdates" value must be boolean.');T.continuousUpdates=e}}]),r}();["observe","unobserve","disconnect"].forEach(function(e){C.prototype[e]=function(){var t;return(t=I.get(this))[e].apply(t,arguments)}});var A=C;return"function"===typeof window.ResizeObserver&&(A=window.ResizeObserver),A}()},38450:function(e,t,r){"use strict";r(72387);var n=r(2543),i=r.n(n),o=r(84743),a=r.n(o),s=r(84573),c=r(17360);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=f(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function f(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p={getInitialState:function(){return{plan:this.props.plan||{},status:{}}},UNSAFE_componentWillMount:function(){var e=this;i().isEmpty(this.state.plan)?this.setPlan().done(function(){return e.handlePlanUpdate&&e.handlePlanUpdate()}):this.handlePlanUpdate&&this.handlePlanUpdate(),this.setPlanStatus()},componentWillUnmount:function(){this.subscription&&window.live.jolt.unsubscribe(this.subscription)},isStarted:function(){return!!this.state.current_pit},getEndOfServiceItem:function(){return{id:"end",title:"End of Service",length:this.getTotalTime()}},getFormattedServiceNameWithTime:function(){var e=this.state.plan&&this.state.plan.service_type_name||"",t=this.getServiceStartTime().format((0,c.A)({withAMPM:!0}));return"".concat(e," - ").concat(t)},getFormattedPlanTitle:function(){return this.state.plan?i().filter([this.state.plan.series_title,this.state.plan.plan_title],function(e){return(e||"").length>0}).join(" - "):""},getItemForId:function(e){return"end"===e?this.getEndOfServiceItem():i().find(this.state.plan&&this.state.plan.items||[],function(t){return t.id===e})},getItemStartsAt:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=r.service_time_id?this.getServiceTimeForId(r.service_time_id):this.state.service_time)return r.actual?e.pit&&e.pit.live_start?a()((0,s.A)(e.pit.live_start)):void 0:(r.onlyPlanned?a()(this.getServicePlannedStart(t)):a()(this.getServiceStart(t))).add(this.getTotalTime(i().assignIn({},r,{upUntilId:e.id,service_time:t})),"seconds")},getPlanItemTimeForId:function(e){if("end"===e)return{plan_item_id:"end"};var t,r=l(this.state.plan&&this.state.plan.items||[]);try{for(r.s();!(t=r.n()).done;){var n,i=l(t.value.plan_item_times);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.id===e)return o}}catch(a){i.e(a)}finally{i.f()}}}catch(a){r.e(a)}finally{r.f()}},getServiceStartTime:function(){return a()((0,s.A)(this.state.service_time&&this.state.service_time.starts_at))},getServiceTimeForId:function(e){return i().find(this.state.plan&&this.state.plan.service_times||[],function(t){return t.id===parseInt(e)})},getPlanChannelName:function(){var e=new Date(this.state.plan.created_at).getTime().toString().substring(0,10);return"live_".concat(window.live.org.id,"_").concat(window.live.org.secret,"_plan_").concat(this.state.plan.id,"_").concat(e)},setPlanState:function(){var e;this.state.plan&&this.state.status&&this.setState({service_time:this.getServiceTimeForId(this.state.status.service_time_id),current_item:e=this.getItemForId(this.state.status.item_id),current_pit:this.state.status.item_id&&this.getPlanItemTimeForId(this.state.status.id),next_item:this.getItemForId(this.state.status.next_item_id)||e&&"end"!==e.id&&this.getEndOfServiceItem()})},setPlan:function(){var e=this;return $.get("/plans/".concat(this.props.plan_id,".json"),function(t){e.setState({plan:t},e.setPlanState),e.subscription||e.setSubscription()})},setPlanStatus:function(){var e=this;return $.get("/live/".concat(this.props.plan_id,".json"),function(t){e.setState({status:t.status},e.setPlanState)})},setSubscription:function(){if(this.state.plan.id){this.subscription&&window.live.jolt.unsubscribe(this.subscription);var e=this.getPlanChannelName();window.DEBUG&&console.log("subscribing to "+e),this.subscription=window.live.jolt.subscribe(e,this.dispatch)}},handleAddPlanItem:function(){this.setPlan()},handleAddPlanItemFromUrl:function(){this.setPlan()},handleEndPlan:function(){this.state.status.item_id=this.state.status.id="end",this.setState({status:this.state.status},this.setPlanState)},handleGoToPlanItemTime:function(e){this.setState({status:e},this.setPlanState)},handleRemovePlanItem:function(){this.setPlan()},handleReorderPlanItems:function(){this.setPlan()},handleUpdateMinistry:function(e){var t=this.state.plan;t&&t.service_type_id===e.id&&(t.service_type_name=e.name,this.setState({plan:t}))},handleUpdatePlanItem:function(e){var t=this;this.state.plan.items.forEach(function(r,n){r.id===e.id&&(t.state.plan.items[n]=e)}),this.setState({plan:this.state.plan},this.setPlanState)},handleUpdatePlanItemTimes:function(e){if(e.plan_id===this.state.plan.id){var t,r=l(this.state.plan&&this.state.plan.items||[]);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.id===e.plan_item_id){var o,a=l(i().toPairs(n.plan_item_times));try{for(a.s();!(o=a.n()).done;){var s=u(o.value,2),c=s[0];if(s[1].id===e.id)return n.plan_item_times[c]=e,void this.setState({plan:this.state.plan},this.setPlanState)}}catch(f){a.e(f)}finally{a.f()}}}}catch(f){r.e(f)}finally{r.f()}}},handleUpdatePlans:function(){this.setPlan()},handleUpdateTime:function(e){var t,r=l(this.state.plan&&this.state.plan.service_times||[]);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.id===e.id){var o,a=l(i().toPairs(e));try{for(a.s();!(o=a.n()).done;){var s=u(o.value,2),c=s[0],f=s[1];n[c]=f}}catch(d){a.e(d)}finally{a.f()}this.setState({plan:this.state.plan},this.setPlanState)}}}catch(d){r.e(d)}finally{r.f()}},_planEnded:function(){return this.state.current_item&&"end"===this.state.current_item.id}};t.A=p},38581:function(e,t,r){"use strict";r.d(t,{Ak:function(){return i},QK:function(){return o},od:function(){return a},lZ:function(){return s},WU:function(){return c},CO:function(){return u},U$:function(){return d},L_:function(){return p},ZE:function(){return m}});var n=r(33513),i=function(e){return(0,n.bE)({url:"/destroy_all_songs"})};function o(e){return(0,n.Jt)({url:"/ccli",data:{ccli_id:e,fields:{Ccli:"lyrics"}}})}function a(){return(0,n.Jt)({url:"/ccli",data:{fields:{Ccli:"lyrics_access"}}})}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fields:{CcliOrgsPerAccount:"org_count"}};return(0,n.Jt)({url:"/ccli_orgs_per_account",data:e})};function c(){return(0,n.Jt)({url:"/ccli",data:{fields:{Ccli:"connected,status"}}})}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.Jt)({url:"/",data:e})},l=(r(77580),r(25617)),f=function(e){return _.get(e,"data.attributes.options")},d=function(){return new Services.Classes.RequestWithCredentials({url:"".concat((0,l.lA)(),"/service_type_options"),type:"POST",data:JSON.stringify({data:{attributes:{}}})}).then(f)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.F6)({url:"/",data:e})},h=r(69500),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Services.Classes.RequestWithCredentials({type:"PATCH",url:"".concat((0,l.lA)(),"/chord_chart_settings"),data:JSON.stringify((0,h.wJ)({data:{type:"ChordChart",attributes:e}}))}).then(n.SA)}},39807:function(e,t,r){"use strict";r.r(t);var n=r(89280),i=r(10086),o=r(88538);t.default=function(e){var t=e.color,r=e.modify,a=e.onRemove,s=e.title;return React.createElement(n.A,{color:t,marginBottom:1,marginRight:1,renderRight:r?React.createElement(i.$,{icon:{name:"general.x",size:"8px"},onClick:a,radiusLeft:0,theme:!1,title:"Remove"}):null,size:"sm",title:React.createElement(o.E,{weight:500},s),userSelect:"none"})}},40436:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return T}});var n=r(2543),i=r.n(n),o=r(96540),a=r(75825),s=r(38728),c=r(32485),u=r.n(c),l=r(53473),f=r(66474),d=r(26922),p=r(30106),h=r(16517),m=r(21210),v=r(22342),y=r(84464),g=r(10076),b=r(69500),S=r(71765);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){P(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function P(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var j={open:"general.newWindow",preview:"services.eyeOutline",download:"general.thickToBottomArrow",edit:"general.pencil",transpose:"services.transpose",stream:"services.playCircle"};function T(e){var t=e.children,r=e.disableActions,n=e.file,c=e.hasSeparator,w=e.isAndroid,P=_((0,o.useState)(!1),2),E=P[0],T=P[1],I=n.actions,C=n.attachmentTypeIds,A=n.cors,x=n.extension,k=n.filename,N=n.filetype,L=n.id,F=n.tracksLicenses,D=n.actions.download,M=Services.Utils.DropMenu,R=function(e){return O(O({},I[e]),{},{filename:k,filetype:N,tracksLicenses:F,cors:A,verb:e,download:D,extension:x})},U=(0,o.useMemo)(function(){var e=(0,b.db)("Attachment.ACTIONS");return i().without(e,"delete").reverse()},[]),B=i().findLast(U,function(e){return(0,S.actionPermitted)(e,n)}),G=(0,S.actionPermitted)(B,n),V=G?(0,S.getActionProps)(R(B)):{},W=!n.type.includes("AttachmentChart::")?"/files/".concat(L):null,z=l.ICON_NAMES["".concat(N,"_").concat(x)]||l.ICON_NAMES[n.filetype]||"services.fileText",q=React.createElement("span",{title:k,"data-delete-url":W,onMouseEnter:function(){return T(!0)},onMouseLeave:function(){return T(!1)},className:u()("files-list-item",{"files-list-item--has-attachment-type":C.length},{clickable:G})},React.createElement(a.A,{className:"files-list-item__icon",color:(0,s.Sh)("--t-icon-color-secondary"),marginRight:1,name:z}),React.createElement(y.Truncate,{component:"span",className:"files-list-item__title"},k)),$=t?React.createElement(d.a,{shrink:!0,grow:!0},React.cloneElement(t,O({},V),q)):React.createElement(m.N,V,q),H=function(e){var t=e.children;return React.createElement(v.I,{alignment:"center",axis:"horizontal",spacing:1,distribution:"space-between"},t,React.createElement(h.A,{"aria-label":"File Actions",placement:"bottom-end",popoverProps:{shouldFlip:!0},size:"xs",theme:"primary",variant:"outline",shrink:!0},U.map(function(e){return(0,S.actionPermitted)(e,n)&&React.createElement(h.A.Link,Object.assign({key:e,"data-file-action":e,"data-turbolinks":"download"!==e,role:"menuitem"},(0,S.getActionProps)(R(e))),i().capitalize(e))})))};return React.createElement(f.e.Consumer,null,function(e){var t=e.mdBreakpoint;return React.createElement(React.Fragment,null,c&&React.createElement(p.c,{marginVertical:.5}),w||!t?React.createElement(H,null,$):React.createElement(M,{disableActions:r},React.createElement("div",null,$,U.map(function(e){return(0,S.actionPermitted)(e,n)&&React.createElement("a",Object.assign({key:e,className:"screen-reader-text","data-file-action":e,"data-turbolinks":"download"!==e},(0,S.getActionProps)(R(e))),e)})),React.createElement("div",{className:u()("drop-menu",E&&"drop-menu--trigger-hovered")},React.createElement("div",{className:"drop-content"},U.map(function(e){return(0,S.actionPermitted)(e,n)&&React.createElement(g.Action,Object.assign({key:e,verb:e,icon:j[e]},(0,S.getActionProps)(R(e))))})))))})}},41086:function(e,t,r){"use strict";r.r(t),r.d(t,{ServicesThemeProviderPortal:function(){return i}});var n=r(40961),i=function(e){var t=e.children,r=document.querySelector('[data-tapestry-react-theme-provider-services="true"]');if(!r)return console.warn("Services ThemeProvider node not found"),null;var i=document.querySelector("[data-modal-portal-mount-node]");return i||((i=r.cloneNode()).setAttribute("data-modal-portal-mount-node",!0),document.body.appendChild(i)),(0,n.createPortal)(t,i)};t.default=i},41316:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var n=r(96540),i=r(12931);function o(e){var t=e.itemId,r=e.itemType,o=e.onClose;return n.createElement(i.default,{url:"/files/upload/new?item_id=".concat(t,"&item_type=").concat(r),onClose:o})}},41715:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i)()({displayName:"LiveVideo",getDefaultProps:function(){return{autoplay:"&autoplay=true&autoPlay=true",src:"",width:270,height:179,scrolling:"no",frameBorder:0,full:!1,style:{border:"0px none transparent"}}},getVideoSrc:function(){var e=this.props.src.match("youtube"),t=this.props.src.match("dacast");return e?this.props.src+"?rel=0"+this.props.autoplay:t?this.props.src:this.props.src+this.props.autoplay},render:function(){return n.createElement("div",{className:"LiveVideo"},n.createElement("iframe",{title:"live-video",width:this.props.width,height:this.props.height,src:this.getVideoSrc(),frameborder:this.props.frameborder,style:this.props.style,scrolling:this.props.scrolling,allowFullScreen:!0}))}});t.default=o},42225:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});r(72387);var n=r(2543),i=r.n(n),o=r(84743),a=r.n(o),s=r(96540),c=r(58658),u=r(54379),l=r(40961),f=r(52306),d=r.n(f),p=r(84573),h=r(17360),m=r(5631),v=r(4626),y={scrollGraceDistance:25,scrollGracePeriod:100,UNSAFE_componentWillMount:function(){this._ignoreScroll()},componentDidMount:function(){$(this.scrollable).on("scroll",this.handleScroll)},UNSAFE_componentWillUpdate:function(){this._ignoreScroll()},handleUnscroll:function(e){this._ignoreScroll(),this.setState({scrolled:!1},e)},handleScroll:function(){if(!this._ignoringScroll){var e=$(this.scrollable).scrollTop();Math.abs(e-this.state.scrollTop)<=this.scrollGraceDistance||(this.setState({scrolled:!0,scrollTop:e}),this.handleScrollUnlock&&this.handleScrollUnlock())}},_ignoreScroll:function(){var e=this;this._graceTimeout&&clearTimeout(this._graceTimeout),this._ignoringScroll=!0,this._graceTimeout=setTimeout(function(){return e._ignoringScroll=!1},this.scrollGracePeriod)}},g=d()({displayName:"LivePlanList",mixins:[y],scrollable:".LivePlanList-body__outer",getInitialState:function(){return{time:new Date,visibleServiceTimeId:null,height:null}},componentDidMount:function(){this.timeInterval=setInterval(this.setTime,1e3),this.setScrollPosition(),this.setHeight()},UNSAFE_componentWillReceiveProps:function(e){!e.service_time||this.state.visibleServiceTimeId&&e.service_time.id===(this.props.service_time&&this.props.service_time.id)||this.setState({visibleServiceTimeId:e.service_time&&e.service_time.id})},componentWillUnmount:function(){clearInterval(this.timeInterval)},componentDidUpdate:function(){this.setSpacerHeight(),this.props.current_pit!==this.state.current_pit&&(this.setScrollPosition(),this.setState({current_pit:this.props.current_pit}))},render:function(){return s.createElement("div",{className:this.getClassNames()},s.createElement("table",{className:"LivePlanList-header"},s.createElement("thead",null,s.createElement("tr",null,s.createElement("th",{className:"LivePlanList-length"},this.renderLengthSelector()),s.createElement("th",{className:"LivePlanList-service"},this.renderServiceSelector())))),s.createElement("div",{className:"LivePlanList-follow"},this.renderResumeButton()),s.createElement("div",{className:"LivePlanList-body__outer",style:this.getComputedStylesForBody()},s.createElement("table",{className:"LivePlanList-body"},s.createElement("tbody",null,this.renderPlanListItems())),this.renderScrollSpacer()))},renderLengthSelector:function(){return s.createElement(m.default,{name:"item_time_mode",className:"LivePlanList-control",selected:this.props.item_time_mode,onChange:this.props.onItemTimeModeChange,icon:s.createElement("span",{className:"icon-live-check"}),options:{length:{label:"Length"},planned_time:{label:"Planned Time",collapsedLabel:"Time",description:"Show planned start time of upcoming items"},projected_time:{label:"Projected Time",collapsedLabel:"Time",description:"Project upcoming start times based on recorded times"}}})},renderPaddingForScroll:function(){return s.createElement("div",{className:"LivePlanList-body__padding",style:{height:this.getPaddingforScroll()+"px"}},"\xa0")},renderPlanListItems:function(){var e=this,t=this.getItems();return t.map(function(r,n){return s.createElement(v.default,{key:r.id,current:r.current,item:r,onClick:e.handleItemClick,onTimeChange:i().partial(e.handleItemTimeChange,r),pit:r.pit,time:e.state.time,mode:e.props.item_time_mode,last:n===t.length-1,actual_start:e.props.getItemStartsAt(r,{actual:!0,service_time_id:e.state.visibleServiceTimeId}),projected_start:e.props.getItemStartsAt(r,{service_time_id:e.state.visibleServiceTimeId}),planned_start:e.props.getItemStartsAt(r,{onlyPlanned:!0,service_time_id:e.state.visibleServiceTimeId})})})},renderResumeButton:function(){return s.createElement(c.N,null,this._shouldShowResumeButton()&&s.createElement(u.P.button,{key:"resume_button",className:"LivePlanListItem-resume-action",onClick:this.handleResumeClick,type:"button",initial:{maxHeight:0},animate:{maxHeight:"4rem"},exit:{maxHeight:0}},s.createElement("span",{className:"icon-live-resume"}),"resume"))},renderScrollSpacer:function(){return s.createElement("div",{className:"LivePlanList-spacer"})},renderServiceSelector:function(){var e=this,t=(this.props.plan?i().sortBy(this.props.plan.service_times,"starts_at"):[]).reduce(function(e,t){return e["time_".concat(t.id)]={label:a()((0,p.A)(t.starts_at)).format((0,h.A)())+" Service",value:t.id},e},{});return s.createElement(m.default,{name:"visible_service",className:"LivePlanList-control",selected:"time_".concat(this.state.visibleServiceTimeId),onChange:function(r){var n=t[r].value;e.handleServiceTimeChange(n)},icon:s.createElement("span",{className:"icon-live-check"}),options:t})},getClassNames:function(){var e=["LivePlanList"];return this.hasEvenCount()&&e.push("has-evenCount"),e.join(" ")},getComputedStylesForBody:function(){if(!this.state.height)return{};var e=this.state.height;return this.state.scrolled&&(e-=40),{height:e}},getItems:function(){var e=this,t=[];(this.props.plan.items||[]).forEach(function(r){r.current=e.props.current_pit&&e.props.current_pit.plan_item_id===r.id&&e.props.current_pit.time_id===e.state.visibleServiceTimeId,r.pit=i().find(r.plan_item_times,function(t){return t.time_id===e.state.visibleServiceTimeId}),r.pit&&r.pit.exclude||t.push(r)});var r=i().find(this.props.plan.service_times,function(t){return t.id===e.state.visibleServiceTimeId});return r&&t.push({id:"end",title:"End",length:this.props.getTotalTime({service_time:r}),current:this.props.current_pit&&"end"===this.props.current_pit.plan_item_id,service_time:r,pit:{live_start:this.getServiceEndTime(r)}}),t},getServiceTime:function(){if(this.props.service_time&&this.props.service_time.starts_at)return a()((0,p.A)(this.props.service_time.starts_at)).format((0,h.A)())},setTime:function(){this.setState({time:new Date})},handleItemClick:function(e){this.props.onItemClick(e)},handleItemTimeChange:function(e,t){"end"===e.id?this.props.onItemTimeChange({time:t,time_id:e.service_time.id}):this.props.onItemTimeChange({time:t,pit_id:e.pit&&e.pit.id})},handleResumeClick:function(){var e=this;this.handleUnscroll(function(){e.setScrollPosition()})},handleServiceTimeChange:function(e){this.setState({visibleServiceTimeId:parseInt(e)})},hasEvenCount:function(){return this.props.plan.items&&this.props.plan.items.length%2===0},getServiceEndTime:function(e){return e.recorded?e.actual_end:null},setHeight:function(){var e=$(l.findDOMNode(this)),t=$(window).height()-$(".LivePlanList-header").height()-e.offset().top;this.setState({height:t})},setScrollPosition:function(){if(!this.state.scrolled){var e=$(this.scrollable),t=e.find("tr.is-current")[0];if(t){var r=t.offsetTop-$(".LivePlanList-body__outer").position().top;e.scrollTop(r)}else e.scrollTop(0)}},setSpacerHeight:function(){var e=$(this.scrollable),t=e.find("tr.is-current");if(t.length>0){var r=t.height();t.nextAll().toArray().map(function(e){return r+=$(e).height()});var n=Math.max(e.height()-r,0);this.spacerHeight!==n&&($(".LivePlanList-spacer").css("height",n+"px"),this.spacerHeight=n)}},_shouldShowResumeButton:function(){return this.state.scrolled&&this.props.service_time&&this.props.service_time.id===this.state.visibleServiceTimeId}})},42575:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(89280),s=r(10086),c=r(80460),u=r(99069),l=r(22342),f=r(72731);t.default=function(e){var t=e.section,r=t.items,n=t.isPermitted,d=t.selectAll,p=void 0===d||d,h=t.selectNone,m=void 0===h||h,v=t.title,y=e.selectedItems,g=e.isFiltering,b=e.onChange,S=i().reject(r,"isDisabled");return o.createElement(u.A.Item,{distribution:"space-between",spacing:1},o.createElement(c.A,null,v),i().isEmpty(r)?o.createElement(a.A,{size:"sm",color:"grey-3"},"None"):n&&!g&&o.createElement(l.I,{axis:"horizontal",spacing:1},m&&!(S.length&&i()(S).intersectionBy(y,f.typeId).isEmpty())&&o.createElement(s.$,{onClick:function(){return b(i().differenceBy(y,S,f.typeId))},size:"xs",theme:"neutral",title:"Remove All",variant:"outline"}),p&&!(S.length&&i()(S).differenceBy(y,f.typeId).isEmpty())&&o.createElement(s.$,{onClick:function(){return b(i().unionBy(y,S,f.typeId))},size:"xs",theme:"neutral",title:"Select All",variant:"outline"})))}},42773:function(e,t,r){var n;n=function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=e,r.c=t,r.p="build/",r(0)}([function(e,t,r){function n(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var i=r(1);t.Motion=n(i);var o=r(18);t.StaggeredMotion=n(o);var a=r(19);t.TransitionMotion=n(a);var s=r(21);t.spring=n(s);var c=r(22);t.presets=n(c);var u=r(3);t.stripStyle=n(u);var l=r(23);t.reorderKeys=n(l)},function(e,t,r){t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var a=o(r(2)),s=o(r(3)),c=o(r(4)),u=o(r(5)),l=o(r(7)),f=o(r(8)),d=o(r(9)),p=o(r(10)),h=1e3/60,m=function(e){function t(r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,r=i.state,o=r.currentStyle,a=r.currentVelocity,s=r.lastIdealStyle,c=r.lastIdealVelocity;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var l=e[u];"number"===typeof l&&(t||(t=!0,o=n({},o),a=n({},a),s=n({},s),c=n({},c)),o[u]=l,a[u]=0,s[u]=l,c[u]=0)}t&&i.setState({currentStyle:o,currentVelocity:a,lastIdealStyle:s,lastIdealVelocity:c})},this.startAnimationIfNecessary=function(){i.animationID=l.default(function(e){var t=i.props.style;if(f.default(i.state.currentStyle,t,i.state.currentVelocity))return i.wasAnimating&&i.props.onRest&&i.props.onRest(),i.animationID=null,i.wasAnimating=!1,void(i.accumulatedTime=0);i.wasAnimating=!0;var r=e||u.default(),n=r-i.prevTime;if(i.prevTime=r,i.accumulatedTime=i.accumulatedTime+n,i.accumulatedTime>10*h&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();var o=(i.accumulatedTime-Math.floor(i.accumulatedTime/h)*h)/h,a=Math.floor(i.accumulatedTime/h),s={},l={},d={},p={};for(var m in t)if(Object.prototype.hasOwnProperty.call(t,m)){var v=t[m];if("number"===typeof v)d[m]=v,p[m]=0,s[m]=v,l[m]=0;else{for(var y=i.state.lastIdealStyle[m],g=i.state.lastIdealVelocity[m],b=0;b<a;b++){var S=c.default(h/1e3,y,g,v.val,v.stiffness,v.damping,v.precision);y=S[0],g=S[1]}var w=c.default(h/1e3,y,g,v.val,v.stiffness,v.damping,v.precision),O=w[0],P=w[1];d[m]=y+(O-y)*o,p[m]=g+(P-g)*o,s[m]=y,l[m]=g}}i.animationID=null,i.accumulatedTime-=a*h,i.setState({currentStyle:d,currentVelocity:p,lastIdealStyle:s,lastIdealVelocity:l}),i.unreadPropStyle=null,i.startAnimationIfNecessary()})},this.state=this.defaultState()}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyle:p.default.objectOf(p.default.number),style:p.default.objectOf(p.default.oneOfType([p.default.number,p.default.object])).isRequired,children:p.default.func.isRequired,onRest:p.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,r=e.style,n=t||s.default(r),i=a.default(n);return{currentStyle:n,currentVelocity:i,lastIdealStyle:n,lastIdealVelocity:i}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(l.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&d.default.Children.only(e)},t}(d.default.Component);t.default=m,e.exports=t.default},function(e,t){t.__esModule=!0,t.default=function(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=0);return t},e.exports=t.default},function(e,t){t.__esModule=!0,t.default=function(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]="number"===typeof e[r]?e[r]:e[r].val);return t},e.exports=t.default},function(e,t){t.__esModule=!0,t.default=function(e,t,n,i,o,a,s){var c=n+(-o*(t-i)+-a*n)*e,u=t+c*e;return Math.abs(c)<s&&Math.abs(u-i)<s?(r[0]=i,r[1]=0,r):(r[0]=u,r[1]=c,r)};var r=[0,0];e.exports=t.default},function(e,t,r){(function(t){(function(){var r,n,i;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(r()-i)/1e6},n=t.hrtime,i=(r=function(){var e;return 1e9*(e=n())[0]+e[1]})()):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(void 0)}).call(t,r(6))},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"===typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,u=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!l){var e=s(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){(function(t){for(var n=r(5),i="undefined"===typeof window?t:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],c=i["cancel"+a]||i["cancelRequest"+a],u=0;!s&&u<o.length;u++)s=i[o[u]+"Request"+a],c=i[o[u]+"Cancel"+a]||i[o[u]+"CancelRequest"+a];if(!s||!c){var l=0,f=0,d=[],p=1e3/60;s=function(e){if(0===d.length){var t=n(),r=Math.max(0,p-(t-l));l=r+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=function(){if(!e[r].cancelled)try{e[r].callback(l)}catch(t){setTimeout(function(){throw t},0)}},r=0;r<e.length;r++)t()},Math.round(r))}return d.push({handle:++f,callback:e,cancelled:!1}),f},c=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){c.apply(i,arguments)},e.exports.polyfill=function(){i.requestAnimationFrame=s,i.cancelAnimationFrame=c}}).call(t,function(){return this}())},function(e,t){t.__esModule=!0,t.default=function(e,t,r){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0!==r[n])return!1;var i="number"===typeof t[n]?t[n]:t[n].val;if(e[n]!==i)return!1}return!0},e.exports=t.default},function(t,r){t.exports=e},function(e,t,r){(function(t){if("production"!==t.env.NODE_ENV){var n="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r(11)(function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},!0)}else e.exports=r(17)()}).call(t,r(6))},function(e,t,r){(function(t){var n=r(12),i=r(13),o=r(14),a=r(15),s=r(16);e.exports=function(e,r){var c="function"===typeof Symbol&&Symbol.iterator,u="<<anonymous>>",l={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:p(n.thatReturnsNull),arrayOf:function(e){return p(function(t,r,n,i,o){if("function"!==typeof e)return new d("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var s=t[r];if(!Array.isArray(s))return new d("Invalid "+i+" `"+o+"` of type `"+v(s)+"` supplied to `"+n+"`, expected an array.");for(var c=0;c<s.length;c++){var u=e(s,c,n,i,o+"["+c+"]",a);if(u instanceof Error)return u}return null})},element:p(function(t,r,n,i,o){var a=t[r];return e(a)?null:new d("Invalid "+i+" `"+o+"` of type `"+v(a)+"` supplied to `"+n+"`, expected a single ReactElement.")}),instanceOf:function(e){return p(function(t,r,n,i,o){if(!(t[r]instanceof e)){var a=e.name||u;return new d("Invalid "+i+" `"+o+"` of type `"+((s=t[r]).constructor&&s.constructor.name?s.constructor.name:u)+"` supplied to `"+n+"`, expected instance of `"+a+"`.")}var s;return null})},node:p(function(e,t,r,n,i){return m(e[t])?null:new d("Invalid "+n+" `"+i+"` supplied to `"+r+"`, expected a ReactNode.")}),objectOf:function(e){return p(function(t,r,n,i,o){if("function"!==typeof e)return new d("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var s=t[r],c=v(s);if("object"!==c)return new d("Invalid "+i+" `"+o+"` of type `"+c+"` supplied to `"+n+"`, expected an object.");for(var u in s)if(s.hasOwnProperty(u)){var l=e(s,u,n,i,o+"."+u,a);if(l instanceof Error)return l}return null})},oneOf:function(e){return Array.isArray(e)?p(function(t,r,n,i,o){for(var a=t[r],s=0;s<e.length;s++)if(f(a,e[s]))return null;return new d("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+n+"`, expected one of "+JSON.stringify(e)+".")}):("production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),n.thatReturnsNull)},oneOfType:function(e){return Array.isArray(e)?p(function(t,r,n,i,o){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,r,n,i,o,a))return null;return new d("Invalid "+i+" `"+o+"` supplied to `"+n+"`.")}):("production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),n.thatReturnsNull)},shape:function(e){return p(function(t,r,n,i,o){var s=t[r],c=v(s);if("object"!==c)return new d("Invalid "+i+" `"+o+"` of type `"+c+"` supplied to `"+n+"`, expected `object`.");for(var u in e){var l=e[u];if(l){var f=l(s,u,n,i,o+"."+u,a);if(f)return f}}return null})}};function f(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function d(e){this.message=e,this.stack=""}function p(e){if("production"!==t.env.NODE_ENV)var n={},s=0;function c(c,l,f,p,h,m,v){if(p=p||u,m=m||f,v!==a)if(r)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!==typeof console){var y=p+":"+f;!n[y]&&s<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",m,p),n[y]=!0,s++)}return null==l[f]?c?null===l[f]?new d("The "+h+" `"+m+"` is marked as required in `"+p+"`, but its value is `null`."):new d("The "+h+" `"+m+"` is marked as required in `"+p+"`, but its value is `undefined`."):null:e(l,f,p,h,m)}var l=c.bind(null,!1);return l.isRequired=c.bind(null,!0),l}function h(e){return p(function(t,r,n,i,o,a){var s=t[r];if(v(s)!==e){var c=function(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(s);return new d("Invalid "+i+" `"+o+"` of type `"+c+"` supplied to `"+n+"`, expected `"+e+"`.")}return null})}function m(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(m);if(null===t||e(t))return!0;var r=function(e){var t=e&&(c&&e[c]||e["@@iterator"]);if("function"===typeof t)return t}(t);if(!r)return!1;var n,i=r.call(t);if(r!==t.entries){for(;!(n=i.next()).done;)if(!m(n.value))return!1}else for(;!(n=i.next()).done;){var o=n.value;if(o&&!m(o[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"===typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}return d.prototype=Error.prototype,l.checkPropTypes=s,l.PropTypes=l,l}}).call(t,r(6))},function(e,t){function r(e){return function(){return e}}var n=function(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){(function(t){var r=function(e){};"production"!==t.env.NODE_ENV&&(r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,t,n,i,o,a,s,c){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,o,a,s,c],f=0;(u=new Error(t.replace(/%s/g,function(){return l[f++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}}).call(t,r(6))},function(e,t,r){(function(t){var n,i=r(12);"production"!==t.env.NODE_ENV&&(n=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0,o="Warning: "+e.replace(/%s/g,function(){return r[i++]});"undefined"!==typeof console&&console.error(o);try{throw new Error(o)}catch(a){}},i=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];n.apply(void 0,[t].concat(i))}}),e.exports=i}).call(t,r(6))},function(e,t){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){(function(t){if("production"!==t.env.NODE_ENV)var n=r(13),i=r(14),o=r(15),a={};e.exports=function(e,r,s,c,u){if("production"!==t.env.NODE_ENV)for(var l in e)if(e.hasOwnProperty(l)){var f;try{n("function"===typeof e[l],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",c||"React class",s,l),f=e[l](r,l,c,s,null,o)}catch(p){f=p}if(i(!f||f instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",c||"React class",s,l,typeof f),f instanceof Error&&!(f.message in a)){a[f.message]=!0;var d=u?u():"";i(!1,"Failed %s type: %s%s",s,f.message,null!=d?d:"")}}}}).call(t,r(6))},function(e,t,r){var n=r(12),i=r(13);e.exports=function(){function e(){i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t,r){t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var a=o(r(2)),s=o(r(3)),c=o(r(4)),u=o(r(5)),l=o(r(7)),f=o(r(8)),d=o(r(9)),p=o(r(10)),h=1e3/60,m=function(e){function t(r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=i.state,r=t.currentStyles,o=t.currentVelocities,a=t.lastIdealStyles,s=t.lastIdealVelocities,c=!1,u=0;u<e.length;u++){var l=e[u],f=!1;for(var d in l)if(Object.prototype.hasOwnProperty.call(l,d)){var p=l[d];"number"===typeof p&&(f||(f=!0,c=!0,r[u]=n({},r[u]),o[u]=n({},o[u]),a[u]=n({},a[u]),s[u]=n({},s[u])),r[u][d]=p,o[u][d]=0,a[u][d]=p,s[u][d]=0)}}c&&i.setState({currentStyles:r,currentVelocities:o,lastIdealStyles:a,lastIdealVelocities:s})},this.startAnimationIfNecessary=function(){i.animationID=l.default(function(e){var t=i.props.styles(i.state.lastIdealStyles);if(function(e,t,r){for(var n=0;n<e.length;n++)if(!f.default(e[n],t[n],r[n]))return!1;return!0}(i.state.currentStyles,t,i.state.currentVelocities))return i.animationID=null,void(i.accumulatedTime=0);var r=e||u.default(),n=r-i.prevTime;if(i.prevTime=r,i.accumulatedTime=i.accumulatedTime+n,i.accumulatedTime>10*h&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var o=(i.accumulatedTime-Math.floor(i.accumulatedTime/h)*h)/h,a=Math.floor(i.accumulatedTime/h),s=[],l=[],d=[],p=[],m=0;m<t.length;m++){var v=t[m],y={},g={},b={},S={};for(var w in v)if(Object.prototype.hasOwnProperty.call(v,w)){var O=v[w];if("number"===typeof O)y[w]=O,g[w]=0,b[w]=O,S[w]=0;else{for(var P=i.state.lastIdealStyles[m][w],_=i.state.lastIdealVelocities[m][w],E=0;E<a;E++){var j=c.default(h/1e3,P,_,O.val,O.stiffness,O.damping,O.precision);P=j[0],_=j[1]}var T=c.default(h/1e3,P,_,O.val,O.stiffness,O.damping,O.precision),I=T[0],C=T[1];y[w]=P+(I-P)*o,g[w]=_+(C-_)*o,b[w]=P,S[w]=_}}d[m]=y,p[m]=g,s[m]=b,l[m]=S}i.animationID=null,i.accumulatedTime-=a*h,i.setState({currentStyles:d,currentVelocities:p,lastIdealStyles:s,lastIdealVelocities:l}),i.unreadPropStyles=null,i.startAnimationIfNecessary()})},this.state=this.defaultState()}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyles:p.default.arrayOf(p.default.objectOf(p.default.number)),styles:p.default.func.isRequired,children:p.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,r=e.styles,n=t||r().map(s.default),i=n.map(function(e){return a.default(e)});return{currentStyles:n,currentVelocities:i,lastIdealStyles:n,lastIdealVelocities:i}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(l.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&d.default.Children.only(e)},t}(d.default.Component);t.default=m,e.exports=t.default},function(e,t,r){t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var a=o(r(2)),s=o(r(3)),c=o(r(4)),u=o(r(20)),l=o(r(5)),f=o(r(7)),d=o(r(8)),p=o(r(9)),h=o(r(10)),m=1e3/60;function v(e,t,r){var n=t;return null==n?e.map(function(e,t){return{key:e.key,data:e.data,style:r[t]}}):e.map(function(e,t){for(var i=0;i<n.length;i++)if(n[i].key===e.key)return{key:n[i].key,data:n[i].data,style:r[t]};return{key:e.key,data:e.data,style:r[t]}})}function y(e,t,r,n,i,o,s,c,l){for(var f=u.default(n,i,function(e,n){var i=t(n);return null==i||d.default(o[e],i,s[e])?(r({key:n.key,data:n.data}),null):{key:n.key,data:n.data,style:i}}),p=[],h=[],m=[],v=[],y=0;y<f.length;y++){for(var g=f[y],b=null,S=0;S<n.length;S++)if(n[S].key===g.key){b=S;break}if(null==b){var w=e(g);p[y]=w,m[y]=w;var O=a.default(g.style);h[y]=O,v[y]=O}else p[y]=o[b],m[y]=c[b],h[y]=s[b],v[y]=l[b]}return[f,p,h,m,v]}var g=function(e){function t(r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=y(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,e,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),r=t[0],o=t[1],a=t[2],s=t[3],c=t[4],u=0;u<e.length;u++){var l=e[u].style,f=!1;for(var d in l)if(Object.prototype.hasOwnProperty.call(l,d)){var p=l[d];"number"===typeof p&&(f||(f=!0,o[u]=n({},o[u]),a[u]=n({},a[u]),s[u]=n({},s[u]),c[u]=n({},c[u]),r[u]={key:r[u].key,data:r[u].data,style:n({},r[u].style)}),o[u][d]=p,a[u][d]=0,s[u][d]=p,c[u][d]=0,r[u].style[d]=p)}}i.setState({currentStyles:o,currentVelocities:a,mergedPropsStyles:r,lastIdealStyles:s,lastIdealVelocities:c})},this.startAnimationIfNecessary=function(){i.unmounting||(i.animationID=f.default(function(e){if(!i.unmounting){var t=i.props.styles,r="function"===typeof t?t(v(i.state.mergedPropsStyles,i.unreadPropStyles,i.state.lastIdealStyles)):t;if(function(e,t,r,n){if(n.length!==t.length)return!1;for(var i=0;i<n.length;i++)if(n[i].key!==t[i].key)return!1;for(i=0;i<n.length;i++)if(!d.default(e[i],t[i].style,r[i]))return!1;return!0}(i.state.currentStyles,r,i.state.currentVelocities,i.state.mergedPropsStyles))return i.animationID=null,void(i.accumulatedTime=0);var n=e||l.default(),o=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+o,i.accumulatedTime>10*m&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var a=(i.accumulatedTime-Math.floor(i.accumulatedTime/m)*m)/m,s=Math.floor(i.accumulatedTime/m),u=y(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,r,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),f=u[0],p=u[1],h=u[2],g=u[3],b=u[4],S=0;S<f.length;S++){var w=f[S].style,O={},P={},_={},E={};for(var j in w)if(Object.prototype.hasOwnProperty.call(w,j)){var T=w[j];if("number"===typeof T)O[j]=T,P[j]=0,_[j]=T,E[j]=0;else{for(var I=g[S][j],C=b[S][j],A=0;A<s;A++){var x=c.default(m/1e3,I,C,T.val,T.stiffness,T.damping,T.precision);I=x[0],C=x[1]}var k=c.default(m/1e3,I,C,T.val,T.stiffness,T.damping,T.precision),N=k[0],L=k[1];O[j]=I+(N-I)*a,P[j]=C+(L-C)*a,_[j]=I,E[j]=C}}g[S]=_,b[S]=E,p[S]=O,h[S]=P}i.animationID=null,i.accumulatedTime-=s*m,i.setState({currentStyles:p,currentVelocities:h,lastIdealStyles:g,lastIdealVelocities:b,mergedPropsStyles:f}),i.unreadPropStyles=null,i.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyles:h.default.arrayOf(h.default.shape({key:h.default.string.isRequired,data:h.default.any,style:h.default.objectOf(h.default.number).isRequired})),styles:h.default.oneOfType([h.default.func,h.default.arrayOf(h.default.shape({key:h.default.string.isRequired,data:h.default.any,style:h.default.objectOf(h.default.oneOfType([h.default.number,h.default.object])).isRequired}))]).isRequired,children:h.default.func.isRequired,willEnter:h.default.func,willLeave:h.default.func,didLeave:h.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return s.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,r=e.styles,n=e.willEnter,i=e.willLeave,o=e.didLeave,c="function"===typeof r?r(t):r,u=void 0;u=null==t?c:t.map(function(e){for(var t=0;t<c.length;t++)if(c[t].key===e.key)return c[t];return e});var l=null==t?c.map(function(e){return s.default(e.style)}):t.map(function(e){return s.default(e.style)}),f=null==t?c.map(function(e){return a.default(e.style)}):t.map(function(e){return a.default(e.style)}),d=y(n,i,o,u,c,l,f,l,f),p=d[0];return{currentStyles:d[1],currentVelocities:d[2],lastIdealStyles:d[3],lastIdealVelocities:d[4],mergedPropsStyles:p}},t.prototype.componentDidMount=function(){this.prevTime=l.default(),this.startAnimationIfNecessary()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"===typeof t?t(v(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=l.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(f.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=v(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&p.default.Children.only(t)},t}(p.default.Component);t.default=g,e.exports=t.default},function(e,t){t.__esModule=!0,t.default=function(e,t,r){for(var n={},i=0;i<e.length;i++)n[e[i].key]=i;var o={};for(i=0;i<t.length;i++)o[t[i].key]=i;var a=[];for(i=0;i<t.length;i++)a[i]=t[i];for(i=0;i<e.length;i++)if(!Object.prototype.hasOwnProperty.call(o,e[i].key)){var s=r(i,e[i]);null!=s&&a.push(s)}return a.sort(function(e,r){var i=o[e.key],a=o[r.key],s=n[e.key],c=n[r.key];if(null!=i&&null!=a)return o[e.key]-o[r.key];if(null!=s&&null!=c)return n[e.key]-n[r.key];if(null!=i){for(var u=0;u<t.length;u++){var l=t[u].key;if(Object.prototype.hasOwnProperty.call(n,l)){if(i<o[l]&&c>n[l])return-1;if(i>o[l]&&c<n[l])return 1}}return 1}for(u=0;u<t.length;u++)if(l=t[u].key,Object.prototype.hasOwnProperty.call(n,l)){if(a<o[l]&&s>n[l])return 1;if(a>o[l]&&s<n[l])return-1}return-1})},e.exports=t.default},function(e,t,r){t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e,t){return n({},s,t,{val:e})};var i,o=r(22),a=(i=o)&&i.__esModule?i:{default:i},s=n({},a.default.noWobble,{precision:.01});e.exports=t.default},function(e,t){t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},function(e,t,r){(function(r){t.__esModule=!0,t.default=function(){"development"===r.env.NODE_ENV&&(n||(n=!0,console.error("`reorderKeys` has been removed, since it is no longer needed for TransitionMotion's new styles array API.")))};var n=!1;e.exports=t.default}).call(t,r(6))}])},e.exports=n(r(96540))},43081:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i)()({displayName:"LivePlanItemNoteRow",render:function(){return n.createElement("tr",{className:"LivePlanItemNote",key:this.props.note.id},n.createElement("td",{className:"LivePlanItemNote-category"},this.props.note.category_name),n.createElement("td",{className:"LivePlanItemNote-message"},this.props.note.note))}});t.default=o},44090:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(52306),s=r.n(a),c=r(70559),u=r(90172),l=r.n(u),f=s()({displayName:"LiveWatchedServiceSelector",render:function(){return o.createElement("div",{className:"LiveWatchedServiceSelector"},o.createElement("div",{className:"LiveWatchedServiceSelector__inner"},o.createElement("h3",{className:"LiveWatchedServiceSelector__header"},o.createElement(c.default,{name:"backward",onClick:this.props.onClose}),"Select a service to watch"),o.createElement("ul",{className:"LiveWatchedServiceSelector__list"},this.renderServiceList())))},renderServiceList:function(){var e=this;return(window.plans_to_watch||[]).map(function(t){return o.createElement("li",{key:t.id,className:e.getItemClassSet(t)},o.createElement("span",{className:"LiveWatchedServiceSelector__service-name"},t.ministry_name),o.createElement("span",{className:"LiveWatchedServiceSelector__title"},t.title),e.renderControls(t.id))})},renderControls:function(e){return-1!==this.props.ids.indexOf(e)?o.createElement("span",{className:"ios-toggle toggled-on",onClick:i().partial(this.props.onRemove,e)}):o.createElement("span",{className:"ios-toggle toggled-off",onClick:i().partial(this.props.onAdd,e)})},getItemClassSet:function(e){return l()({selected:-1!==this.props.ids.indexOf(e.id)})}});t.default=f},44600:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var n=r(96540),i=r(10086);function o(e){var t=e.deleteFileUrl,r=(0,n.useRef)(new Services.Classes.Files.Views.Edit("file-edit"));return n.createElement(i.$,{className:"float-left",marginRight:"auto",onClick:function(e){r.current.deleteFile(e,t)},theme:"delete",title:"Delete",tooltip:{placement:"right",title:"Type x when hovering over files to remove."},variant:"outline"})}},44802:function(e,t,r){"use strict";r.r(t);var n=r(10076);t.default=function(e){var t=e.toggleExpanded,r=e.expanded,i=e.limit,o=e.total;return o<=i?null:r?React.createElement(n.Less,{onClick:t}):React.createElement(n.More,{numMore:o-i,onClick:t})}},45664:function(e,t,r){"use strict";r.r(t);var n=r(77138),i=r(75825),o=r(22342),a=r(88538),s=r(96540);t.default=function(e){var t=e.children,r=e.noIcon;return s.createElement(n.F,{padding:2,type:"warning",width:"100%"},r?t:s.createElement(o.I,{alignment:"start",axis:"horizontal",distribution:"start",spacing:1.5},s.createElement(i.A,{color:"warning",marginTop:.25,name:"general.exclamationTriangle",size:"md"}),s.createElement(a.E,{textAlign:"left"},t)))}},45963:function(e,t,r){"use strict";var n=r(2543),i=r.n(n),o=r(61189);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}i().mixin(s(s({},r(18059)),{},{article:function(e){return RegExp(/[aeiou]/i).test(i()(e).trim()[0])?"an":"a"},clean:function(e){return i()(e).trim().split(/\s+/).join(" ")},isBlank:i().flow(i().trim,i().isEmpty),compose:i().flowRight,toSentence:o.A})),i().singular(/^(media)$/i,"$1"),i().plural(/^(media)$/i,"$1")},46118:function(e,t,r){"use strict";r.r(t);t.default=function(e){var t=e.shelfId,r=e.children;return React.createElement("div",{id:t,"data-shelf":!0},React.createElement("div",{className:"data-shelf-content"},r))}},47130:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(63017),s=r(66842),c=r(88615),u=r(302),l=r(16697);function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var p=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).state={results:[],currentPage:0,isLoading:!1,hasErrors:!1,defaultSearch:localStorage.addFileSearchTerm||""},r.handleKeyUp=r.handleKeyUp.bind(f(r)),r.handlePrevious=r.handlePrevious.bind(f(r)),r.handleNext=r.handleNext.bind(f(r)),r.handleAddResult=r.handleAddResult.bind(f(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,d(t,r);var p=n.prototype;return p.componentDidMount=function(){this.search(this.state.defaultSearch)},p.search=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;""!==e&&(this.setState({isLoading:!0,hasErrors:!1}),$.ajax({type:"POST",url:"/files/spotify/search",data:{query:e,page:r,per_page:l.default},timeout:8e3,dataType:"json",error:function(e){var r={};503===e.status&&(r={title:"Spotify isn't available in your area",message:"Please check Spotify's available territories or contact support if you think this is an error."}),t.setState({isLoading:!1,hasErrors:!0,results:r})},success:function(e,n,o){t.setState({isLoading:!1,hasErrors:!1,currentPage:r,results:i().map(e,function(e){return{id:e.id,author:i().get(e,"artists[0].name"),author_uri:e.customUrl,thumbnail:i().get(e,"album.images[1].url"),title:e.name,uri:e.uri,preview_url:e.preview_url}})})}}))},p.handleAddResult=function(e){var t={item_id:this.props.itemId,item_type:this.props.itemType,attribs:i().find(this.state.results,function(t){return t.id===e})};setTimeout(function(){return Services.Modal.hide()},650),$.post("/files/spotify",t)},p.handleKeyUp=function(e){var t=e.target.value;"Enter"===e.key&&""!==t&&this.search(t)},p.handleChange=function(e){var t=e.target.value;try{localStorage.addFileSearchTerm=t}catch(r){}},p.handlePrevious=function(){this.search(this._searchInput.value,this.state.currentPage-1)},p.handleNext=function(){this.search(this._searchInput.value,this.state.currentPage+1)},p.render=function(){var e=this,t=this.state,r=t.defaultSearch,n=t.isLoading,i=t.results,l=t.currentPage,f=t.hasErrors;return o.createElement("div",null,o.createElement("input",{ref:function(t){return e._searchInput=t},type:"search",placeholder:"Search Spotify",defaultValue:r,onKeyUp:this.handleKeyUp,onChange:this.handleChange}),n?o.createElement(a.default,null):o.createElement("div",{className:"file-results-wrap"},f?o.createElement(u.default,i):o.createElement(s.default,{results:i,addResult:this.handleAddResult})),!n&&i.length>0&&o.createElement(c.default,{resultsCount:i.length,prevPage:l>1,onPrevious:this.handlePrevious,onNext:this.handleNext}))},n}(o.Component);t.default=p},48260:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var n=r(29423);function i(e){var t=e.filesModalPath;return Services.Flux.getStore("PersonCurrentStore").permissionsEqualOrAbove("Editor")?React.createElement("div",{className:"text-center my-32"},React.createElement("div",{className:"flex align-items-center justify-center full-width my-32"},React.createElement(n.default,null)),"Drag and drop or ",React.createElement("a",{"data-modal-url":t},"click here")," to add your first file."):React.createElement("div",{className:"text-center"},"Sorry no files to see here")}},48766:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(2543),o=r.n(i),a=r(77138),s=r(22342),c=r(69500),u=r(56748);function l(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){h(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var v=function(e){var t=e.tags,r=e.type,i=e.onDelete;return n.createElement("div",{className:"react-tags"},t.map(function(e){var t=e.id,o=e.name;return n.createElement(y,{key:t,id:t,name:o,type:r,onDelete:i})}))},y=function(e){var t=e.type,r=e.id,i=e.name,o=e.onDelete;return n.createElement("span",{className:"tag"},i,n.createElement("button",{className:"btn btn-link p-0 ml-4",onClick:function(){return o(t,r)}},n.createElement("i",{className:"icon-close"})))},g=function(e){var t,r;function i(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).formatTagGroupsForAutocomplete=function(){return t.props.tagGroups.map(function(e){return p(p({},e),{},{tags:e.tags.map(function(t){return p(p({},t),{},{tagGroupId:e.id,tagGroupName:e.name,serviceTypeFolderName:e.serviceTypeFolderName})})})})},t}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,m(t,r);var f=i.prototype;return f.excludedTagGroupIds=function(e,t){return e.reduce(function(e,r){var n=r.tagGroupId,i=o().find(t,{id:n});return i.allowMultipleSelections?e:[].concat(l(e),[i.id])},[])},f.renderAddSingleSelectTagWarning=function(){var e=this.props,t=e.tagGroups,r=e.type,n=this.props.tags.filter(function(e){var r=e.tagGroupId;return!o().find(t,{id:r}).allowMultipleSelections});return this.renderWarning(function(e,t){return"".concat((0,c.Re)(t),"         only allow").concat(t.length>1?"":"s"," one tag so         ").concat(o().pluralize(r).toLowerCase()," with an existing         ").concat((0,c.Re)(t),"         will have ").concat(t.length>1?"them":"it"," changed to         ").concat((0,c.Re)(e))},n)},f.renderRemoveRequiredTagWarning=function(){var e=this.props,t=e.tagGroups,r=e.tagsToRemove.filter(function(e){var r=e.tagGroupId;return o().find(t,{id:r}).required});return this.renderWarning(function(e,t){return"".concat((0,c.Re)(t),"         ").concat(t.length>1?"are":"is"," required so         ").concat((0,c.Re)(e),"         will only be removed if         ").concat(e.length>1?"they are":"it is","         not the only         ").concat((0,c.Re)(t))},r)},f.renderWarning=function(e,t){var r=this.props.tagGroups,i=t.map(function(e){return e.name}),s=o().uniq(t.map(function(e){var t=e.tagGroupId;return o().find(r,{id:t}).name}));return o().some(t)&&n.createElement(a.F,{type:"warning"},e(i,s))},f.renderAddTags=function(){var e=this.props,t=e.handleRemoveTag,r=e.tags,i=e.tagGroups;return n.createElement("div",null,n.createElement("label",{className:"block mb-8"},"Add Tags"),n.createElement(s.I,{axis:"horizontal",className:"react-tags-wrapper input",marginBottom:1},n.createElement(v,{tags:r,type:"tags",onDelete:t}),n.createElement("div",{className:"react-tags-search"},n.createElement(u.default,{appendTo:".modal",tagGroups:this.formatTagGroupsForAutocomplete(),listClasses:"bulk-edit-teams-autocomplete",open:!0,excludedTagIds:r.map(function(e){return e.id}),excludedTagGroupIds:this.excludedTagGroupIds(r,i),onAddTag:this.props.handleAddTag("tags")}))),this.renderAddSingleSelectTagWarning())},f.renderRemoveTags=function(){var e=this.props,t=e.handleAddTag,r=e.handleRemoveTag,i=e.tagsToRemove;return n.createElement("div",null,n.createElement("label",{className:"block mt-16 mb-8"},"Remove Tags"),n.createElement("div",{className:"react-tags-wrapper input flex"},n.createElement(v,{tags:i,type:"tagsToRemove",onDelete:r}),n.createElement("div",{className:"react-tags-search"},n.createElement(u.default,{appendTo:".modal",tagGroups:this.formatTagGroupsForAutocomplete(),listClasses:"bulk-edit-teams-autocomplete",open:!0,excludedTagIds:i.map(function(e){return e.id}),onAddTag:t("tagsToRemove")}))),this.renderRemoveRequiredTagWarning())},f.render=function(){return n.createElement(n.Fragment,null,this.renderAddTags(),this.renderRemoveTags())},i}(n.Component);t.default=g},48958:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(2543),o=r.n(i),a=r(26922),s=r(30402),c=r(16517),u=r(22342);t.default=function(e){var t=e.columns,r=e.selectedColumns,i=e.style;return n.createElement(c.A,{closeOnSelect:!1,icon:{name:"general.threeVerticalBars"},marginLeft:"auto",onSelect:function(e){return t=e.key,Services.Flux.getActions("RememberedItemActions").update({key:t});var t},paddingHorizontal:1,placement:"bottom-end",style:i,theme:"neutral",tooltip:{title:"Filter Columns"},variant:"outline"},t.map(function(e){return e.toggle&&n.createElement(c.A.Item,{key:e.key,value:e},n.createElement(u.I,{axis:"horizontal",spacing:1},n.createElement(s.A,{checked:r[e.key]}),n.createElement(a.a,null,(i=(t=e).columnPickerName,l=t.label,f=t.key,i||!o().isFunction(l)&&l||o().startCase(f)))));var t,i,l,f}))}},49462:function(e,t,r){"use strict";r.r(t),r.d(t,{FileStorageModalController:function(){return j},showFileStorageModal:function(){return E}});var n=r(96540),i=r(77138),o=r(10086),a=r(30402),s=r(38098),c=r(75825),u=r(22342),l=r(88538),f=r(15738),d=r(38728),p=r(38581),h=r(69500),m=r(32519),v=r(84464),y=r(60490),g=r(62134);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var w=function(e){var t=e.canToggleExtraFileStorage,r=e.fileStorageExtraCharges,i=e.fileStorageExtraEnabled,o=e.fileStorageSize,s=e.isOrgAdmin,c=e.setFileStorageExtraEnabled;return n.createElement(u.I,{spacing:1},n.createElement(l.E,null,"Extra file storage is enabled. Each month you are billed for the current overage at $1 per GB or fraction thereof."),n.createElement(v.UnorderedList,{items:["Cost based on today's usage: $".concat(r)]}),t?n.createElement(a.A,{label:"Enable extra file storage",checked:i,onChange:function(e){var t=e.target.checked;return c(t)},disabled:!s}):n.createElement(l.E,null,"To disable extra storage, delete files until you are using less than"," ",(0,h.lz)(o),"."))},O=function(e){var t=e.extraFileStorageAllowed,r=e.fileStorageExtraEnabled,i=e.fileStorageSize,o=e.isOrgAdmin,s=e.setFileStorageExtraEnabled;return n.createElement(u.I,{spacing:1},n.createElement(l.E,null,"Enable extra file storage to exceed ",(0,h.lz)(i),". Your regular monthly bill will include a charge for the extra space used on that day, billed at $1 per GB or fraction thereof."),n.createElement(f.A,{placement:"left",title:t?"":"extra file storage only available for paid plans"},n.createElement(a.A,{label:"Enable extra file storage",checked:r,onChange:function(e){var t=e.target.checked;return s(t)},disabled:!o||!t})))},P=function(e){var t=e.handleModalClose,r=Services.Flux.getStore("PersonCurrentStore").isSiteAdmin(),a=b((0,n.useState)(),2),f=a[0],S=a[1],P=b((0,n.useState)(!1),2),_=P[0],E=P[1],j=b((0,n.useState)({}),2),T=j[0],I=j[1],C=T.extraFileStorageAllowed,A=T.fileStorageExtraCharges,x=T.fileStorageSize,k=T.fileStorageSizeUsed,N=(0,n.useMemo)(function(){return(0,g.default)(x)},[x]);(0,y.pn)(!_),(0,n.useEffect)(function(){(0,p.CO)({fields:{Organization:["extra_file_storage_allowed","file_storage_extra_charges","file_storage_extra_enabled","file_storage_size","file_storage_size_used"]}}).then(function(e){I(e),S(e.fileStorageExtraEnabled),E(!0)})},[]);var L=k<=x;return n.createElement(m.default,{open:_,padding:0,maxWidth:70,marginTop:6,onRequestClose:t},n.createElement(m.default.Header,{onClose:t},n.createElement(m.default.Title,null,"File Storage")),n.createElement(m.default.Body,null,!r&&n.createElement(i.F,{alignment:"center",axis:"horizontal",marginBottom:4,spacing:1,type:"warning"},n.createElement(c.A,{color:(0,d.Sh)("--t-icon-color-status-warning"),name:"general.exclamationTriangle"}),n.createElement(l.E,null,"Only Organization Administrators can change this setting.")),n.createElement(u.I,{spacing:2},n.createElement(u.I,{spacing:1},n.createElement(s.A,{level:3},"Usage"),n.createElement(l.E,null,"Any files uploaded or imported from most integrations, including SongSelect and PraiseCharts, use file storage. Documents created in Services (Lyrics & Chords, Media Text Docs), and linked files including RehearsalMix, do not."),n.createElement(v.UnorderedList,{items:["Your account includes ".concat((0,h.lz)(N)," of file storage."),"You are using ".concat((0,h.lz)(k,1)||"0 MB")]})),n.createElement(u.I,{spacing:1},n.createElement(s.A,{level:3},"Extra Storage"),T.fileStorageExtraEnabled?n.createElement(w,{canToggleExtraFileStorage:L,fileStorageExtraCharges:A,fileStorageExtraEnabled:f,fileStorageSize:N,isOrgAdmin:r,setFileStorageExtraEnabled:S}):n.createElement(O,{fileStorageExtraEnabled:f,fileStorageSize:N,extraFileStorageAllowed:C,isOrgAdmin:r,setFileStorageExtraEnabled:S})))),n.createElement(m.default.Footer,null,!L&&T.fileStorageExtraEnabled?n.createElement(o.$,{onClick:t,theme:"interaction",title:"Close",variant:"solid"}):n.createElement(n.Fragment,null,n.createElement(o.$,{onClick:t,theme:"neutral",title:"Cancel",variant:"ghost"}),r&&n.createElement(o.$,{disabled:T.fileStorageExtraEnabled===f,onClick:function(){var e={fields:{Organization:""},data:{type:"Organization",attributes:{charge_for_extra_space:f}}};(0,p.L_)(e).then(t)},theme:"interaction",title:"Submit",variant:"solid"}))))},_="files:show-file-storage-modal",E=function(){h.PD.emit(_)},j=function(){var e=b((0,n.useState)(!1),2),t=e[0],r=e[1];return(0,n.useEffect)(function(){var e=function(){return r(!0)};return h.PD.on(_,e),function(){return h.PD.off(_,e)}},[]),t?n.createElement(P,{handleModalClose:function(){return r(!1)}}):null}},50256:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var n=r(2543),i=r.n(n),o=r(22342),a=r(88538);function s(e){var t=e.items;return React.createElement(o.I,{as:"ul",axis:"vertical",spacing:.5},i().map(t,function(e){return React.createElement(a.E,{as:"li",display:"list-item",key:e,marginLeft:3},e)}))}},50287:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return re}});r(72387);var n=r(2543),i=r.n(n),o=r(96540),a=r(52306),s=r.n(a),c=r(58658),u=r(90172),l=r.n(u);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=function(){var e,t={},r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(window.location.search.substring(1).split("&"));try{for(r.s();!(e=r.n()).done;){var n=f(e.value.split("="),2),i=n[0],o=n[1];t[i]=o}}catch(a){r.e(a)}finally{r.f()}return t},m=function(e){return h()[e]},v=function(e){var t=h()[e],r=i().isString(t)?t.toLowerCase():t;switch(r){case"0":case"1":return!!parseInt(r,2);case"true":case"false":return JSON.parse(r);default:return!!r}},y=function(e,t){return m(e)&&v(e)===!!t},g=r(17360),b=r(69195),S=r(38034),w=r(75908),O=r(15518),P=r(10684),_=r(94425),E=r(96743),j=r(69171),T=r(53108),I=r(42225),C=r(77924),A=r(80758),x=r(57724),k=r(41715),N=r(60195),L=r(196),F=r(50486),D=r(18659),M={observableKeys:{back:[37,38,33],shiftModifiedBack:[32],forward:[32,39,40,34]},UNSAFE_componentWillMount:function(){$(document).on("keyup",this.handleDocumentKeyUp)},componentWillUnmount:function(){$(document).off("keyup",this.handleDocumentKeyUp)},handleDocumentKeyUp:function(e){this._eventFiredFromInput(e)||(this._keyIsRetreatKey(e)||this._keyIsShiftHeldRetreatKey(e)?this._retreatPlan():this._keyIsProgressKey(e)&&this._progressPlan())},_eventFiredFromInput:function(e){var t=e.target.nodeName;return["INPUT","TEXTAREA"].indexOf(t)>-1},_keyIsProgressKey:function(e){var t=e.keyCode;return this.observableKeys.forward.indexOf(t)>-1},_keyIsRetreatKey:function(e){var t=e.keyCode;return this.observableKeys.back.indexOf(t)>-1},_keyIsShiftHeldRetreatKey:function(e){var t=e.keyCode;return e.shiftKey&&this.observableKeys.shiftModifiedBack.indexOf(t)>-1}},R=r(15233),U={THROTTLE_SPEED:10,notify:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{delay:5e3,icon:window.liveChatIcon};this.sendNotification=this.sendNotification||i().throttle(this._sendNotification,this.THROTTLE_SPEED),this.sendNotification(e,t,r)},requestNotifications:function(){window.Notification&&"denied"!==Notification.permission&&Notification.requestPermission(function(e){Notification.permission||(Notification.permission=e)})},_sendNotification:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{delay:5e3};if(window.Notification&&"granted"===Notification.permission){r.body=t;var n=r.delay;delete r.delay;var i=new Notification(e,r);setTimeout(i.close.bind(i),n)}}},B=U,G=r(38450),V={UNSAFE_componentWillMount:function(){this.setUIFromCookie(),this.setUIFromLegacyParams(),this.setUIFromParams()},setUIFromCookie:function(){var e=$.cookie("composition"),t=$.cookie("countdown_mode"),r=$.cookie("item_time_mode"),n=$.cookie("theme"),i=$.cookie("watched_plans"),o=$.cookie("backgroundColor"),a=$.cookie("seconds");e&&this.setComposition(e),i&&this._setWatchedPlanIds(),n&&this._rethemeApp(n),t&&this.setState({countdown_mode:t}),r&&this.setState({item_time_mode:r}),o&&this.setState({backgroundColor:o}),this.setState({seconds:parseInt(a,2)})},setUIFromParams:function(){var e=m("theme"),t=m("countdown"),r=m("layout");v("video_enabled")&&this._setVideoEnabled(),v("seconds")&&this._setSecondsEnabled(),y("toolbar_enabled",!1)&&this._setToolbarEnabled(),e&&this._setTheme(e),t&&this._setCountdownMode(t),r&&this._setLayout(r)},setUIFromLegacyParams:function(){var e=m("ustream_channel_id"),t=y("enable_ustream",!0);e&&this._setLegacyVideoId(e),t&&this._setLegacyVideoEnabled(t)},_setSecondsEnabled:function(){this._warnParameterSet("seconds"),this._forceSetState("seconds",!0)},_forceSetState:function(e,t){var r=this.state;r[e]=t,this.setState(r)},_setCountdownMode:function(e){switch(this._warnParameterSet("countdown"),e){case"item":this._forceSetState("countdown_mode","item");break;case"item_adjusted":this._forceSetState("countdown_mode","item-adjusted");break;case"service":this._forceSetState("countdown_mode","service");break;default:this._forceSetState("countdown_mode","item"),this._warnUnsupportedParamValue("countdown",e)}},_setTheme:function(e){this._warnParameterSet("theme");["light","dark"].indexOf(e)>-1?(this._forceSetState("theme",e),this._rethemeApp(e)):(this._warnUnsupportedParamValue("theme",e),this._forceSetState("theme","light"),this._rethemeApp(e))},_setToolbarEnabled:function(){this._warnParameterSet("toolbar_enabled"),this._forceSetState("toolbarEnabled",!1)},_setLayout:function(e){switch(this._warnParameterSet("layout"),e){case"normal":this._forceSetState("composition","normal");break;case"normal_third":this._forceSetState("composition","normal-third");break;case"countdown":this._forceSetState("composition","countdown");break;case"countdown_third":this._forceSetState("composition","countdown-third");break;case"overview":this._forceSetState("composition","overview");break;case"mobile":this._forceSetState("composition","mobile"),this._forceSetState("toolbarEnabled",!1);break;default:this._forceSetState("composition","normal"),this._warnUnsupportedParamValue("layout",e)}},_setLegacyVideoId:function(e){var t=this.state.video;t.id=e,this.setState({video:t})},_setLegacyVideoEnabled:function(e){var t=this.state.video;t.enabled=e,this.setState({video:t})},_setVideoEnabled:function(){this._warnParameterSet("video_enabled");var e=this.state.video;e.enabled=!0,this._forceSetState({video:e})},_setWatchedPlanIds:function(){var e;try{e=i().filter(JSON.parse(e),this._canWatchPlan)}catch(t){e=[]}this.setState({watched_plan_ids:e})},_warnParameterSet:function(e){var t="\n      [LIVE] You are using the '".concat(e,"' paramater to manually set layout.\n             This will take precedence over cookie-stored preferences.\n    ");console.warn(t)},_warnUnsupportedParamValue:function(e,t){var r="\n      [LIVE] '".concat(t,"' is not a supported value for the '").concat(e,"' query param.\n    ");console.log(r)}},W=V,z=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.source=e,this.ministryId=t,this.enabled=!1}var t=e.prototype;return t.enable=function(){return this.enabled=!0,this},t.toVideoState=function(){return{url:this.source,enabled:this.enabled}},t.save=function(){return $.ajax({data:this._data(),dataType:"json",type:"PUT",url:"/ustream/".concat(this.ministryId)}),this},t._data=function(){return{ministry:{ustream_channel_id:null,ustream_channel_name:null,ustream_channel_source:this.source}}},e}(),q=z,H={fetchVideoSource:function(){var e=this;$.getJSON("/ustream/".concat(this.state.plan.service_type_id,"/channel")).done(function(t){t.channel_id;var r=t.channel_source,n=new q(r,e.state.plan.service_type_id);e.setState({video:n.toVideoState()})})},clearVideoSource:function(){var e=new q("",this.state.plan.service_type_id).save();this.setState({video:e.toVideoState()})},addVideoSource:function(e){if(e){var t=new q(e,this.state.plan.service_type_id).enable().save();this.setState({video:t.toVideoState()})}},_stripProtocolFromUrl:function(e){return e.replace(/^.*:/g,"")}};function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"==typeof e)return Z(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach(function(t){ee(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ee(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}window.DEBUG=!1,window.PERMISSION_SCHEDULE_VIEWER=1,window.PERMISSION_VIEWER=2,window.PERMISSION_ADMIN=5;var te=s()({displayName:"LiveApp",mixins:[D.A,G.A,R.A,F.A,B,W,M,H],compositions:{countdown:{renderer:"renderCompositionCountdown",hasBg:!1,hasVideo:!1,hasChatNotifications:!1},"countdown-third":{renderer:"renderCompositionCountdownThird",hasBg:!0,hasVideo:!0,hasChatNotifications:!1},mobile:{renderer:"renderCompositionMobile",hasBg:!1,hasVideo:!1,hasChatNotifications:!1},normal:{renderer:"renderCompositionNormal",hasBg:!1,hasVideo:!0,hasChatNotifications:!0},"normal-third":{renderer:"renderCompositionNormalThird",hasBg:!0,hasVideo:!0,hasChatNotifications:!1},overview:{renderer:"renderCompositionOverview",hasBg:!1,hasVideo:!1,hasChatNotifications:!1}},getInitialState:function(){return{backgroundColor:"",chat:{messages:window.chat_messages,members:[],ministryId:0},composition:"normal",countdown_mode:"item",item_time_mode:"projected_time",theme:"light",toolbarEnabled:!0,toolbarVisible:!0,videoEmbedCode:"",seconds:0,video:{url:"",enabled:!1},watched_plan_ids:[],watchedServicesVisibility:!1}},UNSAFE_componentWillMount:function(){return this._setMobileIfSmallScreen(),this.requestNotifications()},hasVideo:function(){return!!this.state.video.url},hasVideoAvailable:function(){return this.hasVideo()&&this._compositionSupportsVideo()},render:function(){return o.createElement("div",{className:"LiveApp ".concat(this.getCompositionClass()," ").concat(this.getThemeClass()),style:{backgroundColor:this.getBackgroundColor()}},o.createElement(A.default,{enabled:this.state.toolbarEnabled,onTrigger:this.handleLiveToolbarTriggerMouseEnter,onTriggerLeave:this.handleLiveToolbarTriggerMouseLeave}),o.createElement(x.default,{enabled:this.state.toolbarEnabled,visible:this.state.toolbarVisible,onThemeChange:this.handleLiveToolbarThemeChange,onCountdownModeChange:this.handleCountdownModeChange,onCompositionChange:this.handleCompositionChange,onVideoVisibilityChange:this.handleLiveToolbarVideoVisiblityChange,onMouseEnter:this.handleLiveToolbarMouseEnter,onMouseLeave:this.handleLiveToolbarMouseLeave,onNewEmbedCode:this.handleNewEmbedCode,onVideoCleared:this.handleVideoCleared,serviceTypeId:this.state.plan.service_type_id,theme:this.state.theme,video:this.state.video,hasVideoAvailable:this.hasVideoAvailable(),countdown_mode:this.state.countdown_mode,composition:this.state.composition}),this.renderComposition())},renderComposition:function(){return this[this.compositions[this.state.composition||"normal"].renderer]()},renderCompositionCountdown:function(){return o.createElement(w.default,{item:this.state.current_item,pit:this.state.current_pit,isCurrentItemGoingLong:this.isCurrentItemGoingLong,getCountdown:this.getCountdown,getCountdownEndNote:this.getCountdownEndNote,timeFormatHandler:this.handleTimeFormatToggleClick,mode:this.state.countdown_mode})},renderCompositionCountdownThird:function(){return o.createElement(b.default,{className:l()({"has-video":this.state.video.enabled}),onForceBackgroundColor:this.handleForceBackgroundColor},o.createElement(w.default,{item:this.state.current_item,pit:this.state.current_pit,isCurrentItemGoingLong:this.isCurrentItemGoingLong,getCountdown:this.getCountdown,getCountdownEndNote:this.getCountdownEndNote,timeFormatHandler:this.handleTimeFormatToggleClick,mode:this.state.countdown_mode}),this.state.video.enabled?this.renderVideo({width:"100%",height:"104.5%"}):null)},renderCompositionMobile:function(){var e=window.live_permissions.canControl?60:0;return o.createElement("div",null,o.createElement(w.default,{item:this.state.current_item,pit:this.state.current_pit,isCurrentItemGoingLong:this.isCurrentItemGoingLong,getCountdown:this.getCountdown,getCountdownEndNote:this.getCountdownEndNote,timeFormatHandler:this.handleTimeFormatToggleClick,mode:this.state.countdown_mode}),o.createElement("div",{className:"LivePaneStack__wrapper"},o.createElement(_.default,{className:"LivePaneStack",tagName:"section",heightOffset:function(){return 80+e},composition:this.state.composition,panes:this.getCompositionMobilePanes(),defaultHeightsSetter:this.getCompositionNormalPanesHeight}),window.live_permissions.canControl?this.renderController():null))},renderCompositionNormal:function(){var e=this.state.selectedItemId?this.getItemForId(this.state.selectedItemId):null;return o.createElement(b.default,null,o.createElement("section",{className:"sidebar"},o.createElement(w.default,{item:this.state.current_item,pit:this.state.current_pit,isCurrentItemGoingLong:this.isCurrentItemGoingLong,getCountdown:this.getCountdown,getCountdownEndNote:this.getCountdownEndNote,mode:this.state.countdown_mode,timeFormatHandler:this.handleTimeFormatToggleClick,isEditable:this.canEditCountdown(),onTimerChange:this.handleTimerChange}),this.renderController(),o.createElement(c.N,null,e&&o.createElement(C.default,{item:e,pit:this.getPitForItem(e),onClose:this.handlePlanItemClick})),o.createElement(I.default,{service_time:this.state.service_time,current_item:this.state.current_item,current_pit:this.state.current_pit,plan:this.state.plan,status:this.state.status,item_time_mode:this.state.item_time_mode,onItemClick:this.handlePlanItemClick,onItemTimeModeChange:this.handleItemTimeModeChange,onItemTimeChange:this.handleItemTimeChange,getItemStartsAt:this.getItemStartsAt,getTotalTime:this.getTotalTime})),o.createElement("div",{className:"content"},o.createElement("div",{className:"LivePaneStack__wrapper"},o.createElement(_.default,{className:"LivePaneStack",tagName:"section",panes:this.getCompositionNormalPanes()}),o.createElement(L.default,{isOpen:this.state.watchedServicesVisibility,onClick:this.handleLiveWatchedServicePaneToggleClick})),o.createElement(N.default,{isVisible:this.state.watchedServicesVisibility,ids:this.state.watched_plan_ids,onAdd:this.handleWatchedPlanAdd,onClose:this.handleWatchedServicesPaneCloseClick,onRemove:this.handleWatchedPlanRemove,seconds:this.state.seconds,timeFormatHandler:this.handleTimeFormatToggleClick})),this.state.video.enabled?this.renderVideo():null)},renderController:function(){return o.createElement(P.default,{status:this.state.status,started:this.isStarted(),onControlToggle:this.handleLiveControllerControlToggle,onNextClick:this.handleLiveControllerNextClick,onPrevClick:this.handleLiveControllerPrevClick})},renderServiceName:function(e){var t=e.height,r=e.key;return o.createElement(E.default,{isCurrentItemGoingLong:this.isCurrentItemGoingLong,item:{title:this.getFormattedServiceNameWithTime(),subtitle:this.getFormattedPlanTitle()},time:this.state.time,presentation:"service",height:t,key:r})},renderCurrentPlanItem:function(e){var t=e.height,r=e.key;return o.createElement(E.default,{item:this.state.current_item,pit:this.state.current_pit,presentation:"current",isCurrentItemGoingLong:this.isCurrentItemGoingLong,mode:this.state.countdown_mode,time:this.state.time,height:t,key:r})},renderCompositionNormalThird:function(){return o.createElement(b.default,{className:l()({"has-video":this.state.video.enabled}),onForceBackgroundColor:this.handleForceBackgroundColor},o.createElement("div",{className:"inner"},o.createElement(T.default,{badge:"now",title:this.isStarted()?this.state.current_item&&this.state.current_item.title:this.getFormattedServiceNameWithTime()}),o.createElement(w.default,{item:this.state.current_item,pit:this.state.current_pit,isCurrentItemGoingLong:this.isCurrentItemGoingLong,getCountdown:this.getCountdown,getCountdownEndNote:this.getCountdownEndNote,mode:this.state.countdown_mode}),o.createElement("div",{className:"LivePlanItem-next"},o.createElement(T.default,{title:this.state.next_item&&this.state.next_item.title,badge:"next"}))),this.state.video.enabled?this.renderVideo({width:"100%",height:"104.5%"}):null)},renderCompositionOverview:function(){return o.createElement("div",{className:"LiveApp-composition--overview-wrapper ".concat(this.isCurrentItemGoingLong(this.state.countdown_mode)?"LiveCompState--warning":"")},o.createElement("div",{className:"LivePlanItem-now"},o.createElement(T.default,{title:this.isStarted()?this.state.current_item&&this.state.current_item.title:this.getFormattedServiceNameWithTime()})),o.createElement("div",{className:"LivePlanItem-next"},o.createElement(T.default,{title:this.state.next_item&&this.state.next_item.title})),o.createElement("div",{className:"LivePlanItem-badges"},o.createElement("span",{className:"badge badge--now"},o.createElement("span",{className:"icon-live icon-live-caret-up-outline"}),"now"),o.createElement("span",{className:"badge badge--next"},o.createElement("span",{className:"icon-live icon-live-caret-down-outline"}),"next")),o.createElement("div",{className:"LiveClock-timer-wrapper"},o.createElement(O.default,{time:this.getCountdown(this.state.countdown_mode)})),o.createElement("div",{className:"LiveClock-time-wrapper"},o.createElement(j.default,{time:this.state.time,format:(0,g.A)({withAMPM:!0})})))},renderChatClient:function(e){var t=e.height,r=e.key;return o.createElement(S.default,{messages:this.state.chat.messages,members:this.state.chat.members,channels:this.getChatChannels(),selectedChannelId:this.state.chat.ministryId,onChannelChange:this.handleChatChannelChange,onMessageSend:this.handleChatMessageSend,composition:this.state.composition,height:t,key:r})},renderVideo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.src=this.state.video.url,e.composition=this.state.composition,o.createElement(k.default,e)},handleChatChannelChange:function(e){this.setState({chat:X(X({},this.state.chat),{},{ministryId:e})})},handleChatMemberAdded:function(e){var t=this.state.chat.members;t.push(e.info),this.setState({chat:X(X({},this.state.chat),{},{members:t})})},handleChatMemberRemoved:function(e){var t=this.state.chat.members.filter(function(t){return t.id!==e.info.id});this.setState({chat:X(X({},this.state.chat),{},{members:t})})},handleChatMessage:function(e){this.setState(function(t){var r=t.chat;return{chat:X(X({},r),{},{messages:[].concat(Y(r.messages),[e])})}});var t=e.person_id===window.live.me.id,r=parseInt(this.state.chat.ministryId)===e.ministry_id;return!t&&r&&this._compositionSupportsChatNotifications()?this.notify(e.person_name,e.message):null},handleChatSubscriptionSucceeded:function(e){var t=[];e.each(function(e){return t.push(e.info)}),this.setState({chat:X(X({},this.state.chat),{},{members:t})})},handleForceBackgroundColor:function(e){var t;t=this.state.backgroundColor?"":e,this.setState({backgroundColor:t}),this._setCookie("backgroundColor",t)},handleLiveToolbarTriggerMouseEnter:function(){this._toolbarTriggerTimeout=setTimeout(this._revealToolbar,250)},handleLiveToolbarTriggerMouseLeave:function(){this._toolbarTriggerTimeout&&clearTimeout(this._toolbarTriggerTimeout)},handleLiveToolbarMouseEnter:function(){this._revealToolbar()},handleLiveToolbarMouseLeave:function(){this._concealToolbar()},handleChatMessageSend:function(e){$.post("/live/".concat(this.state.plan.id,"/chat_messages.json"),{message:e,ministry_id:this.state.chat.ministryId})},handleCountdownModeChange:function(e){this._setCookie("countdown_mode",e),this.setState({countdown_mode:e})},handleItemTimeModeChange:function(e){this._setCookie("item_time_mode",e),this.setState({item_time_mode:e})},handleItemTimeChange:function(e){$.post("/live/".concat(this.state.plan.id,"/time.json"),e)},handleCompositionChange:function(e){this.setComposition(e)},handleLiveToolbarThemeChange:function(e){this._setCookie("theme",e),this._rethemeApp(e)},handleLiveToolbarVideoVisiblityChange:function(e){!function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=h();!1!==t||r?n[e]=t:delete n[e];var o=i().toPairs(n).map(function(e){var t=f(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(n)}).join("&");window.history.replaceState&&window.history.replaceState({},"","?"+o)}("enable_ustream",e),this.setState({video:X(X({},this.state.video),{},{enabled:e})})},handleLiveControllerControlToggle:function(){$.post("/live/".concat(this.state.plan.id,"/control.json"))},handleTimeFormatToggleClick:function(){var e=1^this.state.seconds;this.setState({seconds:e}),this._setCookie("seconds",e)},handleLiveControllerNextClick:function(){this._progressPlan()},handleLiveControllerPrevClick:function(){this._retreatPlan()},handleNewEmbedCode:function(e){var t=this._stripProtocolFromUrl($(e).attr("src"));t&&this.addVideoSource(t)},handlePlanUpdate:function(){this.fetchVideoSource()},handlePlanItemClick:function(e){this.state.selectedItemId?this.setState({selectedItemId:null}):this.setState({selectedItemId:e.id})},handleVideoCleared:function(){this.clearVideoSource()},handleWatchedPlanAdd:function(e){if(e=parseInt(e,10),this.canWatchPlan(e)){var t=i().uniq(this.state.watched_plan_ids.concat([e]));this.setState({watched_plan_ids:t}),this._setCookie("watched_plans",JSON.stringify(t))}},handleWatchedPlanRemove:function(e){e=parseInt(e,10);var t=this.getWatchedPlanIdsWithoutId(e);this.setState({watched_plan_ids:t}),this._setCookie("watched_plans",JSON.stringify(t))},handleTimerChange:function(e){var t,r=this.getItemDiff("item",{withOffset:!1});if(this.state.current_pit&&(t=this._timer_from_string(e))){var n=t-r;$.post("/live/".concat(this.state.plan.id,"/offset.json"),{pit_id:this.state.current_pit.id,offset:n})}},handleLiveWatchedServicePaneToggleClick:function(){this.setState({watchedServicesVisibility:!this.state.watchedServicesVisibility})},handleWatchedServicesPaneCloseClick:function(){this.setState({watchedServicesVisibility:!1})},canEditCountdown:function(){return this.isStarted()&&"item"===this.state.countdown_mode&&"normal"===this.state.composition},canWatchPlan:function(e){return i().find(window.plans_to_watch,function(t){return t.id===parseInt(e)})},_compositionSupportsBackgroundColor:function(e){return this.compositions[e].hasBg},_compositionSupportsVideo:function(){return this.compositions[this.state.composition]&&this.compositions[this.state.composition].hasVideo},_compositionSupportsChatNotifications:function(){return this.compositions[this.state.composition]&&this.compositions[this.state.composition].hasChatNotifications},_progressPlan:function(){$.post("/live/".concat(this.state.plan.id,"/next.json"),{at:new Date})},_retreatPlan:function(){$.post("/live/".concat(this.state.plan.id,"/previous.json"),{at:new Date})},_canWatchPlan:function(e){return i().find(window.plans_to_watch,function(t){return t.id===parseInt(e)})},_rethemeApp:function(e){var t;this.setState({theme:e}),"dark"===e&&(t="::-webkit-scrollbar-track { background: #191919 }\n               ::-webkit-scrollbar-thumb { background: #373737; box-shadow: inset 2px 1px 0 #191919, inset -1px 1px 0 #191919 }"),"light"===e&&(t="::-webkit-scrollbar-track { background: #dcdcdc; border-left: 1px solid #d5d5d5; }\n               ::-webkit-scrollbar-thumb { background: #c0c0c0; box-shadow: inset 2px 1px 0 #dcdcdc, inset -1px 1px 0 #dcdcdc }"),$("#scrollbars").empty().append(t)},_concealToolbar:function(){this.setState({toolbarVisible:!1})},_revealToolbar:function(){this.setState({toolbarVisible:!0})},_setCookie:function(e,t){$.cookie(e,t,{expires:2e3})},_setMobileIfSmallScreen:function(){$(window).width()<950&&!m("layout")&&this.setState({composition:"mobile",toolbarEnabled:!1})},_timer_from_string:function(e){var t,r,n,i;if(t=e.trim().match(/^(-)?(\d+):(\d+)$/)){var o=J(t,4);r=o[1],n=o[2],i=o[3];var a=1e3*(60*parseInt(n)+parseInt(i));return"-"===r&&(a*=-1),a}},getBackgroundColor:function(){return this._compositionSupportsBackgroundColor(this.state.composition)?this.state.backgroundColor:""},getCompositionBackground:function(e){return this.compositions[e].hasBg?"has-color-backdrop":""},getChatChannels:function(){var e,t={0:window.live.me.organization.name};return this.state.plan&&(e=this.state.plan.service_type)&&(t[e.id]=e.name),this.state.watched_plan_ids.forEach(function(e){var r=i().find(window.plans_to_watch,function(t){return t.id===e});r&&(t[r.ministry_id]=r.ministry_name)}),t},getCompositionClass:function(){return"LiveApp-composition--".concat(this.state.composition)},getCompositionMobilePanes:function(){var e=this.getCompositionNormalPanes();return delete e[0].minHeight,e},getCompositionNormalPanesHeight:function(e,t,r){if(2===t)return r/2;var n,i=$(".LivePlanItem-header:eq(1)").outerHeight()||42,o=Math.round(.4*r);switch(e){case 0:n=r-i-o;break;case 1:n=i;break;case 2:n=o;break;default:n=2}return n},getCompositionNormalPanes:function(){var e=[{component:this.isStarted()?this.renderCurrentPlanItem:this.renderServiceName,minHeight:".LivePlanItem-header:eq(0)"},{component:o.createFactory(E.default),props:{item:this.state.next_item,presentation:"queued"}}];return window.live_permissions.canChat&&e.push({component:this.renderChatClient}),e},getThemeClass:function(){return"LiveApp-theme--".concat(this.state.theme)},getWatchedPlanIdsWithoutId:function(e){return i().reject(this.state.watched_plan_ids,function(t){return t===e})},setComposition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal";this.setState({composition:e}),this._setCookie("composition",e),$("body")[0].className=this.getCompositionBackground(e)}}),re=te},50486:function(e,t,r){"use strict";var n=r(2543),i=r.n(n),o=r(84743),a=r.n(o),s=r(96540),c=r(84573),u=r(17360),l=r(53395);function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.n(l)()(a());var h={getInitialState:function(){return{time:new Date}},componentDidMount:function(){this.interval=setInterval(this.setTime,1e3)},componentWillUnmount:function(){clearInterval(this.interval)},getActualEnd:function(){return a()(this.getServiceStart()).add(this.getTotalTime({excludePostServiceItems:!0}),"seconds")},getCountdown:function(e){var t=a().duration(this.getDiff(e),"ms");return t.as("hours")>36?t.humanize():t.as("hours")<1?t.format("m:ss",{trim:!1}):t.format(this.timeFormat(!0))},getEndTimeFromLastItem:function(e){var t=this,r=i().flowRight(function(t){return t.format(e)},a(),c.A);return i().chain(this.state.plan.items).takeRight(1).map(function(e){return t.getPitForItem(e)}).compact().map("live_end").map(r).value()},getCountdownEndNote:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.seconds;if(this._planEnded())return s.createElement("span",null,"service ended at"," ",s.createElement("span",{className:"time"},this.getEndTimeFromLastItem((0,u.A)({withAMPM:!0}))));if(this.getTotalTime()){var t=e?this._diffWithSeconds:this._diffInMins,r=this.getEstimatedEnd({excludePostServiceItems:!0}),n=this.getPlannedEnd({excludePostServiceItems:!0});if(0===this._diffInMins(n,r)[0])return s.createElement("span",null,"service should end on time at"," ",s.createElement("span",{className:"time"},r.format(this.timeFormat(e))));if(r.isAfter(n)){var i=this._formatEndNoteMinutes.apply(this,f(t(r,n)).concat([e])),o=r.format(this.timeFormat(e));return s.createElement("span",{className:"message message--behind"},"service should end ",s.createElement("span",{className:"mins"},i)," ",s.createElement("span",{className:"status"},"behind")," at"," ",s.createElement("span",{className:"time"},o))}var a=this._formatEndNoteMinutes.apply(this,f(t(n,r)).concat([e])),c=r.format(this.timeFormat(e));return s.createElement("span",{className:"message message--ahead"},"service should end ",s.createElement("span",{className:"mins"},a)," ",s.createElement("span",{className:"status"},"ahead")," at"," ",s.createElement("span",{className:"time"},c))}return""},getCurrentPitLength:function(e,t){if(t&&this.state.current_pit&&this.state.current_pit.id===t.id&&this.state.current_pit.live_start){var r=(new Date-(0,c.A)(this.state.current_pit.live_start))/1e3;return r>e.length?r:e.length}},getDiff:function(e){return this._planEnded()?a()(this.getPlannedEnd({excludePostServiceItems:!0})).diff(this.getActualEnd()):"service"===e?this.getServiceDiff():this.getItemDiff(e)},getEstimatedEnd:function(e){var t=new Date,r=this.getServiceStart();return t>this.getServicePlannedStart()&&!this.getServiceActualStart()&&(r=t),a()(r).add(this.getTotalTime(e),"seconds")},getFinishedPitLength:function(e,t){if(t&&t.live_start&&t.live_end)return((0,c.A)(t.live_end)-(0,c.A)(t.live_start))/1e3},getItemDiff:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withOffset:!0},r=this.liveDuration();if(r){var n=this.scheduledDuration().as("ms")-r.as("ms");return n=1e3*Math.round(n/1e3),t.withOffset&&(n+=this.state.current_pit.length_offset||0),"item-adjusted"===e?this.getItemDiffAdjusted(n):n}return this.isStarted()?this.scheduledDuration():1e3*Math.round((this.getServicePlannedStart()-this.state.time)/1e3)},getItemDiffAdjusted:function(e){var t=this.getPlannedEnd({excludePostServiceItems:!0}).toDate()-this.getEstimatedEnd({excludePostServiceItems:!0}).toDate();return t<0?e>0?e+t:t+1:e},getPitForItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.service_time;if(t)return i().find(e.plan_item_times,function(e){return e.time_id===t.id})},getPlannedEnd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.onlyPlanned=!0,a()(this.getServicePlannedStart()).add(this.getTotalTime(e),"seconds")},getPreserviceLength:function(e){var t=this;if(!this.state.plan.items)return 0;var r=this.state.plan.items.filter(function(r){return r.is_preservice&&!function(e,r){var n=t.getPitForItem(e,r);return!n||n.exclude}(r,e)}).map(function(e){return e.length});return i().reduce(r,function(e,t){return e+t},0)},getServiceActualStart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.service_time;if(e&&this.state.current_pit)return(0,c.A)(e.actual_start)},getServiceDiff:function(){if(this.isStarted()){var e=this.getPlannedEnd({excludePostServiceItems:!0});return e?e.toDate()-this.state.time:0}return 1e3*Math.round((this.getServicePlannedStart()-this.state.time)/1e3)},getServicePlannedStart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.service_time;if(e)return(0,c.A)(e.starts_at)-1e3*this.getPreserviceLength(e)},getServiceStart:function(e){return this.getServiceActualStart(e)||this.getServicePlannedStart(e)},getTotalTime:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=0,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(this.state.plan.items||[]);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(t.upUntilId===i.id)return r;var o=this.getPitForItem(i,t.service_time);if((!o||!o.exclude)&&(!i.is_postservice||!t.excludePostServiceItems)){var a=void 0,s=void 0;t.onlyPlanned?r+=i.length:void 0!==(a=this.getFinishedPitLength(i,o))?r+=a:void 0!==(s=this.getCurrentPitLength(i,o))?r+=s:r+=i.length}}}catch(c){n.e(c)}finally{n.f()}return r},isCurrentItemGoingLong:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"item";return this.getDiff(e)<0},setTime:function(){this.setState({time:new Date})},timeFormat:function(e){return(0,u.A)({withSeconds:e})},_formatEndNoteMinutes:function(e,t,r){return r?"".concat(e,".").concat(t<10?0:"").concat(t):"".concat(e,"m")},_diffInMins:function(e,t){return[Math.round(a().duration(e.diff(t,"ms"),"ms").asSeconds()/60),""]},_diffWithSeconds:function(e,t){var r=Math.abs(a().duration(e.diff(t,"ms"),"ms").asSeconds()),n=r<0?Math.ceil:Math.floor;return i().map([r/60,r%60],n)}};t.A=h},51363:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(10086),o=r(32482),a=r(38728);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.default=function(e){var t=e.links,r=e.showNav,c=s((0,n.useState)(!1),2),u=c[0],l=c[1],f=(0,n.useMemo)(function(){return new Services.Classes.Files.Views.Edit("file-edit")},[]),d=function(e){l(!0),f.handleNavigateClick(e.nativeEvent)};return n.createElement(o.Y,{onClick:function(e){e.preventDefault()}},r&&n.createElement(i.$,{as:"button",disabled:!t.prev||u,icon:{name:"tapestry.leftChevron"},link:t.prev,theme:"primary",title:"Previous File",onClick:d}),n.createElement(i.$,{id:"save-file",title:"Save",theme:"primary",spinner:u,disabled:u,onClick:function(){l(!0),$("#file-edit").submit()},fontWeight:(0,a.Sh)("--t-font-weight-normal")}),r&&n.createElement(i.$,{as:"button",disabled:!t.next||u,icon:{name:"tapestry.rightChevron"},link:t.next,theme:"primary",title:"Next File",onClick:d}))}},51899:function(e,t,r){"use strict";var n=r(2543),i=r.n(n),o=r(69500),a=r(33513);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(e){return function(e){return i().has(e,"data")&&i().has(e,"included")&&i().has(e,"meta")}(i().get(e,"[0]",e))};t.A=function(e){return i().reduce(e,function(e,t,r){return c(c({},e),{},u({},(0,o.sF)(r),l(t)?(0,a.SA)(t):(0,o.Yu)(t)))},{})}},52323:function(e,t,r){"use strict";function n(e){var t=e.onClick;return React.createElement("div",{className:"arrangement-key__extras clickable",onClick:t},"show less")}r.r(t),r.d(t,{default:function(){return n}})},52764:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(2543),i=r.n(n),o=r(96540),a=r(60490),s=r(99751);function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e){var t=e.children,r=e.id,n=Services.Flux.getStore("PersonCurrentStore"),u=n.getAccountCenterId(),l=n.getOnboardings(),f=(0,a.Mj)("onboardings",JSON.stringify([])),d=f.value?JSON.parse(f.value):[],p=i()(l).union(d).includes(r);function h(){f.set(JSON.stringify(i().uniq([].concat(c(d),[r]))))}return(0,o.useEffect)(function(){d.includes(r)||l.includes(r)&&h()},[]),p?null:t({handleDismiss:function(){(0,s.xs)({personAcid:u},{onboardings:i().uniq([].concat(c(d),[r]))}),h()}})}},52813:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(21210),o=r(45664);t.default=function(e){var t=e.code,r=e.message,a=void 0===r?"We're sorry, something went wrong. Please try again later or contact support if the issue persists.":r,s={422:n.createElement(n.Fragment,null,"We're sorry! Something is wrong with your PraiseCharts credentials. Please ",n.createElement(i.N,{to:"/songs/integrations"},"disable and reenable")," the integration.")}[t]||a;return n.createElement(o.default,null,s)}},53065:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(22342),s=r(32485),c=r.n(s),u=["max","className"],l=["text"];function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function d(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var p=function(e){var t=e.max,r=void 0===t?100:t,n=e.className,i=d(e,u);return o.createElement("progress",Object.assign({max:r,className:c()("progress",n)},i))},h=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,f(t,r);var s=n.prototype;return s.componentDidUpdate=function(e){var t=this.props,r=t.handleRemove,n=t.onComplete,o=t.opacity,a=t.status;this.justCompleted(e.status,a)&&i().isFunction(n)&&n(),o<.05&&r()},s.statusValue=function(e){return(e.current/e.total*100).toFixed(2)},s.justCompleted=function(e,t){return 0===e&&1===t},s.render=function(){var e=this.props.children,t=e.text,r=d(e,l);return o.createElement(a.I,{axis:"horizontal",alignment:"center",padding:2,marginBottom:3,radius:3,backgroundColor:"grey-3"},t,o.createElement(p,{className:"flex-1 ml-16",value:this.statusValue(r)}))},n}(o.Component);t.default=h},53108:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i)()({displayName:"LivePlanItemTitle",render:function(){return n.createElement("h1",{className:"LivePlanItem-title"},this.props.badge?this.renderBadge():null,n.createElement("span",{className:"LivePlanItem-title__text"},this.props.title))},renderBadge:function(){return n.createElement("span",{className:"badge"},this.props.badge)}});t.default=o},53411:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(17987),o=r(75825),a=r(53473);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=(0,n.forwardRef)(function(e,t){var r=e.currentOffset,n=e.file,i=e.isCopying,s=e.target;if(!n)return null;var c,u,f=a.ICON_NAMES[n.filetype]||"services.fileText";return React.createElement("div",{ref:t,style:(u=(null===(c=document.querySelector(".main-wrap"))||void 0===c?void 0:c.offsetTop)||0,r?{left:r.x,top:r.y-u,zIndex:999,position:"fixed",pointerEvents:"none"}:{display:"none"})},React.createElement("div",{className:"flex align-items-center",style:{transform:"rotate(-5deg)"}},React.createElement("div",{style:{background:"#5b5b5a",fontSize:14,borderRadius:3,boxShadow:"-1px 3px 8px rgba(0, 0, 0, .3)",color:"white",display:"flex"}},React.createElement("div",{style:l(l({},{display:"flex",alignItems:"center",padding:8}),{},{fontSize:12,borderRight:"1px solid rgba(0, 0, 0, .4)",color:"var('--t-icon-color-inverted')"})},React.createElement(o.A,{name:f})),React.createElement("div",{style:{display:"flex",alignItems:"center",padding:8}},n.filename),n&&s&&Services.Flux.getStore("Files.FileStore").isValidAction(s,n)&&React.createElement("div",{style:l(l({},{display:"flex",alignItems:"center",padding:8}),{},{color:"var('--t-text-color-inverted')",fontSize:10,borderLeft:"1px solid rgba(0, 0, 0, .4)"})},i?"Copy":"Move"))))});t.default=(0,i.DragLayer)(function(e){var t=s(e.getTargetIds(),1)[0];return{target:t?e.registry.handlers[t].props:null,file:e.getItem(),isDragging:e.isDragging(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset()}})(d)},53473:function(e,t,r){"use strict";r.r(t),r.d(t,{ICON_NAMES:function(){return n}});var n={audio:"services.audio",audio_rehearsal_mix_v2:"brand.rehearsalMix",image:"services.image",music:"services.fileLyrics",pdf:"services.filePdf",video:"services.video",zip:"services.fileText"}},56748:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(2543),o=r.n(i);function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}var s=function(e){var t,r;function i(){return e.apply(this,arguments)||this}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,a(t,r);var s=i.prototype;return s.componentDidUpdate=function(e){!e.open&&this.props.open&&this.resetAutocomplete()},s.componentWillUnmount=function(){try{this._$input.autocomplete("destroy")}catch(e){}},s.performSearch=function(){var e=this;setTimeout(function(){return e._$input.autocomplete("search",e._input.value)})},s.resetAutocomplete=function(){var e=this;this._$input.val("").autocomplete(this.autocompleteConfiguration()),this._$input.autocomplete("widget").addClass(this.props.listClasses),setTimeout(function(){e._$input.focus(),e.performSearch()},250)},s.handleAutocompleteSelect=function(e,t){var r=t.item,n=r.value,i=r.name,o=r.type;r.tagGroupId,r.tagGroupName;return"TagGroup"===o?this._$input.val(i):""!==n?(this.resetAutocomplete(),this.props.onAddTag(r)):""===n&&this.resetAutocomplete(),this.performSearch(),!1},s.autocompleteConfiguration=function(){var e=this;return{appendTo:this.props.appendTo,minLength:0,delay:0,autoFocus:!0,focus:function(){return!1},select:this.handleAutocompleteSelect.bind(this),source:function(t,r){""===e._$input.val()?e.autocompleteTagGroupsSearch(t,r):e.autocompleteTagsSearch(t,r)}}},s.autocompleteTagGroupsSearch=function(e,t){e.term;var r=this.props,n=r.excludedTagGroupIds,i=r.tagGroups,a=o()(i).values().sortBy(this.sort).value(),s=this.getTagGroupMenuItems(a).filter(function(e){return!o().includes(n,e.value)});return t(0!==s.length?s:[{label:"No Tag Groups Found",value:""}])},s.autocompleteTagsSearch=function(e,t){var r=e.term,n=this.props,i=n.excludedTagIds,a=n.tagGroups,s=$.ui.autocomplete.escapeRegex,c=o()(a).map(function(e){return e.tags}).flatten().sortBy(this.sort).value(),u=new RegExp("^".concat(s(r.toLowerCase()))),l=this.getTagMenuItems(c).filter(function(e){return!o().includes(i,e.value)&&(u.test(e.name.toLowerCase())||u.test(e.tagGroupName.toLowerCase()))});return t(l.length?l:[{label:"No Tags Found",value:""}])},s.getTagGroupMenuItems=function(e){var t=this;return e.map(function(e){return{type:"TagGroup",value:e.id,name:e.name,tagGroupId:e.id,tagGroupName:e.name,label:t.generateTagGroupLabel(e),serviceTypeFolderName:e.serviceTypeFolderName}})},s.getTagMenuItems=function(e){var t=this;return e.map(function(e){return{type:"Tags",value:e.id,name:e.name,tagGroupId:e.tagGroupId,tagGroupName:e.tagGroupName,label:t.generateTagLabel(e)}})},s.generateTagGroupLabel=function(e){var t=e.name,r=e.serviceTypeFolderName;return r?"".concat(r," > ").concat(t):t},s.generateTagLabel=function(e){var t=e.name,r=e.tagGroupName,n=e.serviceTypeFolderName;return n?"".concat(n," > ").concat(r,": ").concat(t):"".concat(r,": ").concat(t)},s.sort=function(e){return e.serviceTypeFolderName?"".concat(e.serviceTypeFolderName.toLowerCase()," ").concat(e.name.toLowerCase()):e.name.toLowerCase()},s.render=function(){var e=this;return n.createElement("input",{key:"input",ref:function(t){e._input=t,e._$input=$(t)},type:"text",placeholder:"Search",tabIndex:"-1",className:this.props.className,style:this.props.style,onClick:function(){return e.resetAutocomplete()}})},i}(n.Component);s.defaultProps={appendTo:".main-wrap",style:{},excludedTagids:[],excludedTagGroupIds:[]},t.default=s},57724:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});r(72387);var n=r(96540),i=r(52306),o=r.n(i),a=r(5631),s={userCanControlVideoFeed:function(){return window.live_permissions&&window.live_permissions.canControlVideoFeed}},c=r(25801),u=r(86056),l=o()({displayName:"LiveToolbar",mixins:[s],getDefaultProps:function(){return{hasVideoAvailable:!1,serviceTypeId:0,video:{enabled:!1}}},componentDidMount:function(){this._dismissAfterDelay()},UNSAFE_componentWillReceiveProps:function(e){e.enabled&&!1===e.visible&&(this.refs.layout.handleBlur(),this.refs.countdown_mode.handleBlur(),this.refs.videoControlFeedDropdown&&this.refs.videoControlFeedDropdown.handleBlur())},render:function(){return this.props.enabled?this.renderDefault():n.createElement("script",null)},renderDefault:function(){return n.createElement("div",{className:"LiveToolbar ".concat(this.getVisibilityClass()),onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},n.createElement(c.default,{appended:this.userCanControlVideoFeed(),available:this.props.hasVideoAvailable,enabled:this.props.video.enabled,onToggle:this.handleVideoToggle}),this.userCanControlVideoFeed()?this.renderVideoControlFeedDropdown():null,n.createElement(a.default,{name:"layout",ref:"layout",selected:this.props.composition,onChange:this.handleCompositonChange,options:{normal:{label:"Normal Layout"},countdown:{label:"Countdown Full"},"countdown-third":{label:"Countdown Lower"},"normal-third":{label:"Lower Third"},overview:{label:"Fullscreen Overview"}}}),n.createElement(a.default,{name:"countdown_mode",ref:"countdown_mode",selected:this.props.countdown_mode,onChange:this.props.onCountdownModeChange,options:{item:{label:"Countdown: Full Item Length",description:"Countdown for current item's planned length"},"item-adjusted":{label:"Countdown: End Item on Time",description:"Shorten each item countdown if the whole service is behind"},service:{label:"Countdown: End Service on Time",description:"Countdown for the service's planned end time"}}}),n.createElement("div",{className:"LiveToolbar-control"},n.createElement("div",{className:"btn toggle-switch toggle-helper theme-toggle-switch"},n.createElement("input",{type:"radio",name:"switch-theme",id:"switch-theme-light",value:"light",className:"toggle-switch-input",onChange:this.handleThemeChange,checked:"light"===this.props.theme}),n.createElement("label",{htmlFor:"switch-theme-light",className:"toggle-switch-label toggle-switch-label-off"},"Light"),n.createElement("input",{type:"radio",id:"switch-theme-dark",name:"switch-theme",value:"dark",className:"toggle-switch-input",onChange:this.handleThemeChange,checked:"dark"===this.props.theme}),n.createElement("label",{htmlFor:"switch-theme-dark",className:"toggle-switch-label toggle-switch-label-on"},"Dark"),n.createElement("span",{className:"toggle-switch-selection"}))))},renderVideoControlFeedDropdown:function(){return n.createElement(u.default,{available:this.props.hasVideoAvailable,onNewEmbedCode:this.handleNewEmbedCode,onVideoCleared:this.props.onVideoCleared,ref:"videoControlFeedDropdown",serviceTypeId:this.props.serviceTypeId,video:this.props.video})},getVisibilityClass:function(){return this.props.visible?"isVisible":""},handleCompositonChange:function(e){this.props.onCompositionChange(e)},handleNewEmbedCode:function(e){this.props.onNewEmbedCode(e)},handleThemeChange:function(e){this.props.onThemeChange(e.target.value)},handleVideoToggle:function(e){this.props.onVideoVisibilityChange(e)},_dismissAfterDelay:function(){setTimeout(this.props.onMouseLeave,3e3)},_extractVideoSource:function(e){return $(e).attr("src")}})},58130:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(2543),o=r.n(i),a=r(10086),s=r(32482),c=r(69500),u=r(85441);t.default=(0,c.cR)(function(e){var t=e.selected,r=e.canExportCSV,i=e.exportAllPeoplePermissions,c=e.handlers,l=e.isSchedulerAtAll,f=e.orgName,d=e.teams,p=e.tableActions,h=p.bulkEdit,m=p.chat,v=p.csv,y=p.email,g=p.print,b=Object.keys(t).length,S=b>0,w=!S||b>10,O=w?S?"You can only chat with 10 teams at a time":"You must select at least one team to chat with":"";return n.createElement(s.Y,null,l&&y&&n.createElement(a.$,{icon:{name:"services.email"},onClick:function(){return c.emailer()},paddingHorizontal:.5,theme:"neutral",tooltip:{title:"Email People"},variant:"outline"}),l&&m&&n.createElement(u.default,{disabled:w,tooltip:{title:O},paddingHorizontal:.5,size:"md",onClick:function(){return c.chat(o().filter(d,function(e){return o().includes(t,e.id)}))}}),g&&n.createElement(a.$,{icon:{name:"general.printer"},onClick:function(){return c.print()},paddingHorizontal:.5,theme:"neutral",tooltip:{title:"Print Report"},variant:"outline"}),l&&v&&n.createElement(a.$,{disabled:!r,icon:{name:"general.thickToBottomArrow"},onClick:function(){var e=c.csv,t=function(){return window.location="".concat(v.exportUrl).concat(window.location.search)};"function"===typeof e?e(t):t()},paddingHorizontal:.5,theme:"neutral",tooltip:{title:r?"Export CSV":"".concat(f," only allows ").concat(o().pluralize(i)," to export people CSVs.")},variant:"outline"}),l&&h&&n.createElement(a.$,{icon:{name:"general.pencil"},tooltip:{title:"Bulk Edit"},paddingHorizontal:.5,theme:S?"interaction":"neutral",variant:S?"solid":"outline",onClick:function(){return c.bulkEdit()}}))})},6e4:function(e,t,r){"use strict";r.d(t,{OG:function(){return n},xl:function(){return i},Ku:function(){return a},wH:function(){return s},Io:function(){return l}});var n={};r.r(n),r.d(n,{createStageMember:function(){return d},deleteStageMember:function(){return p},updateStageMember:function(){return h}});var i={};r.r(i),r.d(i,{createStageObject:function(){return m},deleteStageObject:function(){return v},updateStageObject:function(){return y}});var o=r(33513);function a(e){var t=e.id,r=e.planId,n=e.serviceTypeId;return(0,o.zr)({url:"/service_types/".concat(n,"/plans/").concat(r,"/stages/").concat(t)})}function s(e){var t=e.planId,r=e.serviceTypeId,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Jt)({url:"/service_types/".concat(r,"/plans/").concat(t,"/stages"),data:n})}function c(){c=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),s=new x(n||[]);return i(a,"_invoke",{value:T(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",h="suspendedYield",m="executing",v="completed",y={};function g(){}function b(){}function S(){}var w={};l(w,a,function(){return this});var O=Object.getPrototypeOf,P=O&&O(O(k([])));P&&P!==r&&n.call(P,a)&&(w=P);var _=S.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):t.resolve(l).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,s)})}s(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t(function(t,i){r(e,n,t,i)})}return o=o?o.then(i,i):i()}})}function T(t,r,n){var i=p;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=I(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=m;var u=d(t,r,n);if("normal"===u.type){if(i=n.done?v:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=v,n.method="throw",n.arg=u.arg)}}}function I(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=d(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=S,i(_,"constructor",{value:S,configurable:!0}),i(S,"constructor",{value:b,configurable:!0}),b.displayName=l(S,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,l(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(j.prototype),l(j.prototype,s,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new j(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},E(_),l(_,u,"Generator"),l(_,a,function(){return this}),l(_,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function u(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function l(e,t){return f.apply(this,arguments)}function f(){var e;return e=c().mark(function e(t,r){var n,i,a;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,i=t.planId,a=t.serviceTypeId,e.abrupt("return",(0,o.F6)({url:"/service_types/".concat(a,"/plans/").concat(i,"/stages/").concat(n),data:r}));case 2:case"end":return e.stop()}},e)}),f=function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)})},f.apply(this,arguments)}function d(e,t){var r=e.stageId,n=e.planId,i=e.serviceTypeId;return(0,o.bE)({url:"/service_types/".concat(i,"/plans/").concat(n,"/stages/").concat(r,"/stage_members"),data:{fields:{StageMember:[]},data:t}})}function p(e,t){var r=e.id,n=e.stageId,i=e.planId,a=e.serviceTypeId;return(0,o.zr)({url:"/service_types/".concat(a,"/plans/").concat(i,"/stages/").concat(n,"/stage_members/").concat(r),data:t})}function h(e,t){var r=e.id,n=e.stageId,i=e.planId,a=e.serviceTypeId;return(0,o.F6)({url:"/service_types/".concat(a,"/plans/").concat(i,"/stages/").concat(n,"/stage_members/").concat(r),data:{fields:{StageMember:[]},data:t}})}function m(e,t){var r=e.stageId,n=e.planId,i=e.serviceTypeId;return(0,o.bE)({url:"/service_types/".concat(i,"/plans/").concat(n,"/stages/").concat(r,"/stage_objects"),data:{fields:{StageObject:[]},data:t}})}function v(e,t){var r=e.id,n=e.stageId,i=e.planId,a=e.serviceTypeId;return(0,o.zr)({url:"/service_types/".concat(a,"/plans/").concat(i,"/stages/").concat(n,"/stage_objects/").concat(r),data:t})}function y(e,t){var r=e.id,n=e.stageId,i=e.planId,a=e.serviceTypeId;return(0,o.F6)({url:"/service_types/".concat(a,"/plans/").concat(i,"/stages/").concat(n,"/stage_objects/").concat(r),data:{fields:{StageObject:[]},data:t}})}},60195:function(e,t,r){"use strict";r.r(t);var n=r(629),i=r(44090),o=r(96540),a=r(52306),s=r.n(a),c=r(90172),u=r.n(c),l=s()({displayName:"LiveWatchedServicePane",getInitialState:function(){return{selecting:!1}},render:function(){return o.createElement("div",{className:this.getClassSet()},o.createElement("div",{className:"LiveWatchedServicePane__inner"},o.createElement(n.default,{onSelectionToggle:this.handleSelectionToggle,onUnwatchService:this.props.onRemove,onHide:this.props.onClose,seconds:this.props.seconds,timeFormatHandler:this.props.timeFormatHandler,serviceIds:this.props.ids}),o.createElement(i.default,{ids:this.props.ids,onAdd:this.props.onAdd,onRemove:this.props.onRemove,onClose:this.handleWatchedServiceSelectorClose})))},handleSelectionToggle:function(){this.setState({selecting:!this.state.selecting})},handleWatchedServiceSelectorClose:function(){this.setState({selecting:!1})},getClassSet:function(){return u()({LiveWatchedServicePane:!0,"is-visible":this.props.isVisible,"is-selecting":this.state.selecting})}});t.default=l},60289:function(e,t,r){"use strict";r.r(t),r.d(t,{getKey:function(){return n}});var n=function(e){return"".concat(e.product_id,"_").concat(e.key||"Arrangement")}},60490:function(e,t,r){"use strict";r.d(t,{fF:function(){return a},EE:function(){return m},nL:function(){return l},MF:function(){return y},ED:function(){return g},u:function(){return b.u},Mk:function(){return O},Jd:function(){return P},pn:function(){return A},Mj:function(){return C},Ub:function(){return N},hy:function(){return F},Dj:function(){return D},ZC:function(){return M},wY:function(){return z},Q_:function(){return de},pA:function(){return ue.p},bt:function(){return Y},ig:function(){return ie},Fl:function(){return se},j7:function(){return ce}});var n=r(96540);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a=function(e){var t=(0,n.useMemo)(function(){return Services.Flux.getStore(e)},[]),r=i((0,n.useState)(function(){return t.getState().state}),2),o=r[0],a=r[1];return(0,n.useEffect)(function(){var e=function(e){a(e.state)};return t.listen(e),function(){return t.unlisten(e)}},[]),o},s=r(33513);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=function(){var e=c((0,n.useState)(!1),2),t=e[0],r=e[1],i=c((0,n.useState)([]),2),o=i[0],a=i[1];return(0,n.useEffect)(function(){(0,s.Jt)({url:"/attachment_type_groups",data:{include:"attachment_types",fields:{AttachmentType:["name"],AttachmentTypeGroup:["name","attachment_types"]}}}).then(a).then(function(){return r(!0)})},[]),[o,t]},f=r(9465),d=r(36576);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e,t){var r=p((0,n.useState)(!1),2),i=r[0],o=r[1],a=p((0,n.useState)([]),2),s=a[0],c=a[1];return(0,n.useEffect)(function(){"Song"===t?(0,f.A)({songId:e.id},{fields:{Arrangement:"name"}}).then(function(e){var t=[["Song","Song"]].concat(_.map(e,function(e){return["Arrangement [".concat(e.name,"]"),e.id]}));o(!0),c(t)}):"Arrangement"===t&&(0,d.A)({songId:e.songId,arrangementId:e.id},{fields:{Key:"name,starting_key"}}).then(function(e){var t=[["Arrangement","Arrangement"]].concat(_.map(e,function(e){return["Key [".concat(e.startingKey).concat(e.name?": ".concat(e.name):"","]"),e.id]}));o(!0),c(t)})},[e,t]),[s,i]},v=r(69500),y=function(){return v.db.apply(void 0,arguments)},g=function(){return(0,n.useMemo)(function(){return Services.Flux.getStore("PersonCurrentStore")},[])},b=r(2131);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var O=function(){var e=S((0,n.useState)(!1),2),t=e[0],r=e[1];return{hover:t,hoverProps:{onMouseEnter:function(){return r(!0)},onMouseLeave:function(e){return e.relatedTarget instanceof Element?e.relatedTarget&&!e.currentTarget.contains(e.relatedTarget)?r(!1):void 0:r(!1)}}}},P=function(e){var t=(0,n.useRef)(null);(0,n.useEffect)(function(){return t.current=window.joltListener,window.joltListenerPromise.then(function(t){return t.subscribeAll(e)}),$.ajaxSetup({beforeSend:function(e){e.setRequestHeader("X-PCO-Live-Socket-ID",t.current.uuid)}}),function(){return $.ajaxSetup({beforeSend:_.noop})}},[])};function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var T,I=function(){try{return window.localStorage.removeItem("__noop__"),!0}catch(e){return!1}}();function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=E((0,n.useState)(function(){if(I){var r=window.localStorage.getItem(e);return null===r||"null"===r?t:r}return t}),2),i=r[0],o=r[1];function a(t){o(t),v.PD.emit(e,{newValue:t}),I&&window.localStorage.setItem(e,t)}function s(e){o(e.newValue)}function c(t){t.storageArea===localStorage&&t.key===e&&o(t.newValue)}return(0,n.useEffect)(function(){return v.PD.on(e,s),I&&window.addEventListener("storage",c),function(){v.PD.off(e,s),I&&window.removeEventListener("storage",c)}},[]),{value:i,set:a,remove:function(){a(null),v.PD.emit(e,{newValue:null}),I&&window.localStorage.removeItem(e)}}}var A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"One moment";T||(T=new Services.Classes.Loader(t)),(0,n.useEffect)(function(){return e?T.show():T.hide(),function(){return T.hide()}},[e])};function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var N=function(e){var t=x((0,n.useState)(!1),2),r=t[0],i=t[1];return(0,n.useEffect)(function(){var t=window.matchMedia(e);t.matches!==r&&i(t.matches);var n=function(){i(t.matches)};try{return t.addEventListener("change",n),function(){return t.removeEventListener("change",n)}}catch(o){try{return t.addListener(n),function(){return t.removeListener(n)}}catch(a){}}},[r,e]),r},L=r(22005),F=function(){return(0,n.useMemo)(function(){return"EU"===Services.Flux.getStore("OrganizationCurrentStore").getDateFormat()?L.EU_DATE_FORMAT:L.US_DATE_FORMAT},[])},D=function(){return(0,n.useMemo)(function(){return Services.Flux.getStore("OrganizationCurrentStore").timeZone()},[])},M=function(e){var t=(0,n.useRef)();return(0,n.useEffect)(function(){t.current=e}),t.current},R=r(38286),U=r.n(R),B=r(2543),G=r.n(B);function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.nodeToObserve,r=void 0===t?null:t,i=e.debounceRate,o=void 0===i?0:i,a=V((0,n.useState)({}),2),s=a[0],c=a[1],u=V((0,n.useState)(null),2),l=u[0],f=u[1],d=(0,n.useRef)(null),p=(0,n.useCallback)(function(){if(d.current)return d.current.disconnect()},[]),h=(0,n.useCallback)(function(){var e=(0,B.debounce)(function(e){return c(e)},o);d.current=new(U())(function(t){var r=V(t,1)[0];return e(r)}),l&&d.current.observe(l)},[l,o]);return(0,n.useEffect)(function(){r&&f(r)},[r]),(0,n.useLayoutEffect)(function(){return h(),function(){return p()}},[p,h]),[s,f]};function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var J={},Y=function(e){var t=q((0,n.useState)(!1),2),r=t[0],i=t[1];return(0,n.useEffect)(function(){var t;if(!J[e]){var n=window.matchMedia(e),o=function(){var t;return null===(t=J[e])||void 0===t?void 0:t.setters.forEach(function(e){return e(n.matches)})};!function(e,t){try{e.addEventListener("change",t)}catch(r){try{e.addListener(t)}catch(n){}}}(n,o),J[e]={media:n,listener:o,setters:[]}}var a=null===(t=J[e])||void 0===t?void 0:t.media.matches;return a!==r&&i(a),J[e].setters.push(i),function(){var t,r=((null===(t=J[e])||void 0===t?void 0:t.setters)||[]).filter(function(e){return e!==i});if(J[e].setters=r,(0,B.isEmpty)(r)){var n=J[e];!function(e,t){try{e.removeEventListener("change",t)}catch(r){try{e.removeListener(t)}catch(n){}}}(n.media,n.listener),delete J[e]}}},[e,r]),r},K=r(40961),Z=function(e){return(0,s.Jt)({url:"/tag_groups",data:e})},Q=["folder","folderId","tagsFor","allowMultipleSelections"];function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach(function(t){te(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function te(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ne(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ie=function(e){var t=re((0,n.useState)([]),2),r=t[0],i=t[1],o=re((0,n.useState)(!1),2),a=o[0],s=o[1],c=(0,n.useMemo)(function(){return{id:0,name:Services.Flux.getStore("OrganizationCurrentStore").getName()}},[]),u=(0,n.useRef)(!1),l=G().partialRight(G().map,function(e){var t=e.folder,r=e.folderId,n=e.tagsFor,i=e.allowMultipleSelections;return ee(ee({},function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Q)),{},{multiple:i,className:n,folder:t||c,folderId:r||c.id})}),f=function(e){return(0,v.QA)("tg:".concat(e),function(){return d(e)},{minutes:30})},d=function(e){return Z({where:{tags_for:e},fields:{TagGroup:["name","required","allow_multiple_selections","folder","tags","tags_for"],Folder:["name"],Tag:["name"]},include:["folder","tags"]})};return(0,n.useEffect)(function(){var t;return t=e.map(f),Promise.all(t).then(G().flatten).then(l).then(function(e){setTimeout(function(){K.unstable_batchedUpdates(function(){u.current||(i(e),s(!0))})})}),function(){return u.current=!0}},[]),[r,a]};function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var se=function(){var e=oe((0,n.useState)([]),2),t=e[0],r=e[1],i=oe((0,n.useState)(!1),2),o=i[0],a=i[1];return(0,n.useEffect)(function(){$.ajax({url:"/top_songs/weeks",type:"GET"}).then(v.Yu).then(function(e){var t=e.topSongWeeks;r(t),a(!0)})},[]),[t,o]};function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=window[e];return{value:"undefined"===typeof r?t:r,set:function(t){window[e]=t},remove:function(){delete window[e]}}}var ue=r(37742),le=r(79929),fe=r.n(le);function de(e){var t=e.target,r=e.ancestor,i=(0,n.useMemo)(function(){return"safari"===fe()(navigator.userAgent).browser.name},[]);(0,n.useEffect)(function(){if(i&&t&&r)return t.addEventListener("wheel",e),function(){return t.removeEventListener("wheel",e)};function e(e){var n=0===t.scrollTop,i=t.scrollTop+t.clientHeight>=t.scrollHeight-1,o=e.deltaY<0,a=e.deltaY>0;(n&&o||i&&a)&&(r.scrollTop+=e.deltaY,e.preventDefault())}},[i,t,r])}},61189:function(e,t){"use strict";t.A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and";return t="".concat(e.length>2?",":""," ").concat(t),e.join(", ").replace(/,\s([^,]+$)/,"".concat(t," $1"))}},61562:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}});var n=r(96540),i=r(40961),o=r(6444),a=r.n(o),s=r(74186),c=r(50287),u=r(2543),l=r.n(u);function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=function(){function e(){this.bindings=[]}var t=e.prototype;return t.bind_all=function(e){this.bindings.push(e)},t.unbind_all=function(e){this.bindings=l().without(this.bindings,e)},t.dispatch=function(e,t){var r,n=f(this.bindings);try{for(n.s();!(r=n.n()).done;){(0,r.value)(e,t)}}catch(i){n.e(i)}finally{n.f()}},e}();r(72387);function h(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return m(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var v={init:function(e){$.ajaxSetup({beforeSend:function(t){t.setRequestHeader("x-live-updates","true"),t.setRequestHeader("x-live-socket-id",e.uuid)},complete:function(t){"true"===t.getResponseHeader("x-live-updates")&&function(t){var r;if(t&&""!==$.trim(t)&&(r="string"===typeof t?JSON.parse(t):t)){var n,i=h(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;"string"===typeof o.data&&(o.data=JSON.parse(o.data)),e.dispatch(o.node,o.method,o.data)}}catch(a){i.e(a)}finally{i.f()}}}(t.responseText)}})}};function y(){y=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),s=new x(n||[]);return i(a,"_invoke",{value:T(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function b(){}function S(){}var w={};u(w,a,function(){return this});var O=Object.getPrototypeOf,P=O&&O(O(k([])));P&&P!==r&&n.call(P,a)&&(w=P);var _=S.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(i,o,a,s){var c=f(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):t.resolve(l).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,s)})}s(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t(function(t,i){r(e,n,t,i)})}return o=o?o.then(i,i):i()}})}function T(t,r,n){var i=d;return function(o,a){if(i===h)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=I(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var u=f(t,r,n);if("normal"===u.type){if(i=n.done?m:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=m,n.method="throw",n.arg=u.arg)}}}function I(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=S,i(_,"constructor",{value:S,configurable:!0}),i(S,"constructor",{value:b,configurable:!0}),b.displayName=u(S,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,u(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(j.prototype),u(j.prototype,s,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new j(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},E(_),u(_,c,"Generator"),u(_,a,function(){return this}),u(_,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function g(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}var b=function(){function e(){}var t=e.prototype;return t.init=function(){this.elm=$("main");var e=window.location.href.match(/\/live\/(\d+)/);if(e){if(this.planId=e[1],this.redirectIfIE9OrLess())return;this.fetchData(this.render.bind(this))}else window.location.replace(this.API_URL);this.PUSHER_KEY="6d1601960fdf505090b8",this.API_URL="https://services.planningcenteronline.com";var t=Services.Flux.getStore("OrganizationCurrentStore"),r=Services.Flux.getStore("PersonCurrentStore");this.org={id:t.getId(),name:t.getName(),secret:t.secret(),twenty_four_hour_time:t.twentyFourHourTime()},this.me={id:r.getId(),organization:this.org}},t.fetchData=function(e){var t=this;$.get("/plans/".concat(this.planId,".json")).done(function(r){t.plan=r,e()})},t.render=function(){this.root=i.render(n.createElement(c.default,{plan:this.plan,plan_id:this.planId}),this.elm[0]),this.subscribe()},t.subscribe=function(){this.dispatcher=new p,this.setupPusher(),this.setupJolt()},t.setupPusher=function(){var e=this;a().channel_auth_endpoint="/pusher/auth?service_type=".concat(this.plan.service_type_id,"&time=").concat(Date.now()),this.pusher=new(a())(this.PUSHER_KEY,{auth:{headers:{"X-CSRF-Token":$("meta[name=csrf-token]").attr("content")}}}),this.chat_updates=this.pusher.subscribe("presence-live-".concat(this.org.id,"-").concat(this.org.secret)),this.chat_updates.bind_all(function(t,r){e.root.dispatch(t.replace(/^(pusher:)?/,"chat_"),r)})},t.setupJolt=function(){var e,t=(e=y().mark(function e(){var t,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.jolt=new s.UK,this.jolt.onmessage=this.onmessage,t=this.root.getPlanChannelName(),e.next=5,this.jolt.connect();case 5:return r=e.sent,e.next=8,r.subscribeAll([{channel:"plan_updates_".concat(this.org.id,"_").concat(this.org.secret),handlers:this.dispatcher.dispatch.bind(this.dispatcher)},{channel:t,handlers:this.root.dispatch}]);case 8:this.root.subscription=t,this.dispatcher.bind_all(this.root.dispatch),v.init(this.jolt);case 11:case"end":return e.stop()}},e,this)}),function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){g(o,n,i,a,s,"next",e)}function s(e){g(o,n,i,a,s,"throw",e)}a(void 0)})});return function(){return t.apply(this,arguments)}}(),t.redirectIfIE9OrLess=function(){var e=!(!document.all||window.atob);return e&&(alert("IE9 and lower are not supported in Services LIVE 3. Please upgrade your browser."),window.location.replace("".concat(this.API_URL,"/plans/").concat(this.planId))),e},t.onmessage=function(e){var t=e.channel,r=e.data,n=e.event,i=e.socket_id;"function"===typeof this.channelHandlers[t]&&i!==this.uuid&&this.channelHandlers[t](n,r)},e}(),S=b},61613:function(e,t,r){"use strict";r.d(t,{Cq:function(){return a},Fi:function(){return p},IU:function(){return s},dJ:function(){return u},fe:function(){return d},iu:function(){return c},jz:function(){return h},kT:function(){return l},lw:function(){return f}});var n=r(2543),i=r.n(n),o=r(69500),a=[{id:"gte",name:"At Least"},{id:"lte",name:"At Most"},{id:"exactly",name:"Exactly"}],s=0,c=-1,u=-2,l=-3,f={get PERMISSIONS(){return delete this.PERMISSIONS,this.PERMISSIONS=(0,o.db)("Person.PERMISSIONS").map(function(e,t){return{id:t,name:e}})}};["MEDIA","SONG"].forEach(function(e){var t="".concat(e,"_PERMISSIONS");Object.defineProperty(f,t,{configurable:!0,get:function(){return delete this[t],this[t]=i().chain("Person").thru(o.db).get(t).map(function(e,t){return{id:parseInt(t,10),name:e}}).uniqBy("name").value()}})}),["ARCHIVED","SCHEDULED_VIEWER","VIEWER","SCHEDULER"].forEach(function(e,t){Object.defineProperty(f,e,{get:function(){return f.PERMISSIONS[t]}})});var d=["Missing","Clear"],p=["Not a leader","Is a leader"],h=["Not a rehearsal team member","Is a rehearsal team member"]},61819:function(e,t,r){"use strict";r.r(t),r.d(t,{BASE_64_REGEX:function(){return n},contentStyle:function(){return i},placeholderMenuItems:function(){return o},textAlignMenuItems:function(){return a},textSizes:function(){return s},toolbarHeight:function(){return c},toolbarWithPlaceholders:function(){return u},toolbarWithoutPlaceholders:function(){return l}});var n=new RegExp('data:image/[a-z]+;base64,[^"]*',"g"),i="\n  .button {\n    border-radius: 4px;\n    border: 1px solid;\n    box-shadow: 0 2px 4px rgba(160,160,160,0.5);\n    color: #FFFFFF;\n    display: inline-block;\n    font-size: 14px;\n    font-family: sans-serif;\n    font-weight: bold;\n    font-weight: 600;\n    margin-bottom: 12px;\n    margin-right: 12px;\n    min-width: 68px;\n    padding: 10px 16px;\n    text-align: center;\n    text-decoration: none !important;\n  }\n  .affirmative-button {\n    background-color: #7DC755;\n    border-color: #67B83B;\n  }\n  .dissenting-button {\n    background-color: #F6795F;\n    border-color: #E45A3D;\n  }\n",o=function(e){return[{text:"Recipient",menu:[{text:"Full Name",onclick:function(){return e.insertContent("{{to.name}}")}},{text:"First Name",onclick:function(){return e.insertContent("{{to.first_name}}")}},{text:"Last Name",onclick:function(){return e.insertContent("{{to.last_name}}")}}]},{text:"Sender",menu:[{text:"Full Name",onclick:function(){return e.insertContent("{{from.name}}")}},{text:"First Name",onclick:function(){return e.insertContent("{{from.first_name}}")}},{text:"Last Name",onclick:function(){return e.insertContent("{{from.last_name}}")}},{text:"Signature",onclick:function(){return e.insertContent("{{from.signature}}")}}]},{text:"Organization",menu:[{text:"Name",onclick:function(){return e.insertContent("{{organization.name}}")}}]}]},a=function(e){return[{icon:"alignleft",onclick:function(){return e.execCommand("JustifyLeft")}},{icon:"aligncenter",onclick:function(){return e.execCommand("JustifyCenter")}},{icon:"alignright",onclick:function(){return e.execCommand("JustifyRight")}},{icon:"alignjustify",onclick:function(){return e.execCommand("JustifyFull")}}]},s="10px 12px 14px 16px 18px 24px 36px".split(" ").map(function(e){return{text:e,value:e}}),c=39,u=["textsize bold italic underline | bullist numlist textalign outdent indent | forecolor backcolor hr link removeformat placeholders code"],l=["textsize bold italic underline | bullist numlist textalign outdent indent | forecolor backcolor hr link removeformat code"]},62008:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i)()({displayName:"LiveItemNote",render:function(){return n.createElement("section",{className:"note"},n.createElement("h3",null,this.props.category_name),n.createElement("p",null,this.props.note))}});t.default=o},62134:function(e,t,r){"use strict";r.r(t),t.default=function(e){return e/1048576%1024!==0?1.024*e:e}},62339:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(26922),s=r(10086),c=r(22342),u=r(14173);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){d(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.default=function(e){var t=e.attachableKeys,r=e.handleRelink,n=e.setIntegrationParameters,l=e.song,d=e.songId,h=p((0,o.useState)({}),2),m=h[0],v=h[1];return(0,o.useEffect)(function(){n(function(e){return f(f({},e),{},{selectedMedia:i().values(m)})})},[m,n]),o.createElement(c.I,{spacing:3},o.createElement(c.I,{axis:"horizontal",alignment:"start"},o.createElement(a.a,{className:"file-result-thumbnail",shrink:0},o.createElement("img",{alt:"".concat(l.title," cover art"),className:"file-result-thumbnail__image",src:l.album_image_70})),o.createElement(c.I,{grow:!0,marginLeft:1,shrink:!0},o.createElement(c.I,{alignment:"start",axis:"horizontal",spacing:1,distribution:"space-between"},o.createElement(c.I,{axis:"vertical",shrink:!0},o.createElement("h4",{className:"file-result__track",title:l.title},l.title),o.createElement("div",{className:"file-result__artist"},"by"," ",o.createElement("a",{href:"//www.praisecharts.com/detail/arrangement/".concat(l.arrangement_id),rel:"noopener noreferrer",target:"_blank"},l.artist))),o.createElement(c.I,{axis:"horizontal",spacing:1},o.createElement(s.$,{iconLeft:{name:"general.link"},onClick:r,size:"sm",theme:"primary",title:"Relink",variant:"naked"}))))),o.createElement(u.FilesAccordion,{attachableKeys:t,selectedMedia:m,setSelectedMedia:v,song:l,songId:d}))}},62414:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i)()({displayName:"LiveChatMemberList",render:function(){return n.createElement("ul",{className:"LiveChatMemberList"},this.renderMembers())},renderMembers:function(){return this.props.members.map(function(e){var t=e.id,r=e.name;return n.createElement("li",{key:t},r)})}});t.default=o},62657:function(e,t,r){"use strict";r.r(t),r.d(t,{PartsCollapse:function(){return y}});var n=r(2543),i=r.n(n),o=r(96540),a=r(89280),s=r(10086),c=r(30402),u=r(5538),l=r(22342),f=r(60289);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){h(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var y=function(e){var t,r=e.data,n=e.label,d=e.parts,v=e.selectedMedia,y=e.setSelectedMedia,g=e.value,b=m((0,o.useState)(!1),2),S=b[0],w=b[1],O=m((0,o.useState)((null===(t=v[(0,f.getKey)(g)])||void 0===t?void 0:t.parts)||[]),2),P=O[0],_=O[1],E=function(e){_(e);var t=(0,f.getKey)(g);y(function(r){return e.length>0?p(p({},r),{},h({},t,p(p({},g),{},{parts:e}))):i().omit(r,t)})};return o.createElement(l.I,null,o.createElement(l.I,{alignment:"center",axis:"horizontal",distribution:"space-between",marginLeft:1},o.createElement(l.I,{alignment:"center",axis:"horizontal",spacing:1},o.createElement(s.$,{icon:{css:{transform:S?"rotate(0)":"rotate(-90deg)"},name:"general.downCaret",size:"md"},onClick:function(){return w(function(e){return!e})},size:"xs",tooltip:S?"Collapse":"Expand",variant:"naked"}),o.createElement(c.A,{checked:P.length===d.length,indeterminate:i().inRange(P.length,1,d.length),label:n,onChange:function(e){var t=e.target.checked;E(t?d:[])}})),o.createElement(a.A,{size:"xs",title:r})),o.createElement(u.A,{lazy:!0,open:S},o.createElement(l.I,{marginLeft:6.5,paddingTop:.75,spacing:1},d.map(function(e){return o.createElement(l.I,{alignment:"center",axis:"horizontal",distribution:"space-between",key:e.code,spacing:1},o.createElement(c.A,{checked:i().some(P,e),label:e.label,onChange:function(){E(i().xorWith(P,[e],i().isEqual))}}),o.createElement(a.A,{size:"xs",title:r}))}))))}},63017:function(e,t,r){"use strict";r.r(t);t.default=function(){return React.createElement("div",{style:{height:536}},React.createElement("div",{className:"center-xy"},React.createElement("span",{className:"quart-spinner quart-spinner--small"})))}},64478:function(e,t,r){"use strict";r.r(t);var n=r(60490);t.default=function(e){var t=e.feature,r=e.children,i=e.fallback,o=(0,n.u)(t);return null===o?null:o?r:i}},65037:function(e,t,r){"use strict";r.r(t);var n=r(21210),i={backgroundColor:"primary-darker",borderRadius:3,fontWeight:600,padding:".5rem 2rem",position:"absolute",textAlign:"center",transform:"translate(1rem, 1rem)",zIndex:100,"&:not(:focus)":{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"}};t.default=function(e){var t=e.to,r=e.children;return React.createElement(n.N,{color:"white",css:i,to:t},r)}},66474:function(e,t,r){"use strict";r.d(t,{Q:function(){return s},e:function(){return a}});var n=r(96540),i=r(534),o=r(60490),a=(0,n.createContext)({}),s=function(e){var t=e.children,r=(0,i.u)().breakpoints,n=(0,o.bt)("(min-width: ".concat(r.sm+"px",")")),s=(0,o.bt)("(min-width: ".concat(r.md+"px",")"));return React.createElement(a.Provider,{value:{smBreakpoint:n,mdBreakpoint:s}},t)}},66686:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=["styles"];t.default=function(e){e.styles;var t=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,i);return n.createElement("svg",Object.assign({viewBox:"0 0 59 58",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),n.createElement("path",{fill:"#E0E0E0",d:"M.75 0h58v58h-58z"}),n.createElement("path",{d:"M30.07 18a2 2 0 00-2.35 2.17L28 22.7l.83 8.08a6.63 6.63 0 00-2.26-.02c-3.02.48-5.15 2.85-4.77 5.28.39 2.44 3.14 4.03 6.15 3.55 2.73-.44 4.73-2.41 4.8-4.59h.01v-.02a3.67 3.67 0 00-.1-.94L31.6 23.36l4.98.92a1 1 0 001.18-.98v-3.07a1 1 0 00-.82-.99L30.07 18z",fill:"#9E9E9E"}))}},66842:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(32485),s=r.n(a),c=r(21210),u=r(38728);function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var f=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).state={added:[t.added],failed:[]},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,l(t,r);var a=n.prototype;return a._handleAdd=function(e){var t=this;this.setState({added:this.state.added.concat([e])},function(){return t.props.addResult(e,{markAsFailed:function(){return t._addToFailed(e)}})})},a._handleRemove=function(e){var t=this;this.setState({added:this.state.added.filter(function(t){return t!==e})},function(){return t.props.removeResult(e)})},a._addToFailed=function(e){this.setState({failed:this.state.failed.concat([e])})},a.renderEmpty=function(){return o.createElement("div",{className:"file-results-empty"},o.createElement("div",{className:"center-xy"},o.createElement("h2",{className:"file-results-empty__title"},"No results found"),o.createElement("p",{className:"file-results-empty__subtitle"},"please enter a search term above")))},a._resultAdded=function(e){return!this._resultFailed(e)&&this.state.added.indexOf(e)>-1},a._resultFailed=function(e){return this.state.failed.indexOf(e)>-1},a.renderResults=function(){var e=this,t=this.props.showPreview;return o.createElement("ul",{className:"file-results"},this.props.results.map(function(r){return o.createElement("li",{key:r.id,className:s()("file-result",{"file-result--no-preview":!t})},r.preview_url?o.createElement(Services.Utils.SongPreview,{audioSource:r.preview_url,imageSource:r.thumbnail}):o.createElement("div",{className:"file-result-thumbnail",onClick:function(){return t&&t(r.id)}},o.createElement("img",{src:r.thumbnail,className:"file-result-thumbnail__image"}),t&&o.createElement("svg",{width:"26px",height:"26px",viewBox:"0 0 26 26",className:"file-result-thumbnail__play"},o.createElement("circle",{fill:"#FFFFFF",cx:"13",cy:"13",r:"13"}),o.createElement("polygon",{fill:"#86B350",points:"10.75,9 16.75,13 10.75,17"}))),o.createElement("div",{className:"file-result__meta"},o.createElement("h4",{className:"file-result__track",title:r.title},i().unescape(r.title)),r.author&&o.createElement("div",{className:"file-result__artist"},"by"," ",o.createElement(c.N,{color:"primary",external:!0,hover:{color:(0,u.Sh)("--t-text-color-interaction-hover")},to:r.author_uri},r.author))),e._resultAdded(r.id)&&r.id===e.props.added?o.createElement("button",{type:"button",onClick:function(){return e._handleRemove(r.id)},className:"file-result__remove"},o.createElement("svg",{width:"65px",height:"21px",viewBox:"0 0 65 27",className:"add-to-remove"},o.createElement("rect",{className:"add-to-remove__rect",x:"0.64",y:"0.64",width:"63.41",height:"25",rx:"12.5",ry:"12.5"}),o.createElement("text",{className:"add-to-remove__text",x:"14",y:"17"},"unlink"))):o.createElement("button",{type:"button",onClick:function(){return e._handleAdd(r.id)},className:"file-result__add",disabled:e._resultFailed(r.id)},o.createElement("svg",{width:"21px",height:"21px",viewBox:"0 0 21 21",className:s()("add-to-save",{"add-to-save--saved":e._resultAdded(r.id),"add-to-save--failed":e._resultFailed(r.id)})},o.createElement("circle",{className:"add-to-save__circle",cx:"10.5",cy:"10.5",r:"10"}),o.createElement("g",{className:"add-to-save__plus"},o.createElement("line",{x1:"10.5",y1:"5.5",x2:"10.5",y2:"15.5"}),o.createElement("line",{x1:"5.5",y1:"10.5",x2:"15.5",y2:"10.5"})),o.createElement("polyline",{className:"add-to-save__checkmark",fill:"none",stroke:"#5CBA5D",strokeMiterlimit:"10",points:"5.958,11.355 8.311,13.783 15.042,6.848"}))))}))},a.render=function(){return this.props.results.length?this.renderResults():this.renderEmpty()},n}(o.Component);t.default=f},66851:function(e,t,r){"use strict";r.r(t);r(72387);var n=r(2543),i=r.n(n),o=r(96540),a=r(52306),s=r.n(a),c=r(5631),u=r(90172),l=r.n(u);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=s()({displayName:"LiveChatChannelList",MAX_COUNT:10,getInitialState:function(){return{tabsInline:2}},componentDidMount:function(){this.props.overflow&&(this._inlineTabInterval=setInterval(this.setTabsInline,1e3))},componentWillUnmount:function(){this._inlineTabInterval&&clearInterval(this._inlineTabInterval)},render:function(){return o.createElement("div",{className:"LiveChatChannelList__outer"},o.createElement("ul",{className:"LiveChatChannelList"},this.renderChatTabs(this.state.tabsInline),this.props.overflow?this.renderChatChannelOverflow(this.state.tabsInline):null),this.props.overflow?this.renderPhantomTabs("phantomWithPadding"):null,this.props.overflow?this.renderPhantomTabs("phantomWithoutPadding",!1):null)},renderChatChannelOverflow:function(e){var t=this,r=i().toPairs(this.props.channels).slice(e);if(r.length>0){var n={};return r.forEach(function(e){var r=f(e,2),i=r[0],o=r[1];n[i]={name:o,label:t.renderOverflowChannelLabel(i)}}),o.createElement(c.default,{className:"LiveChatChannelListDropdown",name:"chat-channel",label:i().partial(this.renderOverflowTabLabel,r,n),selected:this.props.selected,onChange:this.handleChatOverflowChange,options:n})}return o.createElement("span",null)},renderChatTabs:function(e){var t=this,r=0;return 0===e?o.createElement("span",null):i().map(this.props.channels,function(n,a){return e&&++r>e?null:o.createElement("li",{key:a,className:t.getClassSet(a),onClick:i().partial(t.props.onChange,parseInt(a))},n,t.renderUnreadCount(t.props.unreadCounts[a]||0))})},renderOverflowTabLabel:function(e,t,r){var n=this,i=0;return e.forEach(function(e){var t=f(e,1)[0];i+=n.props.unreadCounts[t]||0}),o.createElement("span",{className:"label"},t[r]?t[r].name:"".concat(e.length," more"),this.renderUnreadCount(i))},renderPhantomTabs:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=l()({"LiveChatChannelList-phantom":!0,"with-dropdown-padding":t});return o.createElement("ul",{ref:e,className:r},this.renderChatTabs())},renderUnreadCount:function(e){return e>this.MAX_COUNT?o.createElement("span",{className:"unread-count overflow"},this.MAX_COUNT,"+"):e>0?o.createElement("span",{className:"unread-count"},e):o.createElement("span",null)},renderOverflowChannelLabel:function(e){return o.createElement("span",null,this.props.channels[e],this.renderUnreadCount(this.props.unreadCounts[e]))},handleChatOverflowChange:function(e){return this.props.onChange(parseInt(e))},getClassSet:function(e){return l()({LiveChatChannel:!0,active:parseInt(e)===this.props.selected,unread:this.props.unreadCounts[e]>0})},setTabsInline:function(){if(this.refs.phantomWithPadding&&this.refs.phantomWithoutPadding){var e,t=$(this.refs.phantomWithPadding),r=$(this.refs.phantomWithoutPadding),n=t.find("li").toArray().filter(function(e){return $(e).position().top<15}).length,o=r.find("li").toArray().filter(function(e){return $(e).position().top<15}).length;(e=o>=i().size(this.props.channels)?o:n)!==this.state.tabsInline&&this.setState({tabsInline:e})}}});t.default=p},68010:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(84743),s=r.n(a),c=r(26922),u=r(10086),l=r(38098),f=r(78058),d=r(22342),p=r(32519),h=r(84464),m=["src","alt"],v=["value"];function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){b(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,P(e,t)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function _(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var E=function(e){var t=e.type,r=e.tutorialImageProps,n=i().pluralize(t).toLowerCase();return o.createElement(p.default.Body,null,o.createElement(c.a,{marginBottom:2},"Select ".concat(n," by clicking their pictures. Then click the bulk edit button again.")),o.createElement("img",Object.assign({src:"/assets/bulk-edit/".concat(n,"/tutorial.gif"),alt:"bulk edit tutorial",className:"shadow"},r)))},j=function e(t){var r=t.name,n=t.data;return"".concat(r).concat(n?" > ".concat(n.map(e)):"")},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map(function(e,r){return o.createElement("span",{key:r,className:"tag",style:t},j(e))})},I=function(e){var t=e.transform,r=t.type,n=t.data;return o.createElement("div",{className:"my_8"},o.createElement("h5",{className:"t-6 uppercase grey-dark"},i().titleize(i().pluralize(r.replace(/_/g," "),n.length))),"add_positions"===r?function(e){return e.map(function(e,t){return o.createElement("div",{key:t,title:i().castArray(e.name).join(" | ")},T(e.data,{cursor:"default"}))})}(n):function(e){return e.map(function(e,t){var r=e.name,n=e.data;return o.createElement("div",{key:t},o.createElement("strong",{className:"mr-8"},r,":"),T(n))})}(n))},C=function(e){var t=e.src,r=e.alt;_(e,m);return o.createElement("div",{"data-has-tip":"right","data-tip-content":r,className:"flex align-items-center mr-8"},o.createElement("img",{src:t,alt:r,className:"size-32 p-4 b-2 b-grey-light circle"}))},A=function(e){var t=e.type,r=e.bulkUpdate,n=e.onReselect;return o.createElement("div",{className:"pane p-16"},o.createElement("div",{className:"flex align-items-center mb-16"},i().isEmpty(r.person)?o.createElement(C,{src:"".concat(Services.Utils.urlFor("services"),"/assets/evergreen/png/missing.png"),alt:"This person has been deleted"}):o.createElement(C,{src:r.person.photoThumbnailUrl,alt:"".concat(r.person.firstName," ").concat(r.person.lastName)}),o.createElement("h4",null,s()(r.createdAt).format("MMM Do")),o.createElement("button",{className:"btn btn-outline-interaction btn-sm ml-auto",onClick:function(){return n(r.updatableIds)}},"Reselect ".concat(i().pluralize(t,r.updatableIds.length,!0)))),o.createElement("div",{className:"my_16"},r.data.map(function(e,t){return o.createElement(I,{key:t,transform:e})})))},x=function(e){var t=e.type,r=e.bulkUpdates,n=e.onReselect,i=e.page,a=e.perPage,s=e.onPageChange;return o.createElement("div",{className:"modal-row bg-grey-lightest"},o.createElement("div",{className:"my_16"},r.slice(i*a-a,i*a).map(function(e,r){return o.createElement(A,{key:r,type:t,bulkUpdate:e,onReselect:n})})),o.createElement(Services.Utils.Paginator,{page:parseInt(i,10),totalPages:Math.ceil(r.length/a),maxVisible:3,onChange:s}))},k=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={page:1,perPage:3},r}O(t,e);var r=t.prototype;return r.handlePageChange=function(e){this.setState({page:e})},r.render=function(){var e=this.props,t=e.type,r=e.bulkUpdates,n=e.onReselect,i=e.requestClose,a=e.switchToEditView,s=this.state,c=s.page,l=s.perPage;return o.createElement(o.Fragment,null,o.createElement(p.default.Body,null,r.length>0&&o.createElement(x,{type:t,page:c,perPage:l,bulkUpdates:r,onReselect:n,onPageChange:this.handlePageChange.bind(this)})),o.createElement(p.default.Footer,null,o.createElement(u.$,{title:"Cancel",variant:"naked",onClick:i}),o.createElement(u.$,{title:"Go Back",theme:"info",variant:"outline",onClick:a})))},t}(o.Component),N=function(e){function t(t){var r;return(r=e.call(this,t)||this).handleAddTag=function(e){return function(t){var n=t.value,i=_(t,v);n&&r.setState(b({},e,[].concat(S(r.state[e]),[g({id:n},i)])))}},r.handleRemoveTag=function(e,t){var n=r.state[e];r.setState(b({},e,n.filter(function(e){return e.id!==t})))},r.switchToEditView=function(){r.setState({currentView:1})},r.handleRequestClose=function(){i().isFunction(r.props.onRequestClose)?r.props.onRequestClose():Services.Modal.hide()},r.handleSubmit=function(){var e=r.props.onSubmit;r.setState({isSubmitting:!0},function(){return e(r.state,r.handleRequestClose).catch(function(){return r.setState({isSubmitting:!1})})})},r.handleReselect=function(e){r.props.onReselect(e,function(){r.switchToEditView()})},r.handleViewChange=function(){r.setState({currentView:0===r.state.currentView?1:0})},r.state={hasSelection:t.ids.length>0,currentView:1,tags:[],tagsToRemove:[],isSubmitting:!1},r}O(t,e);var r=t.prototype;return r.componentDidUpdate=function(e){i().isEqual(e.ids,this.props.ids)||this.setState({hasSelection:this.props.ids.length>0})},r.isPerformable=function(){var e=this.props.formData,t=this.state,r=t.tags,n=t.tagsToRemove;return!i()(g({tags:r,tagsToRemove:n},e)).values().every(function(e){return i().isArray(e)||i().isPlainObject(e)?i().isEmpty(e):i().isUndefined(e)})},r.renderEditView=function(){var e=this.props,t=e.type,r=e.renderModalTop,n=e.buttonText,i=e.bulkUpdates,a=e.children,s=e.tagGroups,c=e.tutorialImageProps,l=this.state,f=l.hasSelection,m=l.isSubmitting;return o.createElement(o.Fragment,null,f&&r&&r(),f?o.createElement(p.default.Body,null,o.createElement(h.AddRemoveTags,{type:t,tags:this.state.tags,tagsToRemove:this.state.tagsToRemove,tagGroups:s,handleAddTag:this.handleAddTag,handleRemoveTag:this.handleRemoveTag}),a):o.createElement(E,{type:t,tutorialImageProps:c}),o.createElement(p.default.Footer,{distribution:"space-between"},o.createElement(d.I,{axis:"horizontal",spacing:1},i.length>0&&o.createElement(u.$,{title:"Recent bulk edits",theme:"info",variant:"outline",onClick:this.handleViewChange})),o.createElement(d.I,{axis:"horizontal",spacing:1},o.createElement(u.$,{title:"Cancel",variant:"naked",onClick:this.handleRequestClose}),f&&o.createElement(u.$,{title:n,disabled:!this.isPerformable()||m,theme:"primary",variant:"fill",onClick:this.handleSubmit}))))},r.render=function(){var e=this.props,t=e.type,r=e.bulkUpdates,n=this.state.currentView,i=0===n;return o.createElement(p.default,{open:!0,padding:0,maxWidth:75,marginTop:6,onRequestClose:this.handleRequestClose,className:"modal"},o.createElement(d.I,{id:"dialog-header",as:"header",axis:"horizontal",alignment:"center",distribution:"space-between",paddingTop:3,paddingHorizontal:4,flexWrap:"wrap"},o.createElement(l.A,{level:2,weight:"500",fontSize:"25px"},i?"Recent Bulk Edits":this.props.title||"Bulk Edit",i&&o.createElement("small",{className:"ml-8"},"(last 30 days)")),o.createElement(u.$,{variant:"naked",icon:{name:"general.x",size:"md",color:"grey-7"},title:"Close modal",marginRight:-1,onClick:this.handleRequestClose})),o.createElement(f.A,{activeViewIndex:n},o.createElement(f.A.View,null,o.createElement(k,{type:t,bulkUpdates:r,onReselect:this.handleReselect,requestClose:this.handleRequestClose,switchToEditView:this.switchToEditView})),o.createElement(f.A.View,null,this.renderEditView())))},t}(o.Component);t.default=N},68147:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(60358),s=r(10086),c=r(45387),u=r(34738),l=r(22342),f=r(88538),d=r(1514),p=r(32519),h=r(69500),m=r(99751),v=r(87306);function y(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var S=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).handleEditorChange=function(){r.setState({messageHtml:tinyMCE.activeEditor.getContent(),messageText:tinyMCE.activeEditor.getContent({format:"text"})})},r.onSelect=function(e){var t=e.value;r.setState({recipients:t})},r.handleClose=function(){r.setState(r.initialState,r.props.onClose)},r.isValid=function(){var e=r.state,t=e.subject,n=e.messageText,o=e.recipients;return i().every([].concat(y(i().map([t,n],i().trim)),[o]),i().some)},r.sendEmail=function(){var e=r.state,t=e.subject,n=e.messageHtml,o=e.recipients;r.setState({isSending:!0},function(){(0,m.ZM)(t,n,i().map(o,"id")).then(r.showSuccess).fail(r.showError).always(function(){return r.setState({isSending:!1})})})},r.showSuccess=function(){return Swal.alertSuccess.fire({titleText:"Success",text:"Message sent to ".concat(i().pluralize("person",r.props.successMessageSize(r.state.recipients),!0),".")}).then(function(e){return e.isConfirmed&&r.handleClose()})},r.showError=function(){return Swal.alertError.fire({titleText:"Sorry",text:"Your message was not sent, please try again."})},r.renderRecipient=function(e){return o.createElement(l.I,{axis:"horizontal",alignment:"center"},o.createElement(a.e,{size:"sm",source:e.photoThumbnailUrl}),o.createElement(f.E,{paddingLeft:"8px"},r.fullName(e)))},r.fullName=function(e){return e.fullName?e.fullName:"".concat(e.firstName," ").concat(e.lastName)},r.state=r.initialState(),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,b(t,r);var g=n.prototype;return g.initialState=function(){return{subject:this.props.subject||"",messageText:this.props.message||"",messageHtml:this.props.message||"",recipients:this.props.recipientOptions,isSending:!1}},g.render=function(){var e=this,t=this.props,r=t.allowPersonSelect,n=void 0===r||r,f=t.selectPlaceholder,m=t.recipientOptions,y=t.title,g=this.state,b=g.subject,S=g.messageHtml,w=g.isSending,O=g.recipients;return o.createElement(o.Fragment,null,o.createElement(p.default.Header,{onClose:this.handleClose},o.createElement(p.default.Title,null,y)),o.createElement(p.default.Body,null,o.createElement(l.I,{spacing:2,radiusBottom:3},n?1===m.length?o.createElement(l.I,{axis:"horizontal",alignment:"center"},"To: ".concat(this.fullName(i().first(m)))):o.createElement(u.A,{multiple:!0,emptyValue:f,onChange:this.onSelect,renderValue:function(t){return"To: ".concat((0,h.Re)(t.map(function(t){var r=t.value;return e.fullName(r)})))}},m.map(function(t){return o.createElement(u.A.Option,{key:t.id,value:t,children:e.renderRecipient(t)})})):o.createElement(d.A,{naked:!0,tokens:O,onChange:function(t){var r=t.tokens;return e.setState({recipients:r})},renderInput:function(){return null},renderToken:function(e,t){var r=t.keyboardControls,n=t.removeToken,s=i().chain(e.emails).sortBy({primary:!1}).first().get("address").value();return o.createElement(l.I,{title:s||"No Email"},o.createElement(d.A.Token,{key:e.id,title:e.fullName,keyboardControls:r,removeToken:n,renderLeft:o.createElement(a.e,{source:e.photoThumbnailUrl,size:"xs"}),textDecoration:!s&&"line-through"}))}}),o.createElement(l.I,{height:38},o.createElement(c.A,{top:"1px",radiusTop:3,radiusBottom:0,value:b,placeholder:"Subject",onChange:function(t){var r=t.target.value;return e.setState({subject:r})}}),o.createElement(v.default,{width:"auto",content:S,subject:b,onKeyup:this.handleEditorChange,onChange:this.handleEditorChange})))),o.createElement(p.default.Footer,null,o.createElement(s.$,{size:"md",title:"Cancel",marginLeft:"auto",onClick:this.handleClose,variant:"naked"}),o.createElement(s.$,{size:"md",title:"Send",spinner:w,disabled:w||!this.isValid(),theme:"primary",variant:"fill",onClick:this.sendEmail})))},n}(o.Component);S.defaultProps={successMessageSize:i().size},t.default=S},68161:function(e,t,r){"use strict";r.d(t,{VR:function(){return a},_M:function(){return n},sp:function(){return i},ux:function(){return o}});var n=-1,i=0,o=0,a=0},68610:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(68147),o=r(99751),a=r(91444),s=r(32519),c=["modalProps","onClose","plan","planPeople"];function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(){f=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),s=new x(n||[]);return i(a,"_invoke",{value:T(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",m="executing",v="completed",y={};function g(){}function b(){}function S(){}var w={};u(w,a,function(){return this});var O=Object.getPrototypeOf,P=O&&O(O(k([])));P&&P!==r&&n.call(P,a)&&(w=P);var _=S.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):t.resolve(l).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,s)})}s(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t(function(t,i){r(e,n,t,i)})}return o=o?o.then(i,i):i()}})}function T(t,r,n){var i=p;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=I(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=m;var u=d(t,r,n);if("normal"===u.type){if(i=n.done?v:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=v,n.method="throw",n.arg=u.arg)}}}function I(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=d(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=S,i(_,"constructor",{value:S,configurable:!0}),i(S,"constructor",{value:b,configurable:!0}),b.displayName=u(S,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,u(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(j.prototype),u(j.prototype,s,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new j(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},E(_),u(_,c,"Generator"),u(_,a,function(){return this}),u(_,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function d(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){d(o,n,i,a,s,"next",e)}function s(e){d(o,n,i,a,s,"throw",e)}a(void 0)})}}var h={include:"people",filter:"not_archived,not_deleted",fields:{TeamLeader:[],Person:["id","first_name","last_name","photo_thumbnail_url"]}},m={fields:{PersonSearch:["id","first_name","last_name","photo_thumbnail_url"]}},v=function(e,t){return _.some(t)?Promise.all(_.map(t,function(t){var r=e.serviceTypeId,n=e.id;return(0,a.PT)({serviceTypeId:r,planId:n,id:t.id},m)})).then(function(e){return _.flatten(e)}):(0,o.GE)({id:Services.Flux.getStore("PersonCurrentStore").getAccountCenterId()},h).then(function(e){return _.flatMap(e,"person")})},y=function(){var e=p(f().mark(function e(t){var r,n,i,o;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.plan,n=t.planPeople,e.next=3,v(r,n);case 3:if(i=e.sent,o=_(i).uniqBy("id").sortBy("firstName").value(),!_.some(o)){e.next=9;break}return e.abrupt("return",{recipientOptions:o});case 9:return e.abrupt("return",Promise.reject(function(){return Swal.alertError.fire({titleText:"Sorry",text:"We were unable to find any leaders for your teams."})}));case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();t.default=function(e){var t=e.modalProps,r=e.onClose,o=e.plan,a=e.planPeople,l=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,c),d=u((0,n.useState)(!1),2),h=d[0],m=d[1],v=u((0,n.useState)({}),2),g=v[0],b=v[1],S=function(){m(!1),r()};return(0,n.useEffect)(function(){function e(){return(e=p(f().mark(function e(t){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=b,e.next=4,y({plan:o,planPeople:a});case 4:e.t1=e.sent,(0,e.t0)(e.t1),m(!0),t(),e.next=15;break;case 10:e.prev=10,e.t2=e.catch(0),t(),S(),_.isFunction(e.t2)?e.t2():console.error(e.t2);case 15:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}if(t.open){var r=new Services.Classes.Loader("One moment");r.show(),function(t){e.apply(this,arguments)}(r.hide)}},[t.open]),h?n.createElement(s.default,Object.assign({maxWidth:88,padding:0,marginBottom:7,marginHorizontal:0,marginTop:6,closeOnOutsideClick:!1,onRequestClose:S},t),n.createElement(i.default,Object.assign({title:"Email Team Leaders",selectPlaceholder:"Select team leaders",onClose:S},l,g))):null}},69171:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i),a=r(84743),s=r.n(a),c=o()({displayName:"LivePlanItemTime",render:function(){return n.createElement("div",{className:"LiveClock-time"},this.getFormattedTime())},getFormattedTime:function(){return s()(this.props.time).format(this.props.format)}});t.default=c},69195:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i)()({displayName:"LiveAppContainer",getDefaultProps:function(){return{onForceBackgroundColor:function(){}}},render:function(){return n.createElement("div",{className:"LiveAppContainer ".concat(this.props.className),onClick:this.handleClick,children:this.props.children})},handleClick:function(){this.props.onForceBackgroundColor("black")}});t.default=o},69416:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i)()({displayName:"LivePlanItemDescription",render:function(){return n.createElement("section",{className:"LivePlanItem-description",dangerouslySetInnerHTML:{__html:this.getFormattedDescription()}})},getFormattedDescription:function(){return this.props.description.replace(/\n/g,"<br />")}});t.default=o},69500:function(e,t,r){"use strict";r.d(t,{UI:function(){return d},ry:function(){return N},tN:function(){return re},uZ:function(){return Fe},VJ:function(){return Qe},BB:function(){return yt},IF:function(){return gt},xB:function(){return wt},q$:function(){return p},PQ:function(){return v},cT:function(){return S},PP:function(){return P},QA:function(){return j},ZU:function(){return L.A},qQ:function(){return D},RG:function(){return M},MT:function(){return R},PD:function(){return U},hI:function(){return W},mC:function(){return ne.A},Cd:function(){return oe},Y_:function(){return fe},fo:function(){return de},db:function(){return pe},SL:function(){return Pe},M0:function(){return ge},lz:function(){return _e},_D:function(){return je},Yu:function(){return Ae},wJ:function(){return xe},LL:function(){return at},F6:function(){return Me},WD:function(){return st.A},xq:function(){return We},yy:function(){return $e},uH:function(){return He},Wj:function(){return qe},PI:function(){return it},lY:function(){return et},vP:function(){return ot},Uh:function(){return lt},Xc:function(){return dt},d4:function(){return pt},Uj:function(){return ht},sF:function(){return Ce},kU:function(){return _t},Re:function(){return Et.A},Eo:function(){return jt},sZ:function(){return Tt},dk:function(){return ft.A},cR:function(){return It.A}});var n=r(96540),i=r(40961);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var c=function(e){var t,r;function c(){return e.apply(this,arguments)||this}r=e,(t=c).prototype=Object.create(r.prototype),t.prototype.constructor=t,s(t,r);var u=c.prototype;return u._handlePersonSelect=function(e,t){this.props.onPersonSelect(e,t)},u.componentDidMount=function(){var e=i.findDOMNode(this.refs.input);$(e).peopleSearchAutocomplete(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({select:this._handlePersonSelect.bind(this),newPerson:!1,remotePeople:!1},this.props.autocompleteOptions))},u.render=function(){return n.createElement("input",Object.assign({ref:"input",type:"text"},_.omit(this.props,"onPersonSelect","autocompleteOptions")))},c}(n.Component);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(){function e(){}return e.abortLastRequest=function(){this.lastRequest&&this.lastRequest.abort()},e.request=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,i){t.abortLastRequest(),t.lastRequest=$.ajax(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({type:"GET",success:n,xhrFields:{withCredentials:!0},error:function(e,t,r){"abort"!==t&&i({jqXhr:e,textStatus:t,errorThrown:r})}},r))})},e}(),d=f;function p(e,t){var r=Services.Constants.MINUTES_IN_DAY,n=Me(e);return(t=parseFloat(t))>0&&je(e)&&(t+=n-r),e.add(t,"minutes")}function h(){h=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),s=new x(n||[]);return i(a,"_invoke",{value:T(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",p="suspendedYield",m="executing",v="completed",y={};function g(){}function b(){}function S(){}var w={};u(w,a,function(){return this});var O=Object.getPrototypeOf,P=O&&O(O(k([])));P&&P!==r&&n.call(P,a)&&(w=P);var _=S.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function j(e,t){function r(i,o,a,s){var c=f(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):t.resolve(l).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,s)})}s(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t(function(t,i){r(e,n,t,i)})}return o=o?o.then(i,i):i()}})}function T(t,r,n){var i=d;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=I(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=m;var u=f(t,r,n);if("normal"===u.type){if(i=n.done?v:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=v,n.method="throw",n.arg=u.arg)}}}function I(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=S,i(_,"constructor",{value:S,configurable:!0}),i(S,"constructor",{value:b,configurable:!0}),b.displayName=u(S,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,u(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(j.prototype),u(j.prototype,s,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new j(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},E(_),u(_,c,"Generator"),u(_,a,function(){return this}),u(_,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function m(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function v(e,t){return y.apply(this,arguments)}function y(){var e;return e=h().mark(function e(t,r){var n;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=7;break}return e.next=4,r(t[n],n,t);case 4:n++,e.next=1;break;case 7:case"end":return e.stop()}},e)}),y=function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){m(o,n,i,a,s,"next",e)}function s(e){m(o,n,i,a,s,"throw",e)}a(void 0)})},y.apply(this,arguments)}var g=r(2543),b=r.n(g);function S(e){var t=e.type,r=e.url,n=e.data,i=e.xhrFields,o=e.onProgress;return new Promise(function(e,a){var s=new XMLHttpRequest;b().extend(s,i),s.open(t,r),s.onload=function(){if(/^20\d/.test(s.status))try{e(JSON.parse(s.response))}catch(t){a(s)}else a(s)},s.onerror=a,b().isFunction(o)&&(s.upload.onprogress=function(e){return o(e)}),s.send(n)})}r(34641);var w=r(84743),O=r.n(w),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hours:3};if(b().isUndefined(window.Proxy))return{};return new Proxy({},{get:function(e,t,r){if((n=e[t])&&n.timestamp>Date.now())return r[t]=e[t].value,e[t].value;var n;delete e[t]},set:function(t,r,n){return t[r]={value:n,timestamp:O().duration(e)+Date.now()}}})},E={},j=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=E[e]||P(r),i=n[e]||t();return E[e]=n,n[e]=i,i},T=r(33513);function I(){I=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new x(n||[]);return i(a,"_invoke",{value:j(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function y(){}function g(){}function b(){}var S={};u(S,a,function(){return this});var w=Object.getPrototypeOf,O=w&&w(w(k([])));O&&O!==r&&n.call(O,a)&&(S=O);var P=b.prototype=y.prototype=Object.create(S);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){function r(i,o,a,s){var c=f(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):t.resolve(l).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,s)})}s(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t(function(t,i){r(e,n,t,i)})}return o=o?o.then(i,i):i()}})}function j(t,r,n){var i=d;return function(o,a){if(i===h)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var u=f(t,r,n);if("normal"===u.type){if(i=n.done?m:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=m,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,i(P,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},_(E.prototype),u(E.prototype,s,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},_(P),u(P,c,"Generator"),u(P,a,function(){return this}),u(P,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function C(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function A(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){C(o,n,i,a,s,"next",e)}function s(e){C(o,n,i,a,s,"throw",e)}a(void 0)})}}var x=T.Kj.chat,k=function(){function e(){}return e.navigate=function(e){window.location.hash="toolbar=chat/".concat(e)},e.new=function(t){var r=t.plan,n=t.teams;e.navigate("blankstate");var i=r?"/plans/".concat(r.id):"",o=b().map(n,"id");i+="/teams/".concat(o.join(",")),e.navigate("new/services".concat(i))},e.where=function(){var e=A(I().mark(function e(t){var r,n,i,o;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.plan,n=void 0===r?{}:r,i=t.team,e.next=3,(0,T.Jt)({url:"/chat",data:{fields:{Chat:"group_identifiers"},plan_id:n.id,team_id:i.id}}).then(function(e){return e.groupIdentifiers.join(",")});case 3:return o=e.sent,e.abrupt("return",x.get({url:"me/conversations",data:{fields:{Conversation:"id"},filter:"with_exact_groups",gids:o}}).then(function(e){return e.data}).catch(function(){return[]}));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),e.create=function(){var e=A(I().mark(function e(t){var r,n,i,o,a;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.plan,n=void 0===r?{}:r,i=t.team,e.next=3,(0,T.Jt)({url:"/chat",data:{fields:{Chat:"payload"},plan_id:n.id,team_id:i.id}});case 3:return o=e.sent,a=o.payload,e.abrupt("return",x.post({url:"me/conversations",data:{data:{attributes:{payload:a}}}}).then(function(e){return e.data}));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),e.whereOrCreate=function(){var t=A(I().mark(function t(r){var n,i,o,a;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.plan,i=void 0===n?{}:n,o=r.team,t.next=3,e.where({plan:i,team:o});case 3:if(a=t.sent,!b().isEmpty(a)){t.next=8;break}return t.next=7,e.create({plan:i,team:o}).then(function(e){return[e]});case 7:a=t.sent;case 8:return t.abrupt("return",a);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.whereOrCreateAndOpen=function(){var t=A(I().mark(function t(r){var n,i,o,a;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.plan,i=void 0===n?{}:n,o=r.team,e.navigate("blankstate"),t.next=4,e.whereOrCreate({plan:i,team:o}).then(function(e){return b().map(e,"id")});case 4:a=t.sent,e.navigate("conversations/".concat(a.join(",")));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e}(),N=k,L=r(11609),F=function(e){return b().isObject(e)||b().isString(e)?b().isEmpty(e):b().isNil(e)},D=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F,n=b().mapValues(t,function(t){return b().isPlainObject(t)?e(t,r):t});return b().omitBy(n,r)},M=function(e,t,r){if(e){var n=e.constructor!==Blob?new Blob([e],{type:r||"application/octet-stream"}):e;if(navigator.msSaveBlob)navigator.msSaveBlob(n,t);else{var i,o=document.createElement("a"),a=window.URL;r&&(o.type=r),o.download=t||"untitled",o.href=i=a.createObjectURL(n),o.dispatchEvent(new MouseEvent("click")),setTimeout(a.revokeObjectURL.bind(a,i))}}},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"One moment please",r=(0,g.isArray)(e)?e.join(","):e;new Services.Classes.InterfacesModal("/emailer/modal",{data:{acids:r},type:"post",loading:t})},U=(0,r(96720).A)();function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach(function(t){V(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function V(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var W=function(e){return fetch(e,G(G({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),{},{headers:{Accept:"text/vnd.turbo-stream.html"}})).then(function(e){return e.text()}).then(Turbo.renderStreamMessage)};function z(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y(n.key),n)}}function J(e,t,r){return t&&H(e.prototype,t),r&&H(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var K=function(){function e(){}return e.rehydrate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b().each(this.transform(e),b().partial(this.add,b(),b(),t))},e.add=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Services.Flux.getActions("FilterBox.".concat(b().titleize(t),"Actions")).updateFilters.defer({filters:e,options:r})},e.transform=function(e){var t=this,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e).not,n=void 0===r?{}:r;return b().mapValues(this.types,function(r,i){var o=t.transformers(i).transform;switch(i){case"tags":case"tagGroups":case"teams":case"positions":case"teamPositions":return b()(r).map(function(t){var r=o(e[t],t),i=o(n[t],t,function(e){return b().isString(e)?"-".concat(e):-e});return[].concat(z(r),z(i))}).flatten().value();case"permissions":return b()(e).pick(r).map(function(e,t){return o(e)}).value();default:return b()(e).pick(r).map(function(e,r){return n={},a=t.typeMap(r,i),s=o(e),(a=Y(a))in n?Object.defineProperty(n,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[a]=s,n;var n,a,s}).value()}})},e.typeMap=function(e,t){switch(t){case"text":case"backgroundCheck":case"teamLeader":case"rehearsalTeam":return t;default:return e}},e.transformers=function(e){switch(e){case"tags":case"tagGroups":case"teams":return Z;case"positions":case"teamPositions":return Q;case"dates":return X;case"permissions":return ee;case"backgroundCheck":case"teamLeader":case"rehearsalTeam":return te;default:return{transform:function(e){return e}}}},J(e,null,[{key:"types",get:function(){return{text:["q"],tags:["tag_id"],tagGroups:["tag_group_id"],teams:["team_id"],positions:["position_id","position_leader_id"],teamPositions:["team_position_id","team_position_leader_id"],dates:["updated_at","created_at","blockouts_updated_at","logged_in_at","last_scheduled_at"],permissions:["service_type_permissions"],backgroundCheck:["passed_background_check"],teamLeader:["team_leader"],rehearsalTeam:["rehearsal_team"]}}}]),e}(),Z=function(){function e(){}return e.transform=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b().identity;return b().map(e,function(e){return e.split(",").map(b().flowRight(r,Number))})},e}(),Q=function(){function e(){}return e.transform=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b().identity;switch(t){case"position_leader_id":case"team_position_leader_id":return b().map(e,function(e){return e.split(",").map(function(e){return r("leader-".concat(e))})});default:return b().map(e,function(e){return e.split(",").map(function(e){return r(Number(e))})})}},e}(),X=function(){function e(){}return e.transform=function(t){var r=b().reduce(t,function(t,r){return e._transform(r)},{});return r.serviceTypeId=b().first(Object.keys(t)),r},e._transform=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=r.gte,i=r.lte;if(b().isObject(t)){var o=b().keys(t).sort(),a=e.ranges[o];return"before-date"===a?{starts:i,ends:n,interval:a}:{starts:n,ends:i,interval:a}}return O()(t).isValid()?{interval:"select-date",starts:t}:{interval:t}},J(e,null,[{key:"ranges",get:function(){return{lte:"before-date",gte:"after-date","gte,lte":"between-dates","lte,null_values":"never-or-before"}}}]),e}(),ee=function(){function e(){}return e.transform=function(t){return b().mapValues(t,e._transform)},e._transform=function(e){return{comparator:b().isObject(e)&&b().keys(e).join()||"exactly",permission:+(b().values(e).join()||e)}},e}(),te=function(){function e(){}return e.transform=function(e){return+e},e}(),re=K,ne=r(93670),ie=r(88037),oe=function(e,t){var r=t.withDayOfWeek,n=Services.Flux.getStore("OrganizationCurrentStore").timeZone(),i=O()(e).tz(n),o=i.strftime((0,ie.A)({withMinutes:i.minutes(),withAMPM:!0}));return"".concat(r?"".concat(i.format("dddd").slice(0,3)," "):"").concat(o)},ae=r(18178);function se(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ce(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ce(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ue={confirmed:"\u2713",unconfirmed:"?",declined:"X"},le=function(e,t){var r=e.filter(function(e){return"avatar"!==e.id});return[r.map(function(e){var t=e.id,r=e.header;return ue[t]||t||r})].concat(se(t.map(function(e){return r.map(function(t){var r,n=t.cell,i=t.csvCell;if(_.isString(i))r=e[i];else if(_.isFunction(i))r=i(e);else if(_.isString(n))r=e[n];else{if(!_.isFunction(n))throw new Error("cannot translate in csv value");r=n(e)}return function(e){return _.isArray(e)?e.map(function(e){return ue[e]}).join(""):!0===e?ue.confirmed:e}(r)})})))},fe=function(e,t){return(0,ae.A)(le(e,t))},de=function(){return Swal.alertError.fire({titleText:"Uh oh!",text:"Something went wrong, please try again. If the error continues, please contact support."})},pe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return _(window.Services.Constants).at(t).thru(function(e){return 1===e.length?_.first(e):e}).value()},he=r(79929),me=r.n(he),ve=["win"],ye=["chrome"],ge=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onHover,t=void 0!==e&&e,r=me()(navigator.userAgent),n=r.browser,i=r.os,o=ve.includes(i.name),a=ye.includes(n.name),s=["scrollbar"];return t&&s.push("-on-hover"),o&&a&&s.push("--wide"),s.join("")},be=function(e,t,r,n,i,o){o[e]||(o[e]=[]),o[e].push({label:Se(t,i),value:we(r,n,t,i),data:Oe(t,i)})},Se=function(e,t){var r=e.long_name;return t||("Chord Chart +"===e.long_name&&(r+=" \u2192 Lyrics & Chords"),"Orchestration"===e.long_name&&(r+=" (All Parts)")),r},we=function(e,t,r,n){var i={arrangement_id:e.arrangement_id,ccli:e.ccli_number,extension:r.file_type,format:r.has_chordpro?"CHORDPRO_COMPLETE":r.type,label:r.long_name,product_id:r.sku,song_id:t,title:e.title,parts:b().map(r.parts,function(e){return{code:e.code,label:e.long_name,product_id:e.sku}})};return n&&(i.key=n.key_name),i},Oe=function(e,t){return"sheet_music"!==e.type?"MP3":e.has_chordpro&&b().isNil(t)?"TXT":b().toUpper(e.file_type)},Pe=function(e,t){var r={};return b().filter(e.purchased_products,"file_type").forEach(function(n){be("Arrangement Files",n,e,t,null,r),b()(n.keys).sortBy(function(t){return t.key_name!==e.default_key}).forEach(function(i){var o=i.key_name===e.default_key?"".concat(i.key_name," (Most Common)"):i.key_name;be(o,n,e,t,i,r)})}),b().map(r,function(e,t){return{label:t,optgroup:e}})},_e=(r(52592),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return null;var r=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,r)).toFixed(t)+" "+["B","KB","MB","GB","TB"][r]}),Ee=1440;function je(e){return Me(e)!==Ee}var Te=function(e){return e.replace(/(\_[a-z])/g,function(e){return e.toUpperCase().replace("_","")})},Ie=function(e){var t=new WeakMap;return function r(n){return function(e){return!(b().isObject(e)&&(b().isArray(e)||b().isFunction(e))||!b().isObject(e))}(n)?b().reduce(n,function(i,o,a){return t.has(n)||t.set(n,i),i[e(a)]=t.get(o)||r(o),i},{}):b().isArray(n)?b().map(n,r):n}},Ce=Te,Ae=Ie(Te),xe=Ie(function(e){return e<0?e:b().snakeCase(e)});function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach(function(t){Le(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Le(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fe=function(){function e(e){var t=e.key,r=e.defaults;this.key=t,this.defaults=r}var t=e.prototype;return t._get=function(){try{return JSON.parse(localStorage.getItem(this.key))||this.defaults}catch(e){return this.defaults}},t._set=function(e){try{localStorage.setItem(this.key,JSON.stringify(e))}catch(t){return this.defaults}},t._update=function(e){this._set(Ne(Ne({},this._get()),e))},e}(),De=r(6476);function Me(e){var t=e.clone().startOf("day");return t.clone().add(1,"days").diff(t)/De.S}function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach(function(t){Be(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Be(e,t,r){return(t=Ve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ve(n.key),n)}}function Ve(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var We=function(e){return function(){function t(){}var r,n,i;return t.unset=function(){$.cookie(e,JSON.stringify(b().omit(this.all,window.location.pathname)))},r=t,i=[{key:"all",get:function(){return JSON.parse($.cookie(e)||"{}")}},{key:"current",get:function(){return this.all[window.location.pathname]},set:function(t){$.cookie(e,JSON.stringify(Ue(Ue({},this.all),{},Be({},window.location.pathname,t))))}}],(n=null)&&Ge(r.prototype,n),i&&Ge(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}()};function ze(e,t){return ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ze(e,t)}var qe=function(e){return function(t){var r,i;function o(){return t.apply(this,arguments)||this}i=t,(r=o).prototype=Object.create(i.prototype),r.prototype.constructor=r,ze(r,i);var a=o.prototype;return a.handleClickPin=function(t){Services.Flux.getActions("FilterBox.".concat(e.filterType,"Actions")).pinFilter(t)},a.handleClickUnPin=function(t){Services.Flux.getActions("FilterBox.".concat(e.filterType,"Actions")).unPinFilter(t)},a.isPinned=function(t){return Services.Flux.getStore("People.FilterBox.Filters.".concat(e.filterType,"Store")).isPinned(t)},a.render=function(){return n.createElement(e,Object.assign({onPin:this.handleClickPin,onUnPin:this.handleClickUnPin,isPinned:this.isPinned},this.props))},o}(n.Component)},$e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,g.isUndefined)((0,g.get)(window,"pendo")))return console.warn("`window.pendo` is undefined");window.pendo.track(e,t)};function He(e){return(0,g.endsWith)(e,"s")?"".concat(e,"'"):"".concat(e,"'s")}var Je=r(42773),Ye=r(75825),Ke=r(38728);function Ze(e,t){return Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ze(e,t)}var Qe=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).state={focused:!1,inputValue:null},_.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r),"_handleFocus","_handleBlur","_handlePersonSelect","_handleClick"),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Ze(t,r);var o=n.prototype;return o._handleFocus=function(e){var t=e.target,r=e.target.value;t.value="",this.setState({focused:!0,inputValue:r})},o._handleBlur=function(e){""===e.target.value&&(e.target.value=this.state.inputValue),this.setState({focused:!1})},o._handlePersonSelect=function(e,t){this.props.onPersonSelect(e,t),(0,i.findDOMNode)(this._input).blur()},o._handleClick=function(){this.state.focused||(0,i.findDOMNode)(this._input).focus()},o.render=function(){var e=this,t=this.props.defaultValue,r=this.state.focused;return React.createElement("div",{className:"person-switcher"},React.createElement(c,{ref:function(t){return e._input=t},title:"Change Person",defaultValue:t||"",className:"person-switcher__input",onFocus:this._handleFocus,onBlur:this._handleBlur,onPersonSelect:this._handlePersonSelect,autocompleteOptions:this.props.autocompleteOptions||{}}),React.createElement(Xe,{toggle:r,onClick:this._handleClick}))},n}(n.Component),Xe=function(e){var t=e.onClick,r=e.toggle;return React.createElement(Je.Motion,{style:{scale:(0,Je.spring)(r?1:0)}},function(e){var n=e.scale;return React.createElement("button",{className:"person-switcher__btn",title:r?"Cancel":"Change Person",type:"button"},React.createElement(Ye.A,{className:"person-switcher__icon",color:(0,Ke.Sh)("--t-icon-color-secondary"),name:"services.swap",onClick:t,style:{transform:"scale(".concat(1-n,")"),WebkitTransform:"scale(".concat(1-n,")")}}),React.createElement(Ye.A,{className:"person-switcher__icon",color:(0,Ke.Sh)("--t-icon-color-secondary"),name:"general.x",size:"sm",style:{transform:"scale(".concat(n,")"),WebkitTransform:"scale(".concat(n,")")}}))})},et=function(e,t,r,n){var i=window.innerWidth,o=window.innerHeight,a=Math.round(i/2-n/2),s=0;o>r&&(s=Math.round(o/2-r/2));var c=window.open(t,e,"left=".concat(a,",top=").concat(s,",width=").concat(n,",height=").concat(r,",personalbar=0,toolbar=0,scrollbars=1,resizable=1"));c&&c.focus()},tt=r(65848),rt=r(86119),nt=function(){return React.createElement("svg",{viewBox:"0 0 16 16",height:"48",width:"48",fill:"#ffc851"},React.createElement("path",{d:rt.shield}))},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.titleText,r=e.text;return Swal.alert.fire({titleText:t||"Background Checks Needed",text:r||"Some people were not imported because they are missing a background check. Needed positions were created instead.",iconHtml:tt.renderToString(React.createElement(nt,null))})},ot=[r(11340).A.variants.condensed,{header:{backgroundColor:"white"},headerCell:{padding:"0 12px"},bodyCell:{padding:"8px 12px",whiteSpace:"initial"},bodySubRow:{color:"foregroundTertiary"},bodySubCell:{padding:"8px 12px"}}],at=r(993),st=r(1204);function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ut(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lt=function(e){var t=e.id,r=e.personAcid,n=e.blockoutId,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(e,o){var a=function e(){$(document).off("modal:hide",e),o()},s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach(function(t){ut(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({availability_id:t},i),c="/people/AC".concat(r,"/blockout_rules/").concat(n,"/edit");Services.Modal.load(c,s).then(function(t){t.on("ajax:success",e),t.on("blockout:destroyed",e),t.on("click","[data-modal-close]",o),$(document).on("modal:hide",a)}).fail(function(e){return 404===e.status?Swal.alertError.fire({titleText:"Uh oh!",text:"The blockout date that you attempted to edit was invalid and has been removed."}):de()})})},ft=r(36213);var dt=function(e){return new Promise(function(t,r){window.PermissionsEditorModal.afterClose=function(e){$("body").removeClass("capem--open"),e.saved?t(e.person):r()},window.PermissionsEditorModal.load(function(e){return"".concat((0,ft.A)("people"),"/permissions_editor/permissions/").concat(e,"?appname=Services")}(e)),$("body").addClass("capem--open")})};var pt=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).person,r=void 0===t?{}:t;return new Promise(function(t,n){PersonEditorModal.afterClose=function(e){$("body").removeClass("capem--open"),e.saved?t(e.person):n()},PersonEditorModal.load(function(e,t){var r=t.person,n="".concat((0,ft.A)("services"),"/cross_app/person_modal/").concat(e);return b().some(r)&&(n+="?person[first_name]=".concat(encodeURIComponent(r.first_name),"&person[last_name]=").concat(encodeURIComponent(r.last_name))),n}(e,{person:r})),$("body").addClass("capem--open")})},ht=function(e){"undefined"!==typeof Turbolinks?Turbolinks.visit(e):window.location.href=e};function mt(e,t){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mt(e,t)}var vt=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,mt(t,r),n.track=function(){$(document).on("turbolinks:before-render",n._track)},n.untrack=function(){$(document).off("turbolinks:before-render",n._track)},n._track=function(){window.pageYOffset>0&&(n.current=window.pageYOffset),n.untrack()},n.restore=function(){n.current&&(window.scrollTo(0,n.current),n.unset())},n}(We("ssp")),yt=vt,gt=me();function bt(e,t){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bt(e,t)}var St=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,bt(t,r),n}(We("sso")),wt=St;function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var _t=function(e){return function(t){return n.Children.toArray(t.map(function(t){if(n.isValidElement(t))return t;var r=Ot(b().isArray(t)?t:[t,t],2),i=r[0],o=r[1];return n.createElement(e,{key:i,value:i},o)}))}}(r(34738).A.Option),Et=r(61189);function jt(e,t){return b().xorWith(e,[t],b().isEqual)}r(51899);function Tt(e){var t=(new DOMParser).parseFromString(e,"text/html"),r=t.body,n=t.querySelector("title");n&&(document.title=n.textContent),document.dispatchEvent(new CustomEvent("turbolinks:before-visit")),document.dispatchEvent(new CustomEvent("turbolinks:visit")),document.dispatchEvent(new CustomEvent("turbolinks:before-cache")),document.dispatchEvent(new CustomEvent("turbolinks:before-render")),document.body=r,document.dispatchEvent(new CustomEvent("turbolinks:render")),document.dispatchEvent(new CustomEvent("turbolinks:load"))}r(1990);var It=r(25326)},70559:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i)()({displayName:"LiveIcon",getDefaultProps:function(){return{styles:{cursor:"pointer"}}},render:function(){return n.createElement("i",{className:this.getClassName(),onClick:this.props.onClick,style:this.props.styles})},getClassName:function(){return"icon-live icon-live-".concat(this.props.name)}});t.default=o},71357:function(e,t,r){"use strict";var n=r(33513),i=function(e){var t=e.personAcid,r=e.serviceTypeId;return"/people/".concat(t,"/service_type_permissions/").concat(r)};t.A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.Jt)({url:i(e),data:t})}},71765:function(e,t,r){"use strict";r.r(t),r.d(t,{COMPLETE:function(){return o},MIN_DELAY:function(){return a},actionPermitted:function(){return s},calculateProgress:function(){return d},delay:function(){return l},getActionProps:function(){return c},tick:function(){return f}});var n=r(69500);function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=100,a=150,s=function(e,t){if("preview"===e){var r=Services.Utils.browser.pdfPreviewsUnsupported;if((_.includes(["lyric","music","pdf"],t.filetype)||_.includes(["pdf"],t.extension))&&r)return!1}return("transpose"!==e||"AttachmentChart::Chord"!==t.type)&&t.actions[e].permitted},c=function(e){var t,r=e.filename,o=e.modal,a=e.url,s=e.filetype,c=e.cors,u=e.tracksLicenses,l=e.verb,f=e.download,d=e.extension,p=(0,n.db)("Attachment").PREVIEWABLE_FILE_TYPES,h="preview"===l&&_.includes(p,s),m=h||"open"!==l?null:"rehearsal_mix_v2"===d?d:"_blank";return"stream"===l||h?(i(t={target:m},"data-".concat(s,"-src"),a),i(t,"data-".concat(s,"-filename"),r),i(t,"data-".concat(s,"-tracks-licenses"),u),i(t,"data-".concat(s,"-download-src"),f.permitted?f.url:null),i(t,"data-cors",c),i(t,"data-turbolinks",!1),i(t,"href","#"),t):o?{target:m,"data-modal-url":a,"data-turbolinks":!1,href:"#"}:{target:m,href:a}},u=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},l=function(){return u(a,350)},f=function(e){return e+(o-e)/u(4,16)},d=function(e){return e.loaded/(1.3*e.total)*o}},72731:function(e,t,r){"use strict";r.r(t),r.d(t,{isVisibleSection:function(){return o},typeId:function(){return a}});var n=r(2543),i=r.n(n),o=function(e,t){return e.isVisible?e.isVisible(t):e.allowEmpty||i().some(t.isFiltering?e.matchedItems:e.items)},a=function(e){return i()(e).at(["type","id"]).compact().join(":")}},74186:function(e,t,r){"use strict";r.d(t,{o3:function(){return S},Nz:function(){return E},ZH:function(){return j.A},UK:function(){return U},B0:function(){return p},zr:function(){return h},Ig:function(){return J},wS:function(){return Te}});var n=r(2543),i=r.n(n),o=r(22342),a=r(38098);function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function l(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var d=function(){function e(){}var t=e.prototype;return t.preventSelect=function(e){throw new Error("implement me in base class")},t.remainingPositionsCount=function(e){throw new Error("implement me in base class")},t.renderTop=function(){throw new Error("implement me in base class")},l(e,[{key:"headingText",get:function(){throw new Error("implement me in base class")}},{key:"isFillingNeededPosition",get:function(){throw new Error("implement me in base class")}}]),e}(),p=function(e){function t(t){var r;return(r=e.call(this)||this).renderTop=function(e){return React.createElement(o.I,{axis:"horizontal",distribution:"center"},React.createElement(a.A,{level:3},r.remainingPositionsMessage(e)))},r.position=t,r}s(t,e);var r=t.prototype;return r.preventSelect=function(e){return!this.remainingPositionsCount(e)},r.remainingPositionsCount=function(e){return this.position.neededPositionQuantity-e.length},r.remainingPositionsMessage=function(e){var t=this.remainingPositionsCount(e);return t?"".concat(i().pluralize("person",t,!0)," still needed"):"All positions filled"},l(t,[{key:"headingText",get:function(){var e=this.position.team.shouldDisplayTime?this.position.team.formattedTime:null;return e?"".concat(this.position.name," ").concat(e):this.position.name}},{key:"isFillingNeededPosition",get:function(){return!0}}]),t}(d),h=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).renderTop=i().noop,t}s(t,e);var r=t.prototype;return r.preventSelect=function(e){return!1},r.remainingPositionsCount=function(e){return null},l(t,[{key:"headingText",get:function(){return"Add People"}},{key:"isFillingNeededPosition",get:function(){return!1}}]),t}(d),m=r(69500),v=r(26408),y=["attachableType","attachmentTypeIds","attachmentTypesSettings","displayName","extension","filename","filetype","index","interactions","pcoType","permissionsServiceTypeId"];function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function b(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var S=function(){function e(e){var t=this;this.actionPermitted=function(e){if("preview"===e.name){var r=Services.Utils.browser.pdfPreviewsUnsupported;if(t.pdfLike&&r)return!1}return"transpose"===e.name?"AttachmentChart::Chord"===t.pcoType||t.isTransposableAudio:e.permitted};var r=e.attachableType,n=e.attachmentTypeIds,i=e.attachmentTypesSettings,o=e.displayName,a=e.extension,s=e.filename,c=e.filetype,u=e.index,l=void 0===u?null:u,f=e.interactions,d=e.pcoType,p=e.permissionsServiceTypeId,h=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,y);this._displayName=o,this.attachableType=r,this.attachmentTypeIds=n,this.attachmentTypesSettings=i,this.extension=a,this.filename=s,this.filetype=c,this.index=l,this.interactions=f,this.pcoType=d,this.permissionsServiceTypeId=p,Object.assign(this,h)}var t,r,n,o=e.prototype;return o.primaryAction=function(){var e=this;return i()(this.interactions).clone().reverse().find(function(t){return e.actionPermitted(t)})},o.hasAttachmentType=function(){var e=this;return i().some(this.attachmentTypeIds,function(t){return i().includes(e.attachmentTypesSettings.ids,t)})},o.availableHoverActions=function(){return"AttachmentStage"===this.pcoType?this.permittedActions():i().reject(this.permittedActions(),{name:"delete"})},o.deleteAction=function(){return i().find(this.permittedActions(),{name:"delete"})},o.permittedActions=function(){return i().filter(this.interactions,this.actionPermitted)},o.urlForInteraction=function(e){var t=i().find(this.interactions,{name:e});return i().get(t,"permitted")?t.url:null},t=e,(r=[{key:"domId",get:function(){return"".concat(this.id,"-").concat(this.index)}},{key:"downloadUrl",get:function(){return this.urlForInteraction("download")}},{key:"displayName",get:function(){return"AttachmentRehearsalMixV2"===this.pcoType?i()(this._displayName).split(".").first():this._displayName||""}},{key:"isAudio",get:function(){return"audio"===this.filetype}},{key:"isForMe",get:function(){return!this.attachmentTypesSettings.isEnabled||i().isEmpty(this.attachmentTypeIds)||this.hasAttachmentType()}},{key:"isPreviewable",get:function(){var e=(0,m.db)("Attachment").PREVIEWABLE_FILE_TYPES;return i().includes(e,this.filetype)}},{key:"isTransposableAudio",get:function(){return this.isAudio&&i().some(this.interactions,{name:"transpose",permitted:!0})}},{key:"streamUrl",get:function(){return this.urlForInteraction("stream")}},{key:"tracksLicenses",get:function(){return!v.bA.includes(this.pcoType)}},{key:"remoteLinkAllowsCors",get:function(){return v.mb.includes(this.pcoType)}},{key:"usesEditHandler",get:function(){return!v.vX.includes(this.pcoType)}},{key:"pdfLike",get:function(){return i().includes(["lyric","music","pdf"],this.filetype)||i().includes(["pdf"],this.extension)}},{key:"isServiceTypeFile",get:function(){return v.sA.includes(this.attachableType)}}])&&g(t.prototype,r),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),w=r(84743),O=r.n(w);function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function _(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var E=function(){function e(e){this.contributor=e}var t,r,n;return t=e,(r=[{key:"action",get:function(){var e=i().get(this.contributor,"contributableAction");return"created"===e?"added":e}},{key:"avatar",get:function(){return i().get(this.contributor,"photoThumbnailUrl")}},{key:"date",get:function(){return O()(i().get(this.contributor,"updatedAt")).fromNow()}},{key:"id",get:function(){return i().get(this.contributor,"id")}},{key:"message",get:function(){return"".concat(this.action," ").concat(this.type)}},{key:"name",get:function(){return i().get(this.contributor,"fullName")}},{key:"type",get:function(){switch(i().get(this.contributor,"contributableType")){case"Attachment":return"a file";case"Stage":return"a stage layout";case"PlanBase":return"plan details";case"PlanItemBase":case"PlanItemTime":return"a plan item";case"PlanItemNote":return"a plan item note";case"PlanNote":return"a note";case"PlanPerson":return"a scheduled person";case"PlansPlanPersonCategory":return"signups for a team";case"PlanPosition":return"a needed position";case"MinistryTime":return"a time";default:return"an unknown item"}}}])&&P(t.prototype,r),n&&P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),j=r(78172),T=r(68414),I=r.n(T),C=r(33513),A=r(474);function x(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function N(){N=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:j(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function y(){}function g(){}function b(){}var S={};u(S,a,function(){return this});var w=Object.getPrototypeOf,O=w&&w(w(x([])));O&&O!==r&&n.call(O,a)&&(S=O);var P=b.prototype=y.prototype=Object.create(S);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){function r(i,o,a,s){var c=f(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):t.resolve(l).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,s)})}s(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t(function(t,i){r(e,n,t,i)})}return o=o?o.then(i,i):i()}})}function j(t,r,n){var i=d;return function(o,a){if(i===h)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var u=f(t,r,n);if("normal"===u.type){if(i=n.done?m:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=m,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,i(P,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},_(E.prototype),u(E.prototype,s,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},_(P),u(P,c,"Generator"),u(P,a,function(){return this}),u(P,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:x(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function L(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function F(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){L(o,n,i,a,s,"next",e)}function s(e){L(o,n,i,a,s,"throw",e)}a(void 0)})}}var D=function(){function e(){var e=this;this._onmessage=function(t){var r=t.event,n=t.data,o=t.channel;if(!i()(r).startsWith("jolt.")){var a=e._parseData(n),s=a.data,c=a.meta,u=a.socket_id,l=a.namespace;e.onmessage({channel:o,data:e._parseData(s),event:r,meta:c,namespace:l,socket_id:u})}},this.unsubscribe=function(t){return e.channelHandlers[t]=null,e._removeChannel(t),e.jolt.unsubscribe(t)},this.uuid=I().v4(),this.channelHandlers={},this.subscribedChannels=[]}var t=e.prototype;return t.connect=function(){var e=F(N().mark(function e(){var t,r,n;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchAuthTokenAndWssUrl();case 2:return t=e.sent,r=t.wssUrl,n=t.authToken,this.jolt=new A.A(r,{fetchAuthTokenFn:function(){var e=F(N().mark(function e(){return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{logToConsole:"development"===window.railsEnv&&!0===window.logJolt}),e.next=8,this.jolt.connection;case 8:return this.jolt.fetchAuthTokenFn=this._fetchAuthToken.bind(this),e.abrupt("return",this);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.disconnect=function(){this.jolt&&this.jolt.disconnect()},t.dispatch=function(e,t,r){this.channelHandlers[e]&&this.onmessage({channel:e,data:r,event:t,socket_id:null})},t.onmessage=function(e){e.channel,e.data,e.event;throw new Error("Please Implement Me")},t.subscribeAll=function(){var e=F(N().mark(function e(t){var r=this;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i().map(t,"channel").forEach(function(e){return r._addChannel(e)}),t.forEach(function(e){var t=e.channel,n=e.handlers;r.channelHandlers[t]=n;var i=r.jolt.subscribe(t,{fetchSubscribeTokenFn:r._fetchAndCacheSubscribeToken.bind(r)});i&&i.bind("",r._onmessage)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.subscribe=function(e,t){this._addChannel(e),this.channelHandlers[e]=t;var r=this.jolt.subscribe(e,{fetchSubscribeTokenFn:this._fetchSubscribeToken.bind(this)});r&&r.bind("",this._onmessage)},t.unsubscribeAll=function(){this.subscribedChannels.forEach(this.unsubscribe)},t.clearSubscriptions=function(){this.unsubscribeAll(),this._fetchedSubscribeTokenAt=null,this._fetchSubscribeTokenRequest=null},t._addChannel=function(e){this.subscribedChannels=i().uniq([e].concat(x(this.subscribedChannels)))},t._removeChannel=function(e){this.subscribedChannels=this.subscribedChannels.filter(function(t){return t!==e})},t._parseData=function(e){return"string"===typeof e?this._parseData(JSON.parse(e)):e},t._hasFreshSubscribeToken=function(){var e=O()().subtract(2,"minutes");return this._fetchedSubscribeTokenAt&&this._fetchedSubscribeTokenAt.isSameOrAfter(e)},t._fetchAuthTokenAndWssUrl=function(){var e=F(N().mark(function e(){var t,r,n;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.bE)({url:"/me/jolt_authorize",data:{data:{attributes:{}}}});case 2:return t=e.sent,r=t.id,n=t.wssUrl,this._fetchedSubscribeTokenAt=null,this._subscribeToken=null,this._fetchSubscribeTokenRequest=null,e.abrupt("return",{authToken:r,wssUrl:n});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t._fetchAuthToken=function(){var e=F(N().mark(function e(){var t,r;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchAuthTokenAndWssUrl();case 2:return t=e.sent,r=t.authToken,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t._fetchAndCacheSubscribeToken=function(e,t){return this._hasFreshSubscribeToken()?this._subscribeToken:(this._fetchSubscribeTokenRequest||(this._fetchSubscribeTokenRequest=this._fetchSubscribeToken()),this._fetchSubscribeTokenRequest)},t._fetchSubscribeToken=function(){var e=F(N().mark(function e(){var t,r,n;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={data:{attributes:{channels:this.subscribedChannels.join(","),cid:this.jolt.connectionId}}},e.next=3,(0,C.bE)({url:"/me/jolt_subscribe",data:t});case 3:return r=e.sent,n=r.id,this._fetchedSubscribeTokenAt=O().utc(),this._subscribeToken=n,this._fetchSubscribeTokenRequest=null,e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),e}();function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}var R=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).onmessage=function(e){var r=e.channel,n=e.data,o=e.event,a=e.meta,s=e.namespace,c=e.socket_id,u=t.channelHandlers[r];if(u)if(i().get(a,"routing_key")){var l=i().last(a.routing_key.split("."));n.attributes=i().merge({},n.attributes,i().get(a,"public.attributes",{})),"function"===typeof u[l]&&u[l](window.API.transformResponse({data:n}),n.links)}else{var f=c===t.uuid;if(f&&!u.allowOwnEvents)return;"function"===typeof u[o]&&u[o](n,{isOwnEvent:f,namespace:s})}},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,M(t,r),n}(D);window.JoltListener=R;var U=R,B=r(28362),G=r(10076),V=["file"];function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H(n.key),n)}}function H(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var J=function(){function e(e){var t=e.file,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,V);i().extend(this,(0,m.Yu)(r)),this.formData=new FormData,this.formData.append("file",t),this.id=I()(),this.isUploadable=!0,i().bindAll(this,"_process","_complete","_failure")}var t,r,n,o=e.prototype;return o.upload=function(e){var t=this._process,r=this._complete,n=this._failure;this._setCallbacks(e),this._upload().then(t).then(r).catch(n)},o._upload=function(){return(0,m.cT)({type:"POST",url:m.dk.uploadFile,data:this.formData,xhrFields:{withCredentials:!0},onProgress:this.onProgress})},o._process=function(t){var r=t.data,n=W(t.data,1)[0].id;return this.onUploaded(r),$.ajax({type:"POST",url:"/files/upload.json",data:{file:{id:n},item_id:this.attachableId,item_type:e.attachableTypes[this.attachableType]}})},o._complete=function(e){var t=this;return this.onProcessed(function(){return t.onComplete(t,e)})},o._failure=function(){var e="failedUpload-".concat(this.id),t={status:B.Wk,message:"Uploading of ".concat(this.filename," failed, please try again later.")};Services.Flux.getActions("StatusActions").setStatus({type:e,status:t}),Services.Flux.getActions("FileActions").destroy({file:this})},o.toComponent=function(){return G.UploadableFile},o._setCallbacks=function(e){i().extend(this,e)},o.onProgress=function(e){},o.onUploaded=function(e){},o.onProcessed=function(e){},o.onComplete=function(e,t){},t=e,n=[{key:"attachableTypes",get:function(){var e=Services.Constants.Upload.ALL_ATTACHABLE_ITEM_TYPES,t=i().keyBy(e,i().toLower);return Object.defineProperty(this,"attachableTypes",{value:t}),t}}],(r=null)&&q(t.prototype,r),n&&q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,K(e,t)}function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q(n.key),n)}}function Q(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var X=function(){function e(e){this.neededPosition=e}var t,r,n;return t=e,(r=[{key:"teamPositionName",get:function(){return i().get(this.neededPosition,"teamPositionName","")}},{key:"quantity",get:function(){return i().get(this.neededPosition,"quantity",0)}},{key:"id",get:function(){return i().get(this.neededPosition,"id",null)}}])&&Z(t.prototype,r),n&&Z(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ee=function(e){function t(){return e.apply(this,arguments)||this}return Y(t,e),t}(X),te=function(e){function t(t,r){var n;return(n=e.call(this,t)||this).serviceTime=r,n}return Y(t,e),t}(X);function re(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ne(e,t)}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ae(n.key),n)}}function oe(e,t,r){return t&&ie(e.prototype,t),r&&ie(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ae(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var se=function(){function e(e,t,r,n){this.position=e,this.team=t,this.neededPosition=r,this.teamMembers=n}return oe(e,[{key:"id",get:function(){return this.position.id}},{key:"name",get:function(){return this.position.name||null}},{key:"sequence",get:function(){return this.position.sequence}},{key:"hasNeededPositions",get:function(){return this.neededPosition}},{key:"neededPositionQuantity",get:function(){return i().get(this.neededPosition,"quantity",0)}},{key:"neededPositionId",get:function(){return i().get(this.neededPosition,"id",null)}},{key:"isTemporary",get:function(){return!i()(this.team.teamPositions).map("name").includes(this.name)}},{key:"canHaveNeededPositions",get:function(){return this.team.canHaveNeededPositions&&!this.isTemporary}},{key:"serviceTimeId",get:function(){return null}}]),e}(),ce=function(e){function t(){return e.apply(this,arguments)||this}return re(t,e),t}(se),ue=function(e){function t(t,r,n,i,o){var a;return(a=e.call(this,t,r,n,i)||this).serviceTime=o,a}return re(t,e),oe(t,[{key:"serviceTimeId",get:function(){return i().get(this.serviceTime,"id",null)}}]),t}(se);function le(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,fe(e,t)}function fe(e,t){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fe(e,t)}function de(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,he(n.key),n)}}function pe(e,t,r){return t&&de(e.prototype,t),r&&de(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function he(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var me=function(){function e(e,t){this.teamMember=e,this.team=t}return e.prototype.getStatus=function(){var e=this.teamMember.status;return"C"===e?"confirmed":"U"===e?"unconfirmed":"declined"},pe(e,[{key:"id",get:function(){return this.teamMember.id}},{key:"isDeclined",get:function(){return"declined"===this.status}},{key:"key",get:function(){return this.teamMember.id}},{key:"name",get:function(){return this.teamMember.name}},{key:"photoThumbnail",get:function(){return this.teamMember.photoThumbnail}},{key:"personId",get:function(){return this.teamMember.personId}},{key:"prepareNotification",get:function(){return this.teamMember.prepareNotification}},{key:"status",get:function(){return this.getStatus()}},{key:"teamPositionName",get:function(){return this.teamMember.teamPositionName}},{key:"serviceTimesIdsAttribute",get:function(){return"Plan"===this.team.plan.type?"serviceTimesIds":"timePreferenceOptionsIds"}}]),e}(),ve=function(e){function t(){return e.apply(this,arguments)||this}return le(t,e),pe(t,[{key:"shouldUpdateToUnschedule",get:function(){return!1}}]),t}(me),ye=function(e){function t(t,r,n){var i;return(i=e.call(this,t,r)||this).serviceTime=n,i}return le(t,e),pe(t,[{key:"status",get:function(){return"U"===this.teamMember.status?e.prototype.getStatus.call(this):this.serviceTimeId&&i().includes(this.teamMember.declinedPlanTimeIds,this.serviceTimeId)?"declined":e.prototype.getStatus.call(this)}},{key:"serviceTimeId",get:function(){return i().get(this.serviceTime,"id")}},{key:"shouldUpdateToUnschedule",get:function(){return i().some(this.otherScheduledServiceTimes)}},{key:"otherScheduledServiceTimes",get:function(){var e="Plan"===this.team.plan.type?"serviceTimeIds":"timePreferenceOptionIds";return i().without(this.teamMember[e],this.serviceTimeId)}}]),t}(me);function ge(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,be(e,t)}function be(e,t){return be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},be(e,t)}function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach(function(t){Oe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Oe(e,t,r){return(t=Ee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ee(n.key),n)}}function _e(e,t,r){return t&&Pe(e.prototype,t),r&&Pe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ee(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var je={confirmed:0,unconfirmed:1,declined:2},Te=function(e,t,r,n){var i=r.neededPositions,o=r.teamMembers;return"time"===e.scheduleTo?new Ae(e,t,i,o,n):new Ce(e,t,i,o)},Ie=function(){function e(e,t,r,n){var o=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.team=e,this.plan=t,this.neededPositions=i().map(r,function(e){return new o.constructor.NeededPositionClass(e,a)}),this.teamMembers=i()(n).map(function(e){return new o.constructor.TeamMemberClass(e,o,a)}).sortBy(function(e){var t=e.name,r=e.status;return[je[r],t]}).value()}return e.prototype.statusCounts=function(){return i().reduce(this.teamMembers,function(e,t){var r=t.status;return we(we({},e),{},Oe({},r,++e[r]))},{confirmed:0,unconfirmed:i().sumBy(this.neededPositions,"quantity"),declined:0})},_e(e,[{key:"assignedDirectly",get:function(){return this.team.assignedDirectly}},{key:"id",get:function(){return this.team.id}},{key:"name",get:function(){return this.team.name}},{key:"allPositions",get:function(){var e=this;return i()(this.positions).unionBy(i().map(this.team.teamPositions,function(t){return new e.constructor.PositionClass(t,e,new e.constructor.NeededPositionClass({teamId:e.team.id,teamPositionName:t.name},e.serviceTime),[],e.serviceTime)}),"name").orderBy(["sequence",function(e){return i().get(e,"name").toLowerCase()}]).value()}},{key:"lastPlanFrom",get:function(){return this.team.lastPlanFrom}},{key:"secureTeam",get:function(){return this.team.secureTeam}},{key:"positions",get:function(){var e=this,t=i().keyBy(this.neededPositions,"teamPositionName"),r=i().groupBy(this.teamMembers,"teamPositionName"),n=i().union(i().keys(r),i().keys(t)).map(function(n){var o=i().find(e.team.teamPositions,{name:n});return new e.constructor.PositionClass(o||{name:"null"===n?"No position":n,sequence:null},e,t[n],i().get(r,n,[]),e.serviceTime)});return i().orderBy(n,["sequence",function(e){return i().get(e,"name").toLowerCase()}])}},{key:"scheduleTo",get:function(){return this.team.scheduleTo}},{key:"sequence",get:function(){return this.team.sequence}},{key:"teamPositions",get:function(){return this.team.teamPositions}}]),e}(),Ce=function(e){function t(){return e.apply(this,arguments)||this}return ge(t,e),_e(t,[{key:"associatedServiceTimeIds",get:function(){}},{key:"shouldDisplayTime",get:function(){return!1}},{key:"canHaveNeededPositions",get:function(){return!0}}]),t}(Ie);Ce.NeededPositionClass=ee,Ce.TeamMemberClass=ve,Ce.PositionClass=ce;var Ae=function(e){function t(t,r,n,i,o){var a;return(a=e.call(this,t,r,n,i,o)||this).serviceTime=o,a}return ge(t,e),_e(t,[{key:"associatedServiceTimeIds",get:function(){return null===this.serviceTime?[]:[this.serviceTime.id]}},{key:"shouldDisplayTime",get:function(){return!0}},{key:"formattedTime",get:function(){return this.serviceTime?(0,m.Cd)(this.serviceTime.startsAt,{withDayOfWeek:this.plan.multiDay}):"Unassigned"}},{key:"canHaveNeededPositions",get:function(){return!!this.serviceTime}}]),t}(Ie);Ae.NeededPositionClass=te,Ae.TeamMemberClass=ye,Ae.PositionClass=ue},74916:function(e,t,r){"use strict";r.d(t,{B6:function(){return s},Yk:function(){return u.Yk},Jb:function(){return u.Jb},fe:function(){return a.fe},GX:function(){return n},qw:function(){return i},cw:function(){return o},IU:function(){return a.IU},kT:function(){return a.kT},pV:function(){return u.pV},lw:function(){return a.lw},iH:function(){return u.iH},Cq:function(){return a.Cq},jz:function(){return a.jz},dJ:function(){return a.dJ},xq:function(){return c},sN:function(){return u.sN},Fi:function(){return a.Fi}});var n=[{id:"created_at",name:"Created Profile"},{id:"updated_at",name:"Updated Profile"},{id:"blockouts_updated_at",name:"Last Set Blockouts"},{id:"logged_in_at",name:"Last Logged In"},{id:"last_scheduled_at",name:"Last Scheduled Plan"}],i=[{id:"past-day",name:"Past Day"},{id:"past-week",name:"Past Week"},{id:"past-month",name:"Past Month"},{id:"select-date",name:"Select Date"},{id:"after-date",name:"After"},{id:"before-date",name:"Before"},{id:"never-or-before",name:"Never or Before"},{id:"between-dates",name:"Between"}],o=["select-date","before-date","after-date","between-dates","never-or-before"],a=r(61613),s="",c="0",u=r(93359)},75908:function(e,t,r){"use strict";r.r(t);var n=r(15518),i=r(96540),o=r(52306),a=r.n(o)()({displayName:"LiveClock",render:function(){return i.createElement("div",{className:"LiveClock ".concat(this.props.isCurrentItemGoingLong(this.props.mode)?"LiveClock--warning":"")},i.createElement(n.default,{time:this.props.getCountdown(this.props.mode),isEditable:this.props.isEditable,onChange:this.props.onTimerChange}),i.createElement("div",{className:"LiveClock-message",onClick:this.props.timeFormatHandler},this.props.getCountdownEndNote()||"loading..."))}});t.default=a},76383:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var n=r(96540);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e){return function(t){var r=t.attachableType,o=t.id,a=function(){return Services.Flux.getStore("Files.FileStore")},s=i((0,n.useState)(function(){return a().getFiles({attachableType:r,attachableId:o})}),2),c=s[0],u=s[1];return(0,n.useEffect)(function(){var e=a(),t=function(){u(e.getFiles({attachableType:r,attachableId:o}))};return e.listen(t),function(){try{e.unlisten(t)}catch(r){}}},[r,o]),React.createElement(e,Object.assign({},t,{files:c}))}}},77580:function(e,t,r){"use strict";var n=r(69500);t.A=function(){return new Services.Classes.RequestWithCredentials({url:"/organization/people_permissions",type:"GET"}).then(n.Yu)}},77924:function(e,t,r){"use strict";r.r(t);var n=r(54379),i=r(15233),o=r(62008),a=r(96540),s=r(52306),c=r.n(s),u=r(84573),l=r(17360),f=r(84743),d=r.n(f),p=c()({displayName:"LivePlanListItemEditor",mixins:[i.A],render:function(){return a.createElement(n.P.article,{className:"LivePlanListItemEditor",initial:{left:"-100%"},animate:{left:0},exit:{left:"-100%"},transition:{stiffness:400,damping:40,type:"spring"}},a.createElement("button",{className:"LivePlanListItemEditor-close",onClick:this.handleClose,type:"button"},a.createElement("i",{className:"icon-live-x"})),a.createElement("h2",null,this.props.item.title),a.createElement("ul",null,this.scheduledDuration()?this.renderScheduledLength():null,this.actualDuration()?this.renderRecordedLength():null,this.props.pit&&this.props.pit.live_start?this.renderStartedAt():null),a.createElement("p",null,this.props.item.description),this.props.item.plan_item_notes&&this.props.item.plan_item_notes.length?this.renderNotesHeader():null,this.renderNotes())},handleClose:function(){this.props.onClose()},renderStartedAt:function(){var e=d()((0,u.A)(this.props.pit&&this.props.pit.live_start));return a.createElement("li",{className:"started-at"},"Recorded Start Time:"," ",e.format((0,l.A)({withSeconds:!0,withAMPM:!0})))},renderScheduledLength:function(){return a.createElement("li",{className:"length"},"Planned Length:"," ",this.scheduledDuration().format("m:ss",{trim:!1}))},renderRecordedLength:function(){return a.createElement("li",{className:"length"},"Recorded Length: ",this.actualDuration().format("m:ss",{trim:!1}))},renderNotes:function(){if(this.props.item.plan_item_notes)return this.props.item.plan_item_notes.map(function(e){return a.createElement(o.default,Object.assign({key:e.id},e))})},renderNotesHeader:function(){return a.createElement("h3",null,"Item Notes")}});t.default=p},78172:function(e,t,r){"use strict";r.d(t,{A:function(){return l}});var n=r(28362),i=r(10076),o=r(2543),a=r.n(o),s=r(69500);function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=function(){function e(e){a().extend(this,(0,s.Yu)(e))}var t=e.prototype;return t.adjustFilename=function(){var e=this,t=this._similar(),r=t.map(function(e){return e.filename});if(!a().includes(r,this.filename))return this.filename;return function t(n){var i=e._constructFilename(n);return a().includes(r,i)?t(n+1):e.filename=i}(this._nextCount(t))},t._container=function(){return Services.Flux.getStore("Files.FileStore").getFiles(this)},t._similar=function(){var e=this;return a().filter(this._container(),function(t){return t._nameNoNumber()===e._nameNoNumber()})},t._nextCount=function(e){var t=e.map(function(e){return e._copyNumber()}),r=this._copyNumber(),n=Math.max.apply(Math,c(t));return r===n?n+1:r+1},t._copyNumber=function(){var e=this.filename.match(n.zy);return e?parseInt(a().first(e).match(/\d+/),10):0},t._constructFilename=function(e){var t="copy ".concat(e);return this.extension?"".concat(this._nameNoNumberOrExtension()," ").concat(t,".").concat(this.extension):"".concat(this._nameNoNumber()," ").concat(t)},t._nameNoNumber=function(){return this.filename.replace(n.zy,"")},t._nameNoNumberOrExtension=function(){return this.filename.replace(n.Yp,"")},t.toComponent=function(){return i.DragDropFile},e}()},78548:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(2543),o=r.n(i),a=r(32485),s=r.n(a);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var d=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).state={value:t.value||""},o().bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r),"handleChange","handleKeyUp","handleBlur"),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,f(t,r);var i=n.prototype;return i.UNSAFE_componentWillReceiveProps=function(e){var t=e.value;""===t&&this.setState({value:t})},i.handleChange=function(e){var t=e.target.value;this.setState({value:t})},i.handleKeyUp=function(e){13===e.keyCode&&this.update()},i.handleBlur=function(){this.update()},i.update=function(){var e=this.props,t=e.onUpdate,r=e.updateOnBlank,n=o().clean(this.input.value);!r&&o().isBlank(n)||t(n)},i.render=function(){var e=this,t=this.state.value,r=this.props,n=r.style,i=r.className,o=r.placeholder,a=Tapestry.Input;return React.createElement(a.InputField,{innerRef:function(t){return e.input=t},type:"text",style:u(u({},n),{},{boxShadow:"none"}),className:s()(i,"py-4"),placeholder:o,value:t,onBlur:this.handleBlur,onChange:this.handleChange,onKeyUp:this.handleKeyUp})},n}(n.Component);d.defaultProps={placeholder:"Add text filter",updateOnBlank:!1},t.default=d},78598:function(e,t,r){"use strict";r.r(t),r.d(t,{Body:function(){return S},Footer:function(){return w},Header:function(){return O},Modal:function(){return P},Subtitle:function(){return _},Title:function(){return E}});var n=r(96540),i=r(26922),o=r(10086),a=r(30106),s=r(38098),c=r(13781),u=r(41814),l=r(22342),f=r(38728),d=r(84464),p=["children"],h=["children"],m=["children","onClose","onDataModalClose"],v=["children","keyboardShortcuts"],y=["children"],g=["children"];function b(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var S=function(e){var t=e.children,r=b(e,p);return n.createElement(i.a,Object.assign({padding:4},r),t)},w=function(e){var t=e.children,r=b(e,h);return n.createElement(n.Fragment,null,n.createElement(a.c,null),n.createElement(l.I,Object.assign({axis:"horizontal",distribution:"end",paddingHorizontal:4,paddingVertical:3,spacing:1},r),t))},O=function(e){var t=e.children,r=e.onClose,a=e.onDataModalClose,s=b(e,m);return n.createElement(l.I,Object.assign({alignment:"start",as:"header",axis:"horizontal",distribution:"space-between",id:"dialog-header",paddingHorizontal:4,paddingTop:3},s),n.createElement(i.a,null,t),r&&n.createElement(o.$,{icon:{color:(0,f.Sh)("--t-icon-color-dim"),name:"general.x",size:"sm"},marginRight:-1,marginTop:"2px",onClick:r,theme:!1,title:"Close modal"}),a&&n.createElement(o.$,{"data-modal-close":!0,icon:{name:"general.x",size:"md"},marginRight:-1,marginTop:"2px",theme:"neutral",title:"Close modal",variant:"ghost"}))},P=function(e){var t=e.children,r=e.keyboardShortcuts,i=b(e,v),o=c.K(r),a=o.bindKeyboardShortcuts,s=o.unbindKeyboardShortcuts;return(0,n.useEffect)(function(){if(r)return a(),s},[r,a,s]),n.createElement(d.ServicesThemeProviderPortal,null,n.createElement(u.A,Object.assign({role:"dialog","aria-labelledby":"dialog-header",radius:8,paddingBottom:0,marginHorizontal:0},i),t))},_=function(e){var t=e.children,r=b(e,y);return n.createElement(s.A,Object.assign({color:(0,f.Sh)("--t-text-color-secondary"),level:3,size:(0,f.Sh)("--t-font-size-md"),weight:(0,f.Sh)("--t-font-weight-medium")},r),t)},E=function(e){var t=e.children,r=b(e,g);return n.createElement(s.A,Object.assign({color:(0,f.Sh)("--t-text-color-headline"),fontSize:(0,f.Sh)("--t-font-size-2xl"),level:2,weight:(0,f.Sh)("--t-font-weight-medium")},r),t)}},80051:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var n=r(96540),i=r(12931);function o(e){var t=e.fileId,r=e.onClose;return n.createElement(i.default,{url:"/files/".concat(t,"/edit?api_destroy=1"),onClose:r})}},80381:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(63017),s=r(66842),c=r(88615),u=r(302),l=r(16697);function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var p=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).state={results:[],prevPage:null,nextPage:"",isLoading:!1,previewId:!1,hasErrors:!1,defaultSearch:localStorage.addFileSearchTerm||""},r.handleKeyUp=r.handleKeyUp.bind(f(r)),r.handlePrevious=r.handlePrevious.bind(f(r)),r.handleNext=r.handleNext.bind(f(r)),r.handleAddResult=r.handleAddResult.bind(f(r)),r.handlePreview=r.handlePreview.bind(f(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,d(t,r);var p=n.prototype;return p.componentDidMount=function(){this.search(this.state.defaultSearch)},p.search=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";""!==e&&(this.setState({isLoading:!0,hasErrors:!1}),$.ajax({type:"POST",url:"/files/youtube/search",data:{query:e,page:r,per_page:l.default},timeout:2e3,dataType:"json",error:function(e,r,n){t.setState({isLoading:!1,hasErrors:!0})},success:function(e){t.setState({isLoading:!1,hasErrors:!1,prevPage:e.prevPageToken,nextPage:e.nextPageToken,results:e.items.map(function(e){var t=e.id,r=e.snippet;return{id:t.videoId,author:r.channelTitle,author_uri:"https://www.youtube.com/channel/".concat(r.channelId),thumbnail:r.thumbnails.default.url.replace("http://","https://"),title:r.title}})})}}))},p.handleAddResult=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).markAsFailed,r=void 0===t?i().noop:t,n=i().find(this.state.results,function(t){return t.id===e});if(n){var o={item_id:this.props.itemId,item_type:this.props.itemType,attribs:n};setTimeout(function(){return Services.Modal.hide()},750),$.post("/files/youtube",o)}else Swal.alertError.fire({titleText:"Sorry!",text:"Something went wrong. Please try again and contact support if the issue persists."}),r()},p.handleKeyUp=function(e){var t=e.target.value;"Enter"===e.key&&""!==t&&this.search(t)},p.handleChange=function(e){var t=e.target.value;try{localStorage.addFileSearchTerm=t}catch(r){}},p.handlePrevious=function(){this.search(this._searchInput.value,this.state.prevPage)},p.handleNext=function(){this.search(this._searchInput.value,this.state.nextPage)},p.handlePreview=function(e){this.setState({previewId:e})},p.render=function(){var e=this,t=this.state,r=t.defaultSearch,n=t.isLoading,i=t.results,l=t.prevPage,f=t.previewId,d=t.hasErrors;return o.createElement("div",null,o.createElement("input",{ref:function(t){return e._searchInput=t},type:"search",placeholder:"Search YouTube",defaultValue:r,onKeyUp:this.handleKeyUp,onChange:this.handleChange}),f?o.createElement("div",{className:"file-results-preview"},o.createElement("iframe",{frameborder:"0",height:"350",id:"ytplayer",src:"https://www.youtube.com/embed/".concat(f),allowFullScreen:!0,type:"text/html",width:"517"}),o.createElement("footer",{className:"file-results-preview__footer"},o.createElement("a",{className:"btn btn-link btn-md",onClick:function(){return e.setState({previewId:!1})}},"Go Back"),o.createElement("a",{className:"btn btn-outline-interaction btn-md",onClick:function(){return e.handleAddResult(f)}},"Link To This Video"))):n?o.createElement(a.default,null):o.createElement("div",{className:"file-results-wrap"},d?o.createElement(u.default,null):o.createElement(s.default,{results:i,addResult:this.handleAddResult,showPreview:this.handlePreview})),!f&&!n&&i.length>0&&o.createElement(c.default,{resultsCount:i.length,prevPage:l,onPrevious:this.handlePrevious,onNext:this.handleNext}))},n}(o.Component);t.default=p},80526:function(e,t,r){"use strict";r.r(t),r.d(t,{FilesAccordionSection:function(){return S}});var n=r(2543),i=r.n(n),o=r(96540),a=r(89280),s=r(10086),c=r(30812),u=r(30402),l=r(5538),f=r(22342),d=r(62657),p=r(60289),h=r(21725);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var S=function(e){var t=e.idx,r=e.label,n=e.optgroup,m=e.renderOpen,b=e.selectedMedia,S=e.setSelectedMedia,w=g((0,o.useState)(m),2),O=w[0],P=w[1],_=i().values(b).filter(function(e){return e.key===n[0].value.key}),E=i()(_).sumBy(function(e){var t;return(null===(t=e.parts)||void 0===t?void 0:t.length)||1});return o.createElement(c.Z.Section,{borderColor:"separatorTertiary",borderTopWidth:0===t?0:1,minHeight:5,padding:0,subdued:!O},o.createElement(s.$,{distribution:"start",height:5,iconLeft:{css:{transform:O?"rotate(0)":"rotate(-90deg)"},name:"general.downCaret"},onClick:function(){return P(function(e){return!e})},padding:2,theme:!1,tooltip:O?"Collapse":"Expand"},r,E>0&&o.createElement(a.A,{color:"primary",marginLeft:"auto",pointerEvents:"none",radius:"pill",size:"sm",title:"".concat(E," selected")})),o.createElement(l.A,{lazy:!0,open:O},o.createElement(f.I,{padding:2,paddingTop:0,spacing:1},i()(n).sortBy("label").map(function(e){var t,r=e.data,n=e.label,s=e.value,c=null===(t=s.parts)||void 0===t?void 0:t.filter(function(e){return!h.EXCLUDED_PART_CODES.includes(e.code)});if(c.length>1)return o.createElement(d.PartsCollapse,{data:r,key:n,label:n,parts:c,selectedMedia:b,setSelectedMedia:S,value:s});var l=(0,p.getKey)(s);return o.createElement(f.I,{alignment:"center",axis:"horizontal",distribution:"space-between",key:n,paddingLeft:4.5},o.createElement(u.A,{checked:i()(b).has(l),label:n,onChange:function(){S(function(e){return i()(e).has(l)?i().omit(e,l):v(v({},e),{},y({},l,s))})}}),o.createElement(a.A,{size:"xs",title:r}))}).value())))}},80758:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i),a=r(90172),s=r.n(a),c=o()({displayName:"LiveToolbarTrigger",getClassSet:function(){return s()({LiveToolbarTrigger:!0})},render:function(){return this.props.enabled?n.createElement("div",{className:this.getClassSet(),onMouseEnter:this.props.onTrigger,onMouseLeave:this.props.onTriggerLeave}):n.createElement("script",null)}});t.default=c},82109:function(e,t,r){"use strict";r.r(t),r.d(t,{NoKeyboardShortcuts:function(){return a}});var n=r(2543),i=r.n(n),o=r(96540),a=function(e){return(0,o.useLayoutEffect)(function(){var e=window.Mousetrap;if(!i().isUndefined(e)){var t=e.prototype.stopCallback;return e.prototype.stopCallback=function(e,t,r){var n,o,a;return null===(n=window.mediaPlayer)||void 0===n||null===(o=n.state)||void 0===o||!o.isOpen||!i().includes(null===(a=window.mediaPlayer)||void 0===a?void 0:a.keyboardShortcuts,r)},function(){e.prototype.stopCallback=t}}},[]),(0,o.useLayoutEffect)(function(){var e=window.key;if(!i().isUndefined(e)&&i().isFunction(e.getScope)){var t=e.getScope();return e.setScope("noop"),function(){e.setScope(t)}}},[]),e.children};t.default=a},83179:function(e,t,r){"use strict";function n(e){var t=e.numMore,r=e.onClick;return React.createElement("div",{className:"arrangement-key-extras",onClick:r},React.createElement("span",{className:"arrangement-key-extras-count"},"+".concat(t)),React.createElement("span",{className:"arrangement-key-extras-title"},"more"))}r.r(t),r.d(t,{default:function(){return n}})},83409:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(89280),s=r(10086),c=r(87412),u=r(30106),l=r(28340),f=r(22342),d=r(88538),p=r(15738),h=r(63014),m=r.n(h),v=r(72731),y=r(42575),g=["filter","groupBy","isLoading","onChange","renderAllSelected","renderGroupCountTooltip","renderGroupTooltip","renderNoItems","renderNotPermitted","renderSearching","renderValue","sections","selectedItems","sortBy"],b=["section"];function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){O(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return j(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function T(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var I=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i().extend(this,t),this.id=i().map(e,"id").join(":"),this.item=e,this.length=e.length}return e.prototype.unwrap=function(){return this.item},e}(),C=function(e){var t=e.filter,r=e.groupBy,n=e.isLoading,h=e.onChange,S=e.renderAllSelected,O=e.renderGroupCountTooltip,E=e.renderGroupTooltip,j=e.renderNoItems,C=e.renderNotPermitted,A=e.renderSearching,x=e.renderValue,k=e.sections,N=e.selectedItems,L=e.sortBy,F=T(e,g),D=_((0,o.useState)(""),2),M=D[0],R=D[1],U=_((0,o.useState)(!1),2),B=U[0],G=U[1],V=i().some(M),W=function(e){var t=e.section,r=T(e,b);return function(e,n){return new I(e,w({name:t.renderValue?t.renderValue(e,n):x(e,n)},r))}},z=function(e){var t=function(e){return i()(e.matchedItems).partition("isDisabled").map(function(t){return i().groupBy(t,e.groupBy||r)}).thru(function(t){var r=_(t,2),n=r[0],o=r[1];return[].concat(P(B?i().map(n,W({isDisabled:!0,section:e})):[]),P(i().map(o,W({isDisabled:!1,section:e}))))}).sortBy(L).value()}(e);return i().isEmpty(t)?e.renderAllSelected||S:i()(t).map(function(t){return o.createElement(o.Fragment,{key:t.id},o.createElement(c.A.Item,{index:q++,value:{group:t,section:e},spacing:1,disabled:t.isDisabled},o.createElement(o.Fragment,null,o.createElement(p.A,{title:E(t)},o.createElement(d.E,{truncate:!0},o.createElement(l.A,{query:M,text:t.name}))),t.length>1&&o.createElement(p.A,{title:O(t.item)},o.createElement(a.A,{size:"xs",title:t.length})))))}).value()},q=0;return o.createElement(c.A.Popover,Object.assign({popoverProps:{shouldFlip:!0},openOnFocus:!0,value:M,onChange:function(e){return R(e.target.value)},onSelect:function(e){var t=e.group,r=e.section;if(!t.isDisabled){var n=t.unwrap();if(R(""),r.onChange)r.onChange(n);else{var o=i().unionBy(N,n,v.typeId);h(o,n)}}},isLoading:n},F),n?A:o.createElement(f.I,{spacing:o.createElement(u.c,null)},k.map(function(e){var r=e.isSelected?i().reject(e.items,e.isSelected):i().differenceBy(e.items,N,v.typeId);return w(w({},e),{},{matchedItems:m()(r,M,e.filter||t)})}).filter(function(e){return(0,v.isVisibleSection)(e,{isFiltering:V})}).map(function(e,t){return o.createElement(o.Fragment,{key:"".concat(e.title,"-").concat(t)},o.createElement(y.default,{section:e,selectedItems:N,onChange:function(e){return h(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e)},isFiltering:V}),function(e){return e.isPermitted?i().isEmpty(e.items)?i().get(e,"renderNoItems",j):z(e):i().get(e,"renderNotPermitted",C)}(e))})),i().some(k,{isPermitted:!0,items:[{isDisabled:!0}]})&&o.createElement(o.Fragment,null,o.createElement(u.c,{margin:.5}),o.createElement(s.$,{title:"".concat(B?"Hide":"Show"," ").concat(i()(k).flatMap("items").filter("isDisabled").value().length," restricted"),iconLeft:{name:B?"services.eye":"services.eyeOutline",marginRight:1},size:"sm",variant:"naked",marginHorizontal:.5,onClick:function(){return G(!B)}})))};C.defaultProps={groupBy:"id",sortBy:["name","isDisabled"],renderGroupCountTooltip:i().noop,renderGroupTooltip:i().noop,renderValue:function(e,t){return t}},t.default=C},83668:function(e,t,r){"use strict";r.r(t);var n=r(50486),i=r(18659),o=r(15233),a=r(70559),s=r(38450),c=r(91672),u=r(25269),l=r(96540),f=r(52306),d=r.n(f),p=r(90172),h=r.n(p),m=d()({displayName:"LiveWatchedService",mixins:[i.A,s.A,o.A,n.A],getDefaultProps:function(){return{classSet:{LiveWatchedService:!0}}},UNSAFE_componentWillMount:function(){return window.live.dispatcher.bind_all(this.dispatch)},componentWillUnmount:function(){return window.live.dispatcher.unbind_all(this.dispatch)},render:function(){return l.createElement("div",{className:h()(this.props.classSet)},l.createElement(u.default,{name:this.getFormattedServiceNameWithTime(),end:this.getCountdownEndNote(this.props.seconds),onClick:this.props.timeFormatHandler}),l.createElement(a.default,{name:"unwatch",onClick:this.handleUnwatch}),this.renderCurrent(),this.renderNext())},renderCurrent:function(){if(this.isStarted())return l.createElement(c.default,{name:this.state.current_item&&this.state.current_item.title,timer:this.getCountdown("item"),isOver:this.isCurrentItemGoingLong()})},renderNext:function(){return l.createElement(c.default,{name:this.state.next_item&&this.state.next_item.title||"End of Service",timer:"NEXT",isNextItem:!0})},handleUnwatch:function(){return this.props.onRemove(this.props.plan_id)}});t.default=m},83743:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var n=r(2543),i=r.n(n),o=r(10076),a=["isDraggingFile","isAndroid","setFileDrag"];function s(e){var t=e.isDraggingFile,r=e.isAndroid,n=e.setFileDrag,s=void 0===n?i().noop:n,c=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,a);return React.createElement(o.File,Object.assign({isAndroid:r},c),React.createElement(o.DraggableFileLink,Object.assign({},c,{isDraggingFile:t,setFileDrag:s})))}},84151:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(96540),i=r(77138),o=r(10086),a=r(38098),s=r(22342),c=r(38728),u=r(52764);function l(e){var t=e.buttonText,r=void 0===t?"Got it":t,l=e.children,f=e.headingText,d=void 0===f?"Tip":f,p=e.id;return n.createElement(u.default,{id:p},function(e){var t=e.handleDismiss;return n.createElement(i.F,{axis:"vertical",backgroundColor:(0,c.Sh)("--t-fill-color-neutral-080"),spacing:1,stroke:(0,c.Sh)("--t-border-color"),width:"100%"},n.createElement(s.I,{alignment:"center",axis:"horizontal",distribution:"space-between",spacing:1},n.createElement(a.A,{color:(0,c.Sh)("--t-text-color"),level:5,weight:600},d),n.createElement(o.$,{onClick:t,size:"xs",theme:"neutral",title:r,variant:"outline"})),n.createElement(s.I,{shrink:1},l))})}},84460:function(e,t,r){"use strict";r.r(t),r.d(t,{createPlanAttachment:function(){return n.A},fetchItemAttachmentCount:function(){return c},fetchItemAttachments:function(){return l},fetchPlanAttachments:function(){return v},openAttachment:function(){return y},openPlanAttachment:function(){return b},planAttachmentUrl:function(){return g},skipAttachment:function(){return S}});var n=r(89056),i=r(25617),o=r(2543),a=r.n(o),s=function(e){var t=e.serviceTypeId,r=e.planType,n=e.planId,o=e.id,s=a().pluralize(a().snakeCase(r));return"".concat((0,i.lA)(),"/service_types/").concat(t,"/").concat(s,"/").concat(n,"/items/").concat(o,"/attachments")},c=function(e){return new Services.Classes.RequestWithCredentials({url:s(e),data:{fields:{Attachment:["id"]},per_page:1}}).then(function(e){return e.meta.total_count})},u=r(33513),l=function(e){var t=e.serviceTypeId,r=e.planType,n=void 0===r?"plan":r,i=e.planId,o=e.id,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=a().pluralize(a().snakeCase(n));return(0,u.Jt)({url:"/service_types/".concat(t,"/").concat(c,"/").concat(i,"/items/").concat(o,"/attachments"),data:s})},f=r(69500);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){h(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e){return e.data.map(function(e){var t=e.id,r=e.attributes,n=e.relationships,i=_.tap({},function(e){e.attachmentTypeIds=n.attachment_types.data.map(function(e){return parseInt(e.id,10)})});return p(p({id:parseInt(t,10)},r),i)})},v=function(e,t){var r=e.serviceTypeId,n=e.planId;return(0,i.mY)("".concat((0,i.lA)(),"/service_types/").concat(r,"/plans/").concat(n,"/all_attachments"),t).then(function(e){return _.flatMap(e,_.compose(f.Yu,m))})};var y=function(e){var t=e.id;return(0,u.bE)({url:"/attachments/".concat(t,"/open")})};var g=function(e){var t=e.id,r=e.planId,n=e.serviceTypeId;return"".concat((0,i.y0)(),"/service_types/").concat(n,"/plans/").concat(r,"/all_attachments/").concat(t)};var b=function(e){var t=e.id,r=e.planId,n=e.serviceTypeId;return(0,u.bE)({url:"".concat(g({serviceTypeId:n,planId:r,id:t}),"/open")})},S=function(e,t){var r=e.serviceTypeId,n=e.planId,i=e.id,o=t.skip;return new Services.Classes.RequestWithCredentials({url:"".concat(g({serviceTypeId:r,planId:n,id:i}),"/skip"),type:"POST",data:JSON.stringify({data:{attributes:{skip:o}}})})}},84464:function(e,t,r){"use strict";r.r(t),r.d(t,{AddRemoveTags:function(){return n.default},ArchivableResource:function(){return i.default},AttachmentDragDropContainer:function(){return o.default},BadgeTag:function(){return a.default},BulkEdit:function(){return s.default},BulkUpdateStatus:function(){return c.default},ChartProCheckbox:function(){return l.default},ClearInput:function(){return u.default},ColumnPicker:function(){return f.default},DisablesReactDnDWhen:function(){return d.default},Dismissible:function(){return p.default},DismissibleTip:function(){return h.default},EmailTeamLeadersModal:function(){return m.default},FeatureFlipper:function(){return v.default},HelperShelfPane:function(){return y.default},HelperShelfTrigger:function(){return g.default},ImperativeModal:function(){return b.default},LegacyDialogModal:function(){return S.default},Modal:function(){return P.default},MonitorsModalPresence:function(){return w.default},NoKeyboardShortcuts:function(){return _.default},NoteEmailModal:function(){return E.default},RecurrencePreference:function(){return j.default},SearchInput:function(){return T.default},SectionalPopover:function(){return I.default},ServicesThemeProviderPortal:function(){return C.default},SidebarCalendarContainer:function(){return x.default},SkipLink:function(){return A.default},TableActions:function(){return k.default},TableHeader:function(){return N.default},Truncate:function(){return L.default},UnorderedList:function(){return F.default},ViewOnce:function(){return O.default},WatchesDragKeyPress:function(){return D.default}});var n=r(48766),i=r(85937),o=r(97149),a=r(39807),s=r(68010),c=r(53065),u=r(94953),l=r(16108),f=r(48958),d=r(32476),p=r(52764),h=r(84151),m=r(68610),v=r(64478),y=r(46118),g=r(24918),b=r(12931),S=r(10780),w=r(2393),O=r(31570),P=r(90065),_=r(82109),E=r(29135),j=r(10141),T=r(78548),I=r(83409),C=r(41086),A=r(65037),x=r(92127),k=r(58130),N=r(20601),L=r(35900),F=r(50256),D=r(96171)},84573:function(e,t){"use strict";t.A=function(e){if(e)return new Date(e.replace(/(\-|\+)[\d:]+$/,""))}},85441:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(10086),o=r(69500),a=["team"];t.default=function(e){var t=e.team,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,a);return Services.Flux.getStore("PersonCurrentStore").isUnderThirteen()?null:n.createElement(i.$,Object.assign({className:"hidden-from-print",icon:{name:"general.outlinedTextMessage"},onClick:function(){(0,o.yy)("chat started from team page"),o.ry.whereOrCreateAndOpen({team:t})},size:"sm",theme:"neutral",title:"chat",variant:"outline"},r))}},85937:function(e,t,r){"use strict";r.r(t);var n=r(16517),i=["archived","children"];var o={backgroundColor:"rgb(0, 0 , 0, .25)",color:"white",theme:null},a={ActionsDropdown:function(e){var t=e.archived,r=e.children,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,i);return React.createElement(n.A,Object.assign({mediaQueries:{md:{width:"unset"}},theme:"neutral",title:"Actions",width:"100%"},t&&o,a,{variant:"outline"}),r)}};t.default=a},86056:function(e,t,r){"use strict";r.r(t);var n=r(35416),i=r(22958),o=r(8533),a=r(96540),s=r(40961),c=r(52306),u=r.n(c),l=r(90172),f=r.n(l),d=u()({displayName:"LiveVideoControlFeedDropdown",mixins:[n.A],getInitialState:function(){return{expanded:!1,toolbarVisible:!1,video:{url:""}}},getClassSet:function(){return f()({LiveVideoControlFeedDropdown:!0,"is-expanded":this.isExpanded(),"is-available":this.hasVideoAvailable()})},getTriggerClass:function(){return["LiveVideoControlFeedDropdown__icon","icon-live-caret-down"].join(" ")},getInputValue:function(){return s.findDOMNode(this.refs.input.refs.input).value},hasVideoAvailable:function(){return this.props.available},isExpanded:function(){return this.state.expanded},render:function(){return a.createElement("div",{className:this.getClassSet()},a.createElement("span",{onClick:this.handleClick,className:this.getTriggerClass()}),this.isExpanded()?this.renderForm():"")},renderForm:function(){return a.createElement("form",{className:"LiveVideoControlFeedDropdown__form",onSubmit:this.handleSubmit},this.hasVideoAvailable()?a.createElement(i.default,{onVideoCleared:this.props.onVideoCleared,video:this.props.video}):a.createElement(o.default,{ref:"input"}))},handleClick:function(){this.setState({expanded:!this.isExpanded()})},handleSubmit:function(e){e.preventDefault(),this.getInputValue()&&(this.props.onNewEmbedCode(this.getInputValue()),this.handleBlur())},handleBlur:function(){this.setState({expanded:!1})},_isBlurable:function(){this.isExpanded()}});t.default=d},87288:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var n=r(75825),i=["verb","icon"];function o(e){var t=e.verb,r=e.icon,o=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,i);return React.createElement("a",Object.assign({className:"drop-menu__item","data-file-action":t,"data-turbolinks":"download"!==t,role:"menuitem"},o),React.createElement(n.A,{name:r,color:"white"}))}},87306:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(96540),i=r(61819),o=r(25581),a=["height","includePlaceholders","readonly","width","content","disableTabKey","onUnmount"];function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e){var t=e.height,r=void 0===t?263:t,c=e.includePlaceholders,u=void 0===c||c,l=e.readonly,f=void 0!==l&&l,d=e.width,p=e.content,h=e.disableTabKey,m=e.onUnmount,v=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,a),y=(0,n.useRef)(null),g=(0,o.useSetup)(h),b=s((0,n.useState)(!1),2),S=b[0],w=b[1],O=(0,n.useCallback)(function(e){if(e){var t,r,n=e.getDoc(),i=null===n||void 0===n?void 0:n.documentElement;if(n&&i){var o=(t=document.documentElement.getAttribute("data-color-mode"),r=window.matchMedia("(prefers-color-scheme: dark)").matches&&"system"===t,"dark"===t||r?"dark":"light");n.documentElement.setAttribute("data-color-mode",o),w(!0)}}else w(!1)},[]);(0,n.useLayoutEffect)(function(){var e=y.current;if(e&&p!==e.getContent())if(e.selection){var t=e.selection.getBookmark(2,!0);e.setContent(p),e.selection.moveToBookmark(t)}else e.setContent(p)},[p]),(0,n.useEffect)(function(){return function(){m&&m()}},[]),(0,n.useEffect)(function(){var e=y.current;if(e){var t=new MutationObserver(function(t){t.forEach(function(){return O(e)})});t.observe(document.documentElement,{attributeFilter:["data-color-mode"]});var r=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){"system"===document.documentElement.getAttribute("data-color-mode")&&O(e)};return r.addEventListener("change",n),function(){t.disconnect(),r.removeEventListener("change",n)}}},[S,O]);var P=u?i.toolbarWithPlaceholders:i.toolbarWithoutPlaceholders;return n.createElement("div",{style:{height:S?r:0,maxWidth:"100%",opacity:S?1:0,transitionBehavior:"allow-discrete",transitionDuration:"0.3s",transitionProperty:"height, opacity"}},n.createElement(ReactTinyMCE,Object.assign({config:{branding:!1,browser_spellcheck:!0,content_style:i.contentStyle,convert_urls:!1,height:r-i.toolbarHeight,init_instance_callback:function(e){y.current=e,O(y.current)},invalid_elements:"iframe",menubar:!1,paste_webkit_styles:"all",plugins:"textcolor autolink link hr paste code lists",readonly:f,setup:g,skin_url:"/assets/tinymce/v4.6.4-1",statusbar:!1,toolbar:!f&&P,width:d},content:p},v)))}},88037:function(e,t){"use strict";t.A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.withAMPM,r=e.withSeconds,n=e.withMinutes,i=void 0===n||n,o=Services.Flux.getStore("OrganizationCurrentStore").twentyFourHourTime();return(o?"H":"h")+(i||o?":mm":"")+(r?":ss":"")+(t&&!o?"a":"")}},88615:function(e,t,r){"use strict";r.r(t);var n=r(16697);t.default=function(e){var t=e.resultsCount,r=e.prevPage,i=e.onPrevious,o=e.onNext;return React.createElement("nav",{className:"pager"},React.createElement("button",{className:"btn btn-outline-default",onClick:i,disabled:!r},React.createElement("i",{className:"icon icon-arrow-left"})," Prev"),React.createElement("button",{className:"btn btn-outline-default",onClick:o,disabled:t!==n.default},"Next ",React.createElement("i",{className:"icon icon-arrow-right"})))}},88660:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(63017),s=r(66842),c=r(88615),u=r(302),l=r(16697);function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var p=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).state={defaultSearch:localStorage.addFileSearchTerm||"",isLoading:!1,hasErrors:!1,results:[],currentPage:1,previewId:!1},r.handleKeyUp=r.handleKeyUp.bind(f(r)),r.handlePrevious=r.handlePrevious.bind(f(r)),r.handleNext=r.handleNext.bind(f(r)),r.handleAddResult=r.handleAddResult.bind(f(r)),r.handlePreview=r.handlePreview.bind(f(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,d(t,r);var p=n.prototype;return p.componentDidMount=function(){this.search(this.state.defaultSearch)},p.largestImageLink=function(e){return i().maxBy(e,function(e){return e.width}).link},p.search=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;""!==e&&(this.setState({isLoading:!0,hasErrors:!1}),$.ajax({type:"POST",url:"/files/vimeo/search",data:{query:e,page:r,per_page:l.default},timeout:2e3,dataType:"json",error:function(e,r,n){t.setState({isLoading:!1,hasErrors:!0})},success:function(e,n,i){t.setState({isLoading:!1,hasErrors:!1,currentPage:r,results:e.data.map(function(e){return{id:e.uri.split("/").pop(),author:e.user.name,author_uri:e.user.link,thumbnail:e.pictures[0]?t.largestImageLink(e.pictures):null,title:e.name,urls:e.link}})})}}))},p.handleAddResult=function(e){var t={item_id:this.props.itemId,item_type:this.props.itemType,attribs:i().find(this.state.results,function(t){return t.id===e})};setTimeout(function(){return Services.Modal.hide()},750),$.post("/files/vimeo",t)},p.handleKeyUp=function(e){var t=e.target.value;"Enter"===e.key&&""!==t&&this.search(t)},p.handleChange=function(e){var t=e.target.value;try{localStorage.addFileSearchTerm=t}catch(r){}},p.handlePrevious=function(){this.search(this._searchInput.value,this.state.currentPage-1)},p.handleNext=function(){this.search(this._searchInput.value,this.state.currentPage+1)},p.handlePreview=function(e){this.setState({previewId:e})},p.render=function(){var e=this,t=this.state,r=t.defaultSearch,n=t.isLoading,i=t.results,l=t.currentPage,f=t.previewId,d=t.hasErrors;return o.createElement("div",null,o.createElement("input",{ref:function(t){return e._searchInput=t},type:"search",placeholder:"Search Vimeo",defaultValue:r,onKeyUp:this.handleKeyUp,onChange:this.handleChange}),f?o.createElement("div",{className:"file-results-preview"},o.createElement("iframe",{frameborder:"0",width:"517",height:"350",src:"https://player.vimeo.com/video/".concat(f,"?autoplay=1")}),o.createElement("footer",{className:"file-results-preview__footer"},o.createElement("a",{className:"btn btn-link btn-md",onClick:function(){return e.setState({previewId:!1})}},"Go Back"),o.createElement("a",{className:"btn btn-outline-interaction btn-md",onClick:function(){return e.handleAddResult(f)}},"Link To This Video"))):n?o.createElement(a.default,null):o.createElement("div",{className:"file-results-wrap"},d?o.createElement(u.default,null):o.createElement(s.default,{results:i,addResult:this.handleAddResult,showPreview:this.handlePreview})),!f&&!n&&i.length>0&&o.createElement(c.default,{resultsCount:i.length,prevPage:l>1,onPrevious:this.handlePrevious,onNext:this.handleNext}))},n}(o.Component);t.default=p},89056:function(e,t,r){"use strict";r.d(t,{A:function(){return i}});var n=r(33513);function i(e,t){var r=e.planId,i=e.serviceTypeId,o="/service_types/".concat(i,"/plans/").concat(r,"/attachments"),a={data:{type:"Attachment",attributes:t}};return(0,n.bE)({url:o,data:a})}},90065:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540);function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}t.default=function(e,t,r){return function(n){var s,c;function u(){return n.apply(this,arguments)||this}c=n,(s=u).prototype=Object.create(c.prototype),s.prototype.constructor=s,a(s,c);var l=u.prototype;return l.title=function(){var e=this.props.modal.headingText;return i().isFunction(e)?e():e},l.render=function(){return o.createElement("div",{className:this.props.modal.classes,style:this.props.modal.style},o.createElement("div",{className:"modal__header"},o.createElement("div",{className:"modal-title"},this.title())),r&&o.createElement("div",{className:"modal__body modal__subheader"},o.createElement(r,this.props.subheader)),o.createElement("div",{className:"modal__body"},o.createElement(e,this.props.body)),o.createElement("div",{className:"modal__footer"},t?o.createElement(t,this.props.footer):o.createElement("div",null,o.createElement("div",{className:"btn cancel","data-modal-close":{}},this.props.modal.cancelText),o.createElement("div",{className:"btn submit"},this.props.modal.submitText))))},u}(o.Component)}},91444:function(e,t,r){"use strict";r.d(t,{Tr:function(){return n},EY:function(){return Qe.A},ZH:function(){return l},Lr:function(){return y},U4:function(){return D.A},Rl:function(){return S},xI:function(){return j},s5:function(){return T},Kf:function(){return I},DC:function(){return C},wd:function(){return A},nm:function(){return x},_r:function(){return k},_Y:function(){return N},LD:function(){return R.A},Lj:function(){return M},GV:function(){return L.A},k9:function(){return F},pj:function(){return B},l6:function(){return V},K3:function(){return W},Ir:function(){return q},PT:function(){return H},$1:function(){return Y},ew:function(){return K},CU:function(){return Te},p:function(){return re},bK:function(){return ie},ID:function(){return se},oq:function(){return ce},sD:function(){return oe},iW:function(){return ue},M5:function(){return me},we:function(){return ve},am:function(){return be},af:function(){return ye},oE:function(){return ge},wH:function(){return Se.wH},gX:function(){return Oe},rv:function(){return Pe},r4:function(){return Ee},BQ:function(){return Ie},m_:function(){return Ce},eU:function(){return Ae},ed:function(){return Le},Ng:function(){return Be},zK:function(){return $e},a5:function(){return Ze},bw:function(){return vt},sl:function(){return et},RX:function(){return tt},Gp:function(){return rt},td:function(){return st},uQ:function(){return ct},jz:function(){return lt},lq:function(){return ft},Vb:function(){return dt},AE:function(){return pt},T5:function(){return ht},bF:function(){return mt}});var n=r(84460),i=r(25617),o=r(69500);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){return e.data.map(function(e){var t=e.attributes,r=e.relationships,n=e.type;return s(s({},t),{},{id:parseInt(r.planPerson.data.id,10),type:n,planId:parseInt(r.plan.data.id,10),addedServiceTimeIds:_.map(r.addedServiceTimes.data,function(e){var t=e.id;return parseInt(t,10)}),serviceTypeId:parseInt(r.serviceType.data.id,10),serviceTimeIds:_.map(r.serviceTimes.data,function(e){var t=e.id;return parseInt(t,10)})})})},l=function(e,t){var r,n=e.serviceTypeId,a=e.planId,s="".concat((0,i.lA)(),"/service_types/").concat(n,"/plans/").concat(a,"/autoschedule");return new Services.Classes.RequestWithCredentials({type:"POST",url:s,data:JSON.stringify((r=t,{data:{type:"Autoschedule",attributes:{},relationships:{team:{data:{id:r.teamId,type:"Team"}}}}}))}).then(o.Yu).then(u)},f=r(33513),d=["personId","teamId","teamPositionId","serviceTimeIds"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){var t=e.serviceTypeId,r=e.planType,n=e.planId,o=_.pluralize(_.snakeCase(r));return"".concat((0,i.lA)(),"/service_types/").concat(t,"/").concat(o,"/").concat(n,"/build_plan_person")},y=function(e,t,r){var n=t.personId,i=t.teamId,a=t.teamPositionId,s=t.serviceTimeIds,c=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,d),u=r?"?".concat((0,f.T4)(r)):"";return new Services.Classes.RequestWithCredentials({type:"POST",url:"".concat(v(e)).concat(u),data:JSON.stringify({data:{attributes:(0,o.wJ)(c),relationships:{person:{data:{type:"Person",id:n}},team:{data:{type:"Team",id:i}},team_position:{data:{type:"TeamPosition",id:a}},service_time:{data:_.map(s,function(e){return{type:"PlanTimes",id:e}})}}}})}).then(function(e){var t=(0,f.SA)(e),r=(0,o.Yu)(_.find(e.included,{type:"PlanPersonPermissions"}).attributes);return h(h({},t),{},{permissions:r})})},g=r(2543),b=r.n(g),S=function(e,t){var r,n,a,s,c,u={data:{type:"NeededPosition",attributes:t}};return new Services.Classes.RequestWithCredentials({type:"POST",url:(r=e,n=r.serviceTypeId,a=r.planType,s=r.planId,c=b().pluralize(b().snakeCase(a)),"".concat((0,i.lA)(),"/service_types/").concat(n,"/").concat(c,"/").concat(s,"/needed_positions")),data:JSON.stringify((0,o.wJ)(u))}).then(f.SA)},w=["itemLength"];function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=function(e){var t,r,n,a,s,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=c.itemLength,d=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(c,w);return new Services.Classes.RequestWithCredentials({type:"POST",url:"".concat((t=e,r=t.serviceTypeId,n=t.planType,a=t.planId,s=b().pluralize(b().snakeCase(n)),"".concat((0,i.lA)(),"/service_types/").concat(r,"/").concat(s,"/").concat(a,"/items")),"?").concat((0,f.T4)(u)),data:JSON.stringify({data:{attributes:P({length:l},(0,o.wJ)(d))}})}).then(f.SA)},T=function(e,t,r){var n=e.serviceTypeId,a=e.planId,s=e.planItemId,c=t.exclude,u=t.timeId;return new Services.Classes.RequestWithCredentials({type:"POST",url:"".concat((0,i.lA)(),"/service_types/").concat(n,"/plans/").concat(a,"/items/").concat(s,"/item_times?").concat((0,f.T4)(r)),data:JSON.stringify((0,o.wJ)({data:{attributes:{exclude:c},relationships:{plan:{data:{type:"Plan",id:a}},plan_time:{data:{type:"PlanTime",id:u}}}}}))}).then(f.SA)},I=function(e){var t=e.serviceTypeId,r=e.planId,n=e.planType,a=e.categoryId,s=e.note,c=e.teamIds,u={data:{type:"PlanNote",attributes:{content:s},relationships:{team:{data:b().map(c,function(e){return{type:"PlanPersonCategory",id:e}})},plan_note_category:{data:{type:"PlanNoteCategory",id:a}}}}},l=b().pluralize(b().snakeCase(n));return new Services.Classes.RequestWithCredentials({type:"POST",url:"".concat((0,i.lA)(),"/service_types/").concat(t,"/").concat(l,"/").concat(r,"/notes"),data:JSON.stringify((0,o.wJ)(u))})},C=function(e,t){var r=e.planId,n=e.planType,a=e.serviceTypeId,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=_.pluralize(_.snakeCase(n)),u=_.some(s)?"?".concat((0,f.T4)(s)):"";return new Services.Classes.RequestWithCredentials({url:"".concat((0,i.lA)(),"/service_types/").concat(a,"/").concat(c,"/").concat(r,"/team_members").concat(u),data:JSON.stringify({data:(0,o.wJ)(t)}),type:"POST"}).then(f.SA)},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r={data:{type:"Series",attributes:e,relationships:{plan:{data:b().map(t,function(e){return{type:"Plan",id:e}})}}}};return new Services.Classes.RequestWithCredentials({type:"POST",url:"".concat((0,i.lA)(),"/series"),data:JSON.stringify(r)}).then(f.SA)};function x(e,t){var r=e.teamId,n="/teams/".concat(r,"/team_positions"),i={data:{type:"TeamPosition",attributes:t}};return(0,f.bE)({url:n,data:i})}function k(e,t){var r=e.teamId,n=e.teamPositionId,i="/teams/".concat(r,"/team_positions/").concat(n,"/person_team_position_assignments"),o={data:{type:"PersonTeamPositionAssignment",attributes:t}};return(0,f.bE)({url:i,data:o})}var N=function(e,t){var r=e.serviceTypeId,n=e.planId,a=e.planType,s={data:{type:"TeamSignup",attributes:{signupsEnabled:t.signupsEnabled},relationships:{team:{data:{id:t.teamId,type:"Team"}}}}},c=b().pluralize(b().snakeCase(a));return new Services.Classes.RequestWithCredentials({type:"POST",url:"".concat((0,i.lA)(),"/service_types/").concat(r,"/").concat(c,"/").concat(n,"/team_signups"),data:JSON.stringify((0,o.wJ)(s))}).then(f.SA)},L=r(52),F=function(e){var t=e.serviceTypeId,r=e.planId,n=e.planType,o=e.teamSignupId,a=b().pluralize(b().snakeCase(n));return new Services.Classes.RequestWithCredentials({type:"DELETE",url:"".concat((0,i.lA)(),"/service_types/").concat(t,"/").concat(a,"/").concat(r,"/team_signups/").concat(o)})},D=r(94926),M=function(e){return new Services.Classes.RequestWithCredentials({type:"DELETE",url:(t=e,r=t.serviceTypeId,n=t.planType,o=t.planId,a=t.itemId,s=t.id,c=b().pluralize(b().snakeCase(n)),"".concat((0,i.lA)(),"/service_types/").concat(r,"/").concat(c,"/").concat(o,"/items/").concat(a,"/item_notes/").concat(s))});var t,r,n,o,a,s,c},R=r(5201),U=function(e){var t=e.serviceTypeId,r=e.planId;return"/service_types/".concat(t,"/plans/").concat(r,"/attachment_types")};function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.Jt)({url:U(e),data:t})}var G=function(e){var t=e.serviceTypeId,r=e.planType,n=e.planId;if("PlanTemplate"===r)throw new Error("attendance do not exist on plan templates");var i=b().pluralize(b().snakeCase(r));return"/service_types/".concat(t,"/").concat(i,"/").concat(n,"/attendances")};function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.Jt)({url:G(e),data:t})}var W=function(e){var t,r,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.Jt)({url:(t=e,r=t.ministryId,n=t.id,"/service_types/".concat(r,"/plans/").concat(n,"/concurrent_plans")),data:i})},z=function(e){var t=e.serviceTypeId,r=e.planId,n=e.id,i=e.planType,o=void 0===i?"plan":i,a=b().pluralize(b().snakeCase(o));return"/service_types/".concat(t,"/").concat(a,"/").concat(r,"/contributors/").concat(n)},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.Jt)({url:z(e),data:t})},$=function(e){var t=e.serviceTypeId,r=e.planId,n=e.id;return"/service_types/".concat(t,"/plans/").concat(r,"/my_schedules/").concat(n,"/respond_tos")},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.Jt)({url:$(e),data:t})},J=function(e){var t=e.serviceTypeId,r=e.planId,n=e.planType,i=e.id,o=b().pluralize(b().snakeCase(n));return"/service_types/".concat(t,"/").concat(o,"/").concat(r,"/needed_positions/").concat(i)},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.Jt)({url:J(e),data:t})},K=function(e){var t=e.serviceTypeId,r=e.planId,n=e.planType,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=b().pluralize(b().snakeCase(n)),s="/service_types/".concat(t,"/").concat(a,"/").concat(r,"/plan_person_conflicts");return(0,f.bE)({url:s,data:(0,o.wJ)(i)})},Z=["fields"];function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach(function(t){ee(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ee(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var te=function(e){return e.data.map(function(e){var t=e.id,r=e.attributes,n=e.relationships,i=e.type;return X({id:parseInt(t,10),personId:parseInt(_.get(n,"person.data.id"),10),type:i},r)})},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fields,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Z);return(0,i.mY)("".concat((0,i.lA)(),"/plan_emails"),X({per_page:100,fields:t},(0,o.wJ)(r))).then(function(e){return _.flatMap(e,_.compose(o.Yu,te))})},ne=function(e){var t=e.serviceTypeId,r=e.planId,n=e.id,i=e.planType,o=void 0===i?"plan":i,a=b().pluralize(b().snakeCase(o));return"/service_types/".concat(t,"/").concat(a,"/").concat(r,"/items/").concat(n)},ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.Jt)({url:ne(e),data:t})},oe=function(e){var t,r,n,i,o,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.Jt)({url:(t=e,r=t.serviceTypeId,n=t.planId,i=t.planType,o=void 0===i?"plan":i,a=b().pluralize(b().snakeCase(o)),"/service_types/".concat(r,"/").concat(a,"/").concat(n,"/items")),data:s})},ae=function(e){var t=e.serviceTypeId,r=e.planId,n=e.id,i=e.planType,o=void 0===i?"plan":i,a=b().pluralize(b().snakeCase(o));return"/service_types/".concat(t,"/").concat(a,"/").concat(r,"/items/").concat(n,"/ccli_reporting")},se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.Jt)({url:ae(e),data:t})},ce=function(e,t){var r=e.serviceTypeId,n=e.planId,i=e.planItemId,o=e.id;return(0,f.Jt)({url:"/service_types/".concat(r,"/plans/").concat(n,"/items/").concat(i,"/item_times/").concat(o),data:t})},ue=function(e){var t=e.serviceTypeId,r=e.planId,n=e.planType,i=e.planNoteId,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=_.pluralize(_.snakeCase(n));return(0,f.Jt)({url:"/service_types/".concat(t,"/").concat(a,"/").concat(r,"/notes/").concat(i),data:o})},le=["fields"];function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach(function(t){pe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var he=function(e){return e.data.map(function(e){var t=e.id,r=e.type,n=e.attributes,i=e.relationships;return de(de({id:parseInt(t,10),type:r},n),{},{teamIds:_.map(i.teams.data,function(e){var t=e.id;return parseInt(t)})})})},me=function(e){var t=e.serviceTypeId,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.fields,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(r,le);return(0,i.mY)("".concat((0,i.lA)(),"/service_types/").concat(t,"/plan_note_categories"),de({per_page:100,fields:n},(0,o.wJ)(a))).then(function(e){return _.flatMap(e,_.compose(o.Yu,he))})},ve=function(e){var t,r,n,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.Jt)({url:(t=e,r=t.serviceTypeId,n=t.id,i=t.type,o=_.pluralize(_.snakeCase(i)),"/service_types/".concat(r,"/").concat(o,"/").concat(n,"/plan_people_conflicts")),data:a})},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.Jt)({url:"".concat((0,i.lA)(),"/series"),data:e})},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.Jt)({url:"".concat((0,i.lA)(),"/series/").concat(e,"/plans"),data:t})},be=function(e){var t=e.serviceTypeId,r=e.planId,n=e.planType,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=b().pluralize(b().snakeCase(n));return(0,f.Jt)({url:"".concat((0,i.lA)(),"/service_types/").concat(t,"/").concat(a,"/").concat(r,"/scheduled_teams"),data:o})},Se=r(6e4),we=function(e){var t=e.serviceTypeId,r=e.planId,n=e.id,i=e.planType,o=void 0===i?"plan":i,a=b().pluralize(b().snakeCase(o));return"/service_types/".concat(t,"/").concat(a,"/").concat(r,"/team_members/").concat(n)},Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.Jt)({url:we(e),data:t})},Pe=function(e,t){var r=e.id,n=e.planType,i=void 0===n?"plan":n,o=e.serviceTypeId,a=b().pluralize(b().snakeCase(i));return(0,f.Jt)({url:"/service_types/".concat(o,"/").concat(a,"/").concat(r,"/team_members"),data:t})},_e=function(e){var t=e.planId,r=e.serviceTypeId;return"/service_types/".concat(r,"/plans/").concat(t,"/plan_times")},Ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.Jt)({url:_e(e),data:t})},je=function(e){var t=e.serviceTypeId,r=e.id;return"/service_types/".concat(t,"/not_deleted_teams/").concat(r)},Te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.Jt)({url:je(e),data:t})},Ie=function(e,t){var r=e.serviceTypeId,n=e.planType,o=e.planId,a=t.sequence,s=b().pluralize(b().snakeCase(n));return new Services.Classes.RequestWithCredentials({type:"POST",url:"".concat((0,i.lA)(),"/service_types/").concat(r,"/").concat(s,"/").concat(o,"/item_reorder"),data:JSON.stringify({data:{type:"PlanItemReorder",attributes:{sequence:a}}})})},Ce=function(e){var t=e.serviceTypeId,r=e.planType,n=e.planId,o=b().pluralize(b().snakeCase(r));return new Services.Classes.RequestWithCredentials({type:"POST",url:"".concat((0,i.lA)(),"/service_types/").concat(t,"/").concat(o,"/").concat(n,"/reset_live_times")})},Ae=function(e,t){var r=e.planId,n=e.planType,a=e.serviceTypeId,s=b().pluralize(b().snakeCase(n));return new Services.Classes.RequestWithCredentials({type:"POST",url:"".concat((0,i.lA)(),"/service_types/").concat(a,"/").concat(s,"/").concat(r,"/schedule_team_members"),data:JSON.stringify((0,o.wJ)(t))})};function xe(){xe=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:j(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function y(){}function g(){}function b(){}var S={};u(S,a,function(){return this});var w=Object.getPrototypeOf,O=w&&w(w(x([])));O&&O!==r&&n.call(O,a)&&(S=O);var P=b.prototype=y.prototype=Object.create(S);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){function r(i,o,a,s){var c=f(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):t.resolve(l).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,s)})}s(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t(function(t,i){r(e,n,t,i)})}return o=o?o.then(i,i):i()}})}function j(t,r,n){var i=d;return function(o,a){if(i===h)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var u=f(t,r,n);if("normal"===u.type){if(i=n.done?m:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=m,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,i(P,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},_(E.prototype),u(E.prototype,s,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},_(P),u(P,c,"Generator"),u(P,a,function(){return this}),u(P,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:x(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function ke(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}var Ne=function(){var e,t=(e=xe().mark(function e(t){var r,n;return xe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.serviceTypeId,n=t.planId,e.abrupt("return",(0,f.bE)({url:"/service_types/".concat(r,"/plans/").concat(n,"/send_gap_alerts"),data:{data:{attributes:{}}}}));case 2:case"end":return e.stop()}},e)}),function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){ke(o,n,i,a,s,"next",e)}function s(e){ke(o,n,i,a,s,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}(),Le=Ne;function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach(function(t){Me(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Me(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Re=function(e){var t=e.data,r=t.id,n=t.attributes,i=t.type;return De(De({},n),{},{id:parseInt(r,10),type:i})},Ue=function(e){var t=function(e,t){return _.isInteger(+t)},r=_.pickBy(e),n=_.pickBy(r,t);return{data:{type:"Songbook",attributes:_.omitBy(r,t),relationships:{attachment_types:{data:_.map(n,function(e,t){return{id:parseInt(t,10),type:"AttachmentType"}})}}}}},Be=function(e,t){var r=e.serviceTypeId,n=e.planId,a="".concat((0,i.lA)(),"/service_types/").concat(r,"/plans/").concat(n,"/songbook");return new Services.Classes.RequestWithCredentials({type:"POST",url:a,data:JSON.stringify(Ue(t))}).then(o.Yu).then(Re)};function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach(function(t){We(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function We(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ze=function(e){var t=e.data,r=t.id,n=t.attributes,i=t.type;return Ve(Ve({},n),{},{id:parseInt(r,10),type:i})},qe=function(e){return{data:{type:"SongbookStatus",attributes:{statusToken:e}}}},$e=function(e,t){var r=e.serviceTypeId,n=e.planId,a="".concat((0,i.lA)(),"/service_types/").concat(r,"/plans/").concat(n,"/songbook");return new Services.Classes.RequestWithCredentials({type:"POST",url:a,data:JSON.stringify((0,o.wJ)(qe(t)))}).then(o.Yu).then(ze)};function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach(function(t){Ye(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ye(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ke=function(e){var t=e.serviceTypeId,r=e.id;return"/service_types/".concat(t,"/plans/").concat(r,"/team_assigned_times")};function Ze(e,t){var r=t.teamId,n=t.serviceTimeIds,i=n?{serviceTimes:{data:n.map(function(e){return{id:e,type:"PlanTime"}})}}:{};return(0,f.bE)({url:Ke(e),data:(0,o.wJ)({data:{attributes:{},relationships:Je({team:{data:{id:r,type:"Team"}}},i)}})})}var Qe=r(2844),Xe=function(e){return{data:{type:"PlanUpdateFuturePlansRemindersDisabled",attributes:{remindersDisabled:e}}}},et=function(e,t){var r=e.serviceTypeId,n=e.planId,a="".concat((0,i.lA)(),"/service_types/").concat(r,"/plans/").concat(n,"/update_future_plans_reminders_disabled");return new Services.Classes.RequestWithCredentials({type:"POST",url:a,data:JSON.stringify((0,o.wJ)(Xe(t)))})},tt=function(e,t){var r,n,o,a,s,c,u,l=t.content;return new Services.Classes.RequestWithCredentials({type:"PATCH",url:(r=e,n=r.serviceTypeId,o=r.planType,a=r.planId,s=r.itemId,c=r.id,u=b().pluralize(b().snakeCase(o)),"".concat((0,i.lA)(),"/service_types/").concat(n,"/").concat(u,"/").concat(a,"/items/").concat(s,"/item_notes/").concat(c)),data:JSON.stringify({data:{attributes:{content:l}}})})},rt=function(e,t){var r,n,a,s,c,u,l={data:{type:"NeededPosition",attributes:t}};return new Services.Classes.RequestWithCredentials({type:"PATCH",url:(r=e,n=r.serviceTypeId,a=r.planType,s=r.planId,c=r.id,u=b().pluralize(b().snakeCase(a)),"".concat((0,i.lA)(),"/service_types/").concat(n,"/").concat(u,"/").concat(s,"/needed_positions/").concat(c)),data:JSON.stringify((0,o.wJ)(l))}).then(f.SA)},nt=["relationships"];function it(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ot(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var at=b().compose(JSON.stringify,o.wJ,function(e){var t=e.relationships;return{data:{attributes:function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,nt),relationships:t}}}),st=function(e,t){var r=e.serviceTypeId,n=e.planId,o=e.planType,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=b().pluralize(b().snakeCase(o));return new Services.Classes.RequestWithCredentials(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?it(Object(r),!0).forEach(function(t){ot(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({type:"PATCH",url:"".concat((0,i.lA)(),"/service_types/").concat(r,"/").concat(c,"/").concat(n,"?").concat((0,f.T4)(a)),data:at(t)},s)).then(f.SA)},ct=function(e,t){var r,n,a,s,c,u,l,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{fields:{Item:[]}};return new Services.Classes.RequestWithCredentials({type:"PATCH",url:"".concat((r=e,n=r.serviceTypeId,a=r.planId,s=r.id,c=r.planType,u=void 0===c?"plan":c,l=b().pluralize(b().snakeCase(u)),"".concat((0,i.lA)(),"/service_types/").concat(n,"/").concat(l,"/").concat(a,"/items/").concat(s)),"?").concat((0,f.T4)(d)),data:JSON.stringify({data:{attributes:b().tap({},function(e){b().merge(e,(0,o.wJ)(b().omit(t,"itemLength"))),b().has(t,"itemLength")&&(e.length=t.itemLength)})}})}).then(f.SA)},ut=function(e){var t=e.serviceTypeId,r=e.planId,n=e.id,o=e.planType,a=void 0===o?"plan":o,s=b().pluralize(b().snakeCase(a));return"".concat((0,i.lA)(),"/service_types/").concat(t,"/").concat(s,"/").concat(r,"/items/").concat(n,"/ccli_reporting")},lt=function(e,t){return new Services.Classes.RequestWithCredentials({type:"PATCH",url:ut(e),data:JSON.stringify({data:{attributes:t}})})},ft=function(e,t,r){var n=e.serviceTypeId,a=e.planId,s=e.planItemId,c=e.id,u=t.exclude;return new Services.Classes.RequestWithCredentials({type:"PATCH",url:"".concat((0,i.lA)(),"/service_types/").concat(n,"/plans/").concat(a,"/items/").concat(s,"/item_times/").concat(c,"?").concat((0,f.T4)(r)),data:JSON.stringify((0,o.wJ)({data:{attributes:{exclude:u}}}))}).then(f.SA)},dt=function(e){var t=e.serviceTypeId,r=e.planId,n=e.planType,a=e.planNoteId,s=e.categoryId,c=e.note,u=e.teamIds,l={data:{type:"PlanNote",attributes:{content:c},relationships:{plan_note_category:{data:{type:"PlanNoteCategory",id:s}}}}};u&&(l.data.relationships.team={data:b().map(u,function(e){return{type:"PlanPersonCategory",id:e}})});var f=b().pluralize(b().snakeCase(n));return new Services.Classes.RequestWithCredentials({type:"PATCH",url:"".concat((0,i.lA)(),"/service_types/").concat(t,"/").concat(f,"/").concat(r,"/notes/").concat(a),data:JSON.stringify((0,o.wJ)(l))})},pt=function(e){var t=e.id,r=e.planId,n=e.planType,a=e.serviceTypeId,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=b().pluralize(b().snakeCase(n));return new Services.Classes.RequestWithCredentials({type:"PATCH",url:"".concat((0,i.lA)(),"/service_types/").concat(a,"/").concat(c,"/").concat(r,"/team_members/").concat(t),data:JSON.stringify((0,o.wJ)(s))})},ht=function(e){var t={data:{type:"Series",attributes:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}};return new Services.Classes.RequestWithCredentials({type:"PATCH",url:"".concat((0,i.lA)(),"/series/").concat(e),data:JSON.stringify((0,o.wJ)(t))})},mt=function(e,t){var r=e.serviceTypeId,n=e.planId,a=e.planType,s=e.teamSignupId,c={data:{type:"TeamSignup",attributes:t}},u=b().pluralize(b().snakeCase(a));return new Services.Classes.RequestWithCredentials({type:"PATCH",url:"".concat((0,i.lA)(),"/service_types/").concat(r,"/").concat(u,"/").concat(n,"/team_signups/").concat(s),data:JSON.stringify((0,o.wJ)(c))}).then(f.SA)},vt=function(e,t){var r=e.serviceTypeId,n=e.planType,a=e.planId,s={data:{type:"UnscheduleTeamsAction",attributes:{},relationships:{team:{data:t.map(function(e){return{type:"Team",id:e}})}}}},c=b().pluralize(b().snakeCase(n));return new Services.Classes.RequestWithCredentials({type:"POST",url:"".concat((0,i.lA)(),"/service_types/").concat(r,"/").concat(c,"/").concat(a,"/unschedule_teams"),data:JSON.stringify((0,o.wJ)(s))})}},91672:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(52306),o=r.n(i),a=r(90172),s=r.n(a),c=o()({displayName:"LiveWatchedServicePlanItem",render:function(){return n.createElement("div",{className:this.getClassSet()},n.createElement("span",{className:"LiveWatchedServicePlanItem--badge"},this.props.timer),n.createElement("span",{className:"LiveWatchedServicePlanItem--name"},this.props.name))},getClassSet:function(){return s()({LiveWatchedServicePlanItem:!0,"LiveWatchedServicePlanItem--warning":this.props.isOver,"LiveWatchedServicePlanItem--next":this.props.isNextItem})}});t.default=c},92127:function(e,t,r){"use strict";r.r(t);var n=r(22342);t.default=function(e){var t=e.children;return React.createElement(n.I,{basis:0,height:"100vh",mediaQueries:{md:{basis:39}},overflow:"hidden",position:"sticky",top:0},t)}},93359:function(e,t,r){"use strict";r.d(t,{Jb:function(){return i},Yk:function(){return o},iH:function(){return s},pV:function(){return a},sN:function(){return n}});var n="0",i="archived",o="All Teams",a="",s="0"},93670:function(e,t,r){"use strict";var n=r(2543),i=r.n(n),o=r(84743),a=r.n(o);t.A=function(e){var t=e.date,r=e.nullDateMessage,n=void 0===r?"":r,o=e.wallClock,s=void 0!==o&&o;if(i().isNull(t))return n;var c=Services.Flux.getStore("OrganizationCurrentStore").getState().state,u="EU"===c.dateFormat?"D MMM YYYY":"MMM D, YYYY";return u+=" ",u+=c.twentyFourHourTime?"H:mm":"h:mm A",(s?a().utc(t):a()(t)).format(u)}},93671:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(2543),o=r.n(i),a=r(3140),s=r(10076),c=["files","filesModalPath","limit","offset","showPlaceholder"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.default=(0,s.Attachable)(function(e){var t=e.files,r=e.filesModalPath,i=e.limit,u=void 0===i?10:i,f=e.offset,p=void 0===f?-13:f,h=e.showPlaceholder,m=void 0===h||h,v=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,c),y=d((0,n.useState)(!1),2),g=y[0],b=y[1];(0,n.useEffect)(function(){var e=o().some(t,function(e){return e.isUploadable});e&&!g&&b(!0)},[t,g]);var S=o().find(t,{extension:"rehearsal_mix_v2"}),w=o().indexOf(t,S);return React.createElement("div",{className:"full-width"},m&&t.length<=0?React.createElement(s.EmptyState,{filesModalPath:r}):React.createElement("div",{className:"files-list"},o()(t).take(g?t.length:u).map(function(e,t){return(0,n.createElement)(e.toComponent(),l(l({},v),{},{key:"".concat(e.filename,"-").concat(e.id),file:e,offset:p,hasSeparator:t===w&&0!==w}))}).value()),React.createElement(a.ShowMoreOrLess,{total:t.length,limit:u,expanded:g,toggleExpanded:function(){b(!g)}}))})},94425:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});r(72387);var n=r(2543),i=r.n(n),o=r(96540),a=r(40961),s=r(52306),c=r.n(s),u=r(3515),l=function(e){return e*parseFloat(getComputedStyle(document.documentElement).fontSize)};function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=c()({displayName:"LivePaneStack",getInitialState:function(){return{heights:this.props.panes.map(function(){return 100}),minHeights:this.props.panes.map(function(e){return e.minHeight||10}),maxHeights:this.props.panes.map(function(e){return e.maxHeight})}},getDefaultProps:function(){return{heightOffset:0}},componentDidMount:function(){var e=$.cookie("heights");if(e){var t=JSON.parse(e);t.length=this.props.panes.length,this.setState({heights:t})}else this.setDefaultHeights();$(window).on("resize",this.handleWindowResize),this.timer1=setTimeout(this.handleWindowResize,500),this.timer2=setTimeout(this.handleWindowResize,2e3)},componentWillUnmount:function(){$(window).off("resize",this.handleWindowResize),clearInterval(this.timer1),clearInterval(this.timer2)},render:function(){return o.createElement(this.props.tagName,{className:this.props.className,children:this.getPanes()})},getPanes:function(){var e=this,t=[];return this.props.panes.forEach(function(r,n){var a=r.props||{},s=e.state.heights[n];t.push(r.component(d(d({},a),{},{height:void 0===s||null===s?100:s,key:n}))),n<e.props.panes.length-1&&t.push(o.createElement(u.default,{key:"ls".concat(n),onDrag:i().partial(e.handleDrag,n)}))}),t},handleDrag:function(e,t){var r=this._getContainerHeight();t=this._guardDragOffScreen(t,r);var n=this._getNewItemHeight(e,t),o=this.state.heights;o[e]=n;var a=this._getRemainingHeight(e,n,r);o[e+1]=this._getHeightWithinConstraints(e+1,a);var s=r-i().reduce(o,function(e,t){return e+t||0},0),c=o[o.length-1]+s,u=this._getHeightWithinConstraints(o.length-1,c),l=c-u;o[o.length-1]=u,o[e]+=l,this.setState({heights:o}),this._persistHeights(o)},handleWindowResize:function(){var e=this;if($.cookie("heights")){var t=this._getContainerHeight(),r=this.state.heights,n=i().reduce(r,function(e,t){return e+t||0},0);r.forEach(function(i,o){var a=(i||0)/(n||1);r[o]=e._getHeightWithinConstraints(o,t*a)}),this.setState({heights:r})}else this.setDefaultHeights()},setDefaultHeights:function(){var e,t=this,r=this.props.defaultHeightsSetter;if(r){var n=this._getContainerHeight();e=this.props.panes.map(function(e,i){return r(i,t.props.panes.length,n)})}else e=this.props.panes.map(function(){return t._getContainerHeight()/t.props.panes.length});this.setState({heights:e})},_getContainerHeight:function(){return $(window).height()-this._getContainerHeightOffset()-(this.props.panes.length-1)*this._getSeparatorHeight()},_getContainerHeightOffset:function(){return"function"===typeof this.props.heightOffset?this.props.heightOffset()||0:"string"===typeof this.props.heightOffset?$(this.props.heightOffset).outerHeight()||0:this.props.heightOffset},_getHeightConstraint:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.minHeights)[e];return"string"===typeof t?$(a.findDOMNode(this)).find(t).outerHeight()||0:t},_getHeightWithinConstraints:function(e,t){return t=Math.max(t,this._getHeightConstraint(e)),t=Math.min(t,this._getHeightConstraint(e,this.state.maxHeights)||1e4)},_getNewItemHeight:function(e,t){return t=this._getOffsetTop(e,t),this._getHeightWithinConstraints(e,t)},_getOffsetTop:function(e,t){var r=this;return t-i().reduce(i().range(0,e),function(e,t){return e+r.state.heights[t]+r._getSeparatorHeight()},0)-this._getSeparatorHeight()/2-$(a.findDOMNode(this)).position().top},_getRemainingHeight:function(e,t,r){var n=r;return this.state.heights.forEach(function(t,r){r!==e+1&&(n-=t)}),Math.max(0,n)},_getSeparatorHeight:function(){return l(1)},_guardDragOffScreen:function(e,t){return Math.min(e,t+this._getContainerHeightOffset())},_persistHeights:i().debounce(function(e){$.cookie("heights",JSON.stringify(e),{expires:2e3})},500)}),m=h},94926:function(e,t,r){"use strict";var n=r(2543),i=r.n(n),o=r(25617);t.A=function(e,t){var r,n,a,s,c,u,l=t.content,f=t.itemNoteCategoryId;return new Services.Classes.RequestWithCredentials({type:"POST",url:(r=e,n=r.serviceTypeId,a=r.planType,s=r.planId,c=r.itemId,u=i().pluralize(i().snakeCase(a)),"".concat((0,o.lA)(),"/service_types/").concat(n,"/").concat(u,"/").concat(s,"/items/").concat(c,"/item_notes")),data:JSON.stringify({data:{attributes:{content:l},relationships:{item_note_category:{data:{type:"ItemNoteCategory",id:f}}}}})})}},94953:function(e,t,r){"use strict";r.r(t);var n=r(96540),i=r(10086);t.default=function(e){var t=e.onClick;return n.createElement(i.$,{icon:{name:"general.x",size:"lg"},onClick:t,tooltip:"Clear filters",variant:"naked",marginLeft:"auto"})}},95881:function(e,t,r){"use strict";r.r(t);var n=r(43081),i=r(5982),o=r(96540),a=r(52306),s=r.n(a)()({displayName:"LivePlanItemNotes",render:function(){return o.createElement("section",{className:"LivePlanItemNotes"},o.createElement("h3",{className:"LivePlanItemNotes-header"},"Item Notes"),o.createElement("table",{className:"LivePlanItemNotes-table"},o.createElement("tbody",null,this.props.sequence?this.renderSequenceRow():null,this.renderNoteRows())))},renderNoteRows:function(){return this.props.notes.map(function(e){return o.createElement(n.default,{key:e.id,note:e})})},renderSequenceRow:function(){return o.createElement(i.default,{sequence:this.props.sequence})}});t.default=s},96171:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(96540),i=r(2543),o=r.n(i);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var c="[draggable]",u=".attachable-drop-target",l=["altKey","ctrlKey","shiftKey","keyCode","metaKey"];function f(e){return function(t){var r=a((0,n.useState)({}),2),i=r[0],s=r[1],f=function(e){return o().pick(e,l)},d=function(e){(function(e){return o().isEqual(f(e),i)})(e)||s(f(e))},p=function(e){e.originalEvent.dataTransfer.effectAllowed="all",d(e)};return(0,n.useEffect)(function(){return $(document).on("dragstart",c,p),$(document).on("dragend",c,d),$(document).on("dragover",u,d),function(){$(document).off("dragstart",c,p),$(document).off("dragend",c,d),$(document).off("dragover",u,d)}},[i]),React.createElement(e,Object.assign({},t,{keydown:i}))}}},96743:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96540),a=r(52306),s=r.n(a),c=r(17360),u=r(69416),l=r(95881),f=r(69171),d=r(53108),p=s()({displayName:"LivePlanItem",render:function(){return o.createElement("article",{className:"LivePlanItem ".concat(this.getClassNames()),style:this.props.height?this.getComputedStyles():null},o.createElement("header",{className:"LivePlanItem-header ".concat(this.getHeaderClassNames())},o.createElement(d.default,{title:this.props.item&&this.props.item.title,badge:this.getTitleBadge()}),this._showTime()?this.renderTime():null,this.props.item&&this.props.item.subtitle?this.renderSubtitle():null),o.createElement("section",{className:"LivePlanItem-body"},this.props.item&&this.props.item.description?this.renderDescription():null,this._showNotes()?this.renderNotes():null))},renderDescription:function(){return o.createElement(u.default,{description:this.props.item&&this.props.item.description})},renderNotes:function(){return o.createElement(l.default,{notes:this.props.item&&this.props.item.plan_item_notes,sequence:this.props.item&&this.props.item.arrangement_sequence_to_s})},renderSubtitle:function(){return o.createElement("h2",{className:"LivePlanItem-subtitle"},this.props.item.subtitle)},renderTime:function(){return o.createElement(f.default,{time:this.props.time,format:(0,c.A)({withSeconds:!0})})},getClassNames:function(){return"LivePlanItem--".concat(this.props.presentation)},getHeaderClassNames:function(){return this.props.isCurrentItemGoingLong&&this.props.isCurrentItemGoingLong()?"LivePlanItem-header--warning":""},getComputedStyles:function(){return{height:this.props.height+"px"}},getTitleBadge:function(){return"queued"===this.props.presentation?"next":"now"},_showTime:function(){return-1!==["current","service"].indexOf(this.props.presentation)},_showNotes:function(){var e=this;return i().some(["plan_item_notes","arrangement_sequence_to_s"],function(t){return e.props.item&&e.props.item[t]&&e.props.item[t].length})}});t.default=p},97149:function(e,t,r){"use strict";r.r(t);var n=r(2543),i=r.n(n),o=r(96171),a=r(2393),s=r(32476),c=["#edit-sequence"],u=function(e){return $(e).length>0},l=i().compose(o.default,a.default,(0,s.default)(function(e){return e.hasModalOpen&&!i().some(c,u)}));t.default=l},99751:function(e,t,r){"use strict";r.d(t,{mw:function(){return i},a1:function(){return a},Mm:function(){return s},Rp:function(){return J},uk:function(){return u},SV:function(){return c},wc:function(){return l},fL:function(){return f},mb:function(){return p},GE:function(){return h},_n:function(){return m},bl:function(){return v},uH:function(){return y},nV:function(){return d},Ni:function(){return g},YT:function(){return M},Zn:function(){return b},xE:function(){return S.A},Pn:function(){return w},IY:function(){return P},xF:function(){return A},v5:function(){return R},RS:function(){return B},Z4:function(){return W},G7:function(){return ae},b5:function(){return z},Si:function(){return q},ZM:function(){return $},xs:function(){return H},sG:function(){return Y},nL:function(){return K}});var n=r(33513),i=function(e){return(0,n.bE)({url:"/people/".concat(e,"/archive")})},o=r(25617),a=function(e){var t=e.personAcid,r=e.serviceTypeIds;return new Services.Classes.RequestWithCredentials({type:"POST",url:(0,o.y0)("/people/".concat(t,"/collapse_service_types")),data:JSON.stringify({data:{type:"CollapseServiceTypes",relationships:{service_type:{data:r.map(function(e){return{type:"ServiceType",id:e}})}}}})})};function s(e,t){var r=e.personAcid,i="/people/".concat(r,"/additional_email_recipients"),o={data:{type:"AdditionalEmailRecipient",relationships:t}};return(0,n.bE)({url:i,data:o})}var c=function(e){var t=e.id,r=e.personAcid;return(0,n.zr)({url:"/people/".concat(r,"/additional_email_recipients/").concat(t)})},u=function(e){return(0,n.zr)({url:"/people/".concat(e)})},l=function(e){var t=e.accountCenterId,r=e.id,n="".concat((0,o.lA)(),"/people/").concat(t,"/person_team_position_assignments/").concat(r);return new Services.Classes.RequestWithCredentials({url:n,type:"DELETE"})},f=function(e){var t=e.personAcid,r=e.serviceTypeIds;return new Services.Classes.RequestWithCredentials({type:"POST",url:(0,o.y0)("/people/".concat(t,"/expand_service_types")),data:JSON.stringify({data:{type:"ExpandServiceTypes",relationships:{service_type:{data:r.map(function(e){return{type:"ServiceType",id:e}})}}}})})},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.Jt)({url:"/people/".concat(e,"/additional_email_recipients"),data:t})};function p(e){var t=e.personAcid,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.Kj.people.version("2022-01-28"),o="people/".concat(t);return i.get({url:o,data:r})}var h=function(e){var t,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.Jt)({url:(t=e,r=t.id,"/people/".concat(r,"/assigned_team_leaders")),data:i})},m=function(e){var t=e.personAcid,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.Jt)({url:"/people/".concat(t,"/emails"),data:r})},v=function(e,t){return(0,n.Jt)({url:"/people/".concat(e,"/teams"),data:t})},y=function(e){var t=e.personAcid,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.Jt)({url:"/people/".concat(t),data:r})},g=function(e){var t=e.personAcid,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.Jt)({url:"/people/".concat(t,"/phone_numbers"),data:r})},b=function(e,t){return(0,n.Jt)({url:"/people/".concat(e,"/schedules"),data:t})},S=r(71357);function w(e){var t,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.Jt)({url:(t=e,r=t.personAcid,"/people/".concat(r,"/service_type_person_permissions")),data:i})}var O=r(69500),P=function(e,t){var r=t.attachmentIds,i=t.planIds;return new Services.Classes.RequestWithCredentials({url:"".concat((0,o.lA)(),"/people/").concat(e,"/skip_filter"),type:"POST",data:JSON.stringify({data:{attributes:(0,O.wJ)({attachmentIds:r,planIds:i})}})}).then(n.SA)},_=r(2543),E=r.n(_);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){I(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function I(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=function(e){var t=e.data,r=t.id,n=t.attributes,i=t.type;return T(T({},n),{},{id:parseInt(r,10),type:i})},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Services.Classes.RequestWithCredentials({url:"".concat((0,o.lA)(),"/people/").concat(e,"/songbook_options"),data:t}).then(E().flow(O.Yu,C))};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){N(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var L=function(e){var t=e.data,r=e.included;return t.map(function(e){return k(k({},F(e)),{},{serviceTypeId:parseInt(E().get(e,"relationships.serviceType.data.id"),10),serviceType:D(e,r)})})},F=function(e){var t=e.id,r=e.attributes,n=e.type;return k(k({},r),{},{id:parseInt(t,10),type:n})},D=function(e,t){var r=E().filter(t,{type:"ServiceType"}),n=E().find(r,function(t){var r=t.id;return E().get(e,"relationships.serviceType.data.id")==r});return n&&F(n)},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Services.Classes.RequestWithCredentials({url:"".concat((0,o.lA)(),"/people/").concat(e,"/recent_plans"),data:t}).then(E().flow(O.Yu,L))},R=(r(19272),function(e,t){var r="".concat((0,o.lA)(),"/people/").concat(e,"/person_team_position_assignments");return new Services.Classes.RequestWithCredentials({url:r,data:t}).then(n.SA)}),U=function(e){var t=e.scheduleId,r=e.personId;return"/people/".concat(r,"/unscoped_schedules/").concat(t)},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.Jt)({url:U(e),data:t})},G=r(36213),V=["acid"];function W(e){var t=e.acid,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,V),n="".concat((0,G.A)("services"),"/people/").concat(t,"/import"),i=Services.Utils.keysToSnakeCase(r);return new Services.Classes.RequestWithCredentials({data:JSON.stringify(i),type:"POST",url:n})}function z(e){var t=e.acid,r="".concat((0,O.dk)("services"),"/people/").concat(t,"/import/new");return new Services.Classes.RequestWithCredentials({type:"GET",url:r}).then(O.Yu)}var q=function(e){return(0,n.bE)({url:"/people/".concat(e,"/restore")})},$=function(e,t,r){return new Services.Classes.RequestWithCredentials({type:"POST",url:(0,o.y0)("/send_people_emails"),data:JSON.stringify({data:{attributes:{subject:e,message:t,people_ids:r}}})})},H=function(e){var t=e.personAcid,r={data:{type:"Person",attributes:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}};return new Services.Classes.RequestWithCredentials({type:"PATCH",url:"".concat((0,o.lA)(),"/people/").concat(t),data:JSON.stringify((0,O.wJ)(r))})};function J(e,t,r){var i=e.personAcid,o="/people/".concat(i,"/service_type_person_permissions"),a={data:{type:"ServiceTypePersonPermissions",attributes:t,relationships:r}};return(0,n.bE)({url:o,data:a})}var Y=function(e,t){return new Services.Classes.RequestWithCredentials({type:"PATCH",url:"".concat((0,o.lA)(),"/people/").concat(e,"/songbook_options"),data:JSON.stringify({data:{type:"SongbookOptions",attributes:t,relationships:{}}})})},K=function(e){var t=e.personAcid,r=e.phoneNumberId,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.F6)({url:"/people/".concat(t,"/text_settings/").concat(r),data:(0,O.wJ)(i)})},Z=["fields"];function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach(function(t){ee(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ee(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var te=function(e){var t=e.data;return E().map(t,function(e){return X({id:e.id,type:e.type},e.attributes)})},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fields,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Z);return(0,o.mY)("".concat((0,o.lA)(),"/me/features"),X({per_page:100,fields:t},(0,O.wJ)(r))).then(function(e){return E().flatMap(e,E().flow(O.Yu,te))})};function ne(){ne=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:j(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function y(){}function g(){}function b(){}var S={};u(S,a,function(){return this});var w=Object.getPrototypeOf,O=w&&w(w(x([])));O&&O!==r&&n.call(O,a)&&(S=O);var P=b.prototype=y.prototype=Object.create(S);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){function r(i,o,a,s){var c=f(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):t.resolve(l).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,s)})}s(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t(function(t,i){r(e,n,t,i)})}return o=o?o.then(i,i):i()}})}function j(t,r,n){var i=d;return function(o,a){if(i===h)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var u=f(t,r,n);if("normal"===u.type){if(i=n.done?m:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=m,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,i(P,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},_(E.prototype),u(E.prototype,s,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},_(P),u(P,c,"Generator"),u(P,a,function(){return this}),u(P,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:x(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function ie(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}var oe=function(){var e,t=(e=ne().mark(function e(t){var r;return ne().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re({where:{name:t},filter:"enabled"});case 2:return r=e.sent,e.abrupt("return",E().some(r));case 4:case"end":return e.stop()}},e)}),function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){ie(o,n,i,a,s,"next",e)}function s(e){ie(o,n,i,a,s,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}(),ae=oe}}]);
//# sourceMappingURL=905-a745244160536ad7e7c1.js.map