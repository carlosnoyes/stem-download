function ImmutableStore(e){return e.config={setState:function(e,t){return this.state=t,this.state},getState:function(e){return e},onSerialize:function(e){return e.toJS()},onDeserialize:function(e){return Immutable.fromJS(e)}},e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Cell(e){return React.createElement(Tapestry.Box,e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ResizeObserver=t()}(this,(function(){"use strict";function e(e){return window.getComputedStyle(e)}function t(e){return parseFloat(e)||0}function n(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((function(n,r){return n+t(e["border-"+r+"-width"])}),0)}function r(e){var n={},r=["top","right","bottom","left"],o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a,l=e["padding-"+s];n[s]=t(l)}return n}function o(e,t,n,r){return{width:e,height:t,top:n,right:e+r,bottom:t+n,left:r}}function i(e){var t=e.getBBox();return o(t.width,t.height,0,0)}function a(){var n=e(document.documentElement);return o(t(n.width),t(n.height),0,0)}function s(i){var a=i.clientWidth,s=i.clientHeight;if(!a&&!s)return C;var l=e(i),u=r(l),c=u.left+u.right,f=u.top+u.bottom,p=t(l.width),d=t(l.height);"border-box"===l.boxSizing&&(Math.round(p+c)!==a&&(p-=n(l,"left","right")+c),Math.round(d+f)!==s&&(d-=n(l,"top","bottom")+f));var h=Math.round(p+c)-a,v=Math.round(d+f)-s;return 1!==Math.abs(h)&&(p-=h),1!==Math.abs(v)&&(d-=v),o(p,d,u.top,u.left)}function l(e){return e instanceof window.SVGElement}function u(e){return e===document.documentElement}function c(e){return l(e)?i(e):u(e)?a():s(e)}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={configurable:n.configurable||!1,writable:n.writable||!1,enumerable:n.enumerable||!1},o=Object.keys(t),i=Array.isArray(o),a=0;for(o=i?o:o[Symbol.iterator]();;){var s;if(i){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}var l=s;r.value=t[l],Object.defineProperty(e,l,r)}return e}var p=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},v=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},y="function"==typeof window.WeakMap&&"function"==typeof window.Map,m=function(){function e(e,t){var n=-1;return e.some((function(e,r){var o=e[0]===t;return o&&(n=r),o})),n}return y?window.WeakMap:function(){function t(){p(this,t),this.__entries__=[]}return t.prototype.get=function(t){var n=e(this.__entries__,t);return this.__entries__[n][1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t}()}(),g=y?window.Map:function(e){function t(){return p(this,t),v(this,e.apply(this,arguments))}return h(t,e),t.prototype.clear=function(){this.__entries__.splice(0,this.__entries__.length)},t.prototype.entries=function(){return this.__entries__.slice()},t.prototype.keys=function(){return this.__entries__.map((function(e){return e[0]}))},t.prototype.values=function(){return this.__entries__.map((function(e){return e[1]}))},t.prototype.forEach=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.__entries__,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var a=i;e.call(t,a[1],a[0])}},d(t,[{key:"size",get:function(){return this.__entries__.length}}]),t}(m),b="function"==typeof window.requestAnimationFrame?window.requestAnimationFrame:function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},w=function(e){function t(){e.apply.apply(e,a),a=null,s&&(r.apply.apply(r,s),s=null)}function n(){i?b(t):t()}function r(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=[this,t];a?s=i:(a=i,setTimeout(n,o))}var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=null,s=null;return r},_="function"==typeof window.MutationObserver,S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];p(this,e),this._isCycleContinuous=!_||t,this._listenersEnabled=!1,this._mutationsObserver=null,this._observers=[],this.refresh=w(this.refresh.bind(this),30,!0),this._continuousUpdateHandler=w(this.refresh,70)}return e.prototype.connect=function(e){this.isConnected(e)||this._observers.push(e),this._listenersEnabled||this._addListeners()},e.prototype.disconnect=function(e){var t=this._observers,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this._listenersEnabled&&this._removeListeners()},e.prototype.isConnected=function(e){return!!~this._observers.indexOf(e)},e.prototype.refresh=function(){this._updateObservers()?this.refresh():this._isCycleContinuous&&this._listenersEnabled&&this._continuousUpdateHandler()},e.prototype._updateObservers=function(){var e=!1,t=this._observers,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var i=o;i.gatherActive(),i.hasActive()&&(e=!0,i.broadcastActive())}return e},e.prototype._addListeners=function(){this._listenersEnabled||(window.addEventListener("resize",this.refresh),_&&(this._mutationsObserver=new MutationObserver(this.refresh),this._mutationsObserver.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._listenersEnabled=!0,this._isCycleContinuous&&this.refresh())},e.prototype._removeListeners=function(){this._listenersEnabled&&(window.removeEventListener("resize",this.refresh),this._mutationsObserver&&this._mutationsObserver.disconnect(),this._mutationsObserver=null,this._listenersEnabled=!1)},d(e,[{key:"continuousUpdates",get:function(){return this._isCycleContinuous},set:function(e){_&&(this._isCycleContinuous=e,this._listenersEnabled&&e&&this.refresh())}}]),e}(),C=o(0,0,0,0),E=function(){function e(t){p(this,e),this.target=t,this._contentRect=C,this.broadcastWidth=0,this.broadcastHeight=0}return e.prototype.broadcastRect=function(){var e=this._contentRect;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e.prototype.isActive=function(){var e=c(this.target);return this._contentRect=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e}(),T=function e(t,n){p(this,e);var r=window.ClientRect||Object,o=Object.create(r.prototype);f(o,n,{configurable:!0}),f(this,{target:t,contentRect:o},{configurable:!0})},P=function(){function e(t,n,r){if(p(this,e),"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this._callback=t,this._targets=new g,this._activeTargets=[],this._controller=n,this._publicObserver=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this._targets;t.has(e)||(t.set(e,new E(e)),this._controller.isConnected(this)||this._controller.connect(this),this._controller.refresh())},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this._targets;t.has(e)&&(t.delete(e),t.size||this.disconnect())},e.prototype.disconnect=function(){this.clearActive(),this._targets.clear(),this._controller.disconnect(this)},e.prototype.gatherActive=function(){this.clearActive();var e=this._activeTargets;this._targets.forEach((function(t){t.isActive()&&e.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this._publicObserver,t=this._activeTargets.map((function(e){return new T(e.target,e.broadcastRect())}));this.clearActive(),this._callback.call(e,t,e)}},e.prototype.clearActive=function(){this._activeTargets.splice(0)},e.prototype.hasActive=function(){return!!this._activeTargets.length},e}(),O=new S,k=new m,x=function(){function e(t){if(p(this,e),!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=new P(t,O,this);k.set(this,n)}return d(e,null,[{key:"continuousUpdates",get:function(){return O.continuousUpdates},set:function(e){if("boolean"!=typeof e)throw new TypeError('type of "continuousUpdates" value must be boolean.');O.continuousUpdates=e}}]),e}();["observe","unobserve","disconnect"].forEach((function(e){x.prototype[e]=function(){var t;return(t=k.get(this))[e].apply(t,arguments)}}));var A=x;return"function"==typeof window.ResizeObserver&&(A=window.ResizeObserver),A})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.getNodeDimensions=t():e.getNodeDimensions=t()}(this,(function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.getBoundingClientRect(),r=void 0,o=void 0,s=void 0;if(n.width&&n.height&&!t.clone)t.margin&&(s=(0,a.default)(getComputedStyle(e)));else{var l=(0,i.default)(e,t);n=l.rect,s=l.margin}return t.margin?(r=s.left+n.width+s.right,o=s.top+n.height+s.bottom):(r=n.width,o=n.height),{width:r,height:o,top:n.top,right:n.right,bottom:n.bottom,left:n.left}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=r(n(1)),a=r(n(2));e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.parentNode,r=document.createElement("div"),o=e.cloneNode(!0),a=getComputedStyle(e),s=void 0,l=void 0,u=void 0;return r.style.height=0,r.style.overflow="hidden",o.setAttribute("id",""),o.setAttribute("name",""),(t.display||"none"===a.getPropertyValue("display"))&&(o.style.display=t.display||"block"),!t.width&&parseInt(a.getPropertyValue("width"))||(o.style.width=t.width||"auto"),!t.height&&parseInt(a.getPropertyValue("height"))||(o.style.height=t.height||"auto"),r.appendChild(o),n.appendChild(r),s=o.getBoundingClientRect(),l=o.offsetWidth,u=o.offsetHeight,n.removeChild(r),{rect:{width:l,height:u,top:s.top,right:s.right,bottom:s.bottom,left:s.left},margin:(0,i.default)(a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=r(n(2));e.exports=t.default},function(e,t){"use strict";function n(e){return{top:r(e.marginTop),right:r(e.marginRight),bottom:r(e.marginBottom),left:r(e.marginLeft)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=function(e){return parseInt(e)||0};e.exports=t.default}])})),function(){var e=this;(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(e,n){return t.controller.visit(e,n)},clearCache:function(){return t.controller.clearCache()},setProgressBarDelay:function(e){return t.controller.setProgressBarDelay(e)}}}).call(this)}).call(e);var t=e.Turbolinks;(function(){(function(){var e,n,r,o=[].slice;t.copyObject=function(e){var t,n,r;for(t in n={},e)r=e[t],n[t]=r;return n},t.closest=function(t,n){return e.call(t,n)},e=function(){var e;return null!=(e=document.documentElement.closest)?e:function(e){var t;for(t=this;t;){if(t.nodeType===Node.ELEMENT_NODE&&n.call(t,e))return t;t=t.parentNode}}}(),t.defer=function(e){return setTimeout(e,1)},t.throttle=function(e){var t;return t=null,function(){var n;return n=1<=arguments.length?o.call(arguments,0):[],null!=t?t:t=requestAnimationFrame(function(r){return function(){return t=null,e.apply(r,n)}}(this))}},t.dispatch=function(e,t){var n,o,i,a,s,l;return l=(s=null!=t?t:{}).target,n=s.cancelable,o=s.data,(i=document.createEvent("Events")).initEvent(e,!0,!0===n),i.data=null!=o?o:{},i.cancelable&&!r&&(a=i.preventDefault,i.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),a.call(this)}),(null!=l?l:document).dispatchEvent(i),i},r=function(){var e;return(e=document.createEvent("Events")).initEvent("test",!0,!0),e.preventDefault(),e.defaultPrevented}(),t.match=function(e,t){return n.call(e,t)},n=function(){var e,t,n,r;return null!=(t=null!=(n=null!=(r=(e=document.documentElement).matchesSelector)?r:e.webkitMatchesSelector)?n:e.msMatchesSelector)?t:e.mozMatchesSelector}(),t.uuid=function(){var e,t,n;for(n="",e=t=1;36>=t;e=++t)n+=9===e||14===e||19===e||24===e?"-":15===e?"4":20===e?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){t.Location=function(){function e(e){var t,n;null==e&&(e=""),(n=document.createElement("a")).href=e.toString(),this.absoluteURL=n.href,2>(t=n.hash.length)?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-t),this.anchor=n.hash.slice(1))}var t,n,r,o;return e.wrap=function(e){return e instanceof this?e:new this(e)},e.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},e.prototype.getPath=function(){var e,t;return null!=(e=null!=(t=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?t[1]:void 0)?e:"/"},e.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},e.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},e.prototype.getExtension=function(){var e,t;return null!=(e=null!=(t=this.getLastPathComponent().match(/\.[^.]*$/))?t[0]:void 0)?e:""},e.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},e.prototype.isPrefixedBy=function(e){var t;return t=n(e),this.isEqualTo(e)||o(this.absoluteURL,t)},e.prototype.isEqualTo=function(e){return this.absoluteURL===(null!=e?e.absoluteURL:void 0)},e.prototype.toCacheKey=function(){return this.requestURL},e.prototype.toJSON=function(){return this.absoluteURL},e.prototype.toString=function(){return this.absoluteURL},e.prototype.valueOf=function(){return this.absoluteURL},n=function(e){return t(e.getOrigin()+e.getPath())},t=function(e){return r(e,"/")?e:e+"/"},o=function(e,t){return e.slice(0,t.length)===t},r=function(e,t){return e.slice(-t.length)===t},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.HttpRequest=function(){function n(n,r,o){this.delegate=n,this.requestCanceled=e(this.requestCanceled,this),this.requestTimedOut=e(this.requestTimedOut,this),this.requestFailed=e(this.requestFailed,this),this.requestLoaded=e(this.requestLoaded,this),this.requestProgressed=e(this.requestProgressed,this),this.url=t.Location.wrap(r).requestURL,this.referrer=t.Location.wrap(o).absoluteURL,this.createXHR()}return n.NETWORK_FAILURE=0,n.TIMEOUT_FAILURE=-1,n.timeout=60,n.prototype.send=function(){var e;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(e=this.delegate).requestStarted?e.requestStarted():void 0):void 0},n.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},n.prototype.requestProgressed=function(e){return e.lengthComputable?this.setProgress(e.loaded/e.total):void 0},n.prototype.requestLoaded=function(){return this.endRequest(function(e){return function(){var t;return 200<=(t=e.xhr.status)&&300>t?e.delegate.requestCompletedWithResponse(e.xhr.responseText,e.xhr.getResponseHeader("Turbolinks-Location")):(e.failed=!0,e.delegate.requestFailedWithStatusCode(e.xhr.status,e.xhr.responseText))}}(this))},n.prototype.requestFailed=function(){return this.endRequest(function(e){return function(){return e.failed=!0,e.delegate.requestFailedWithStatusCode(e.constructor.NETWORK_FAILURE)}}(this))},n.prototype.requestTimedOut=function(){return this.endRequest(function(e){return function(){return e.failed=!0,e.delegate.requestFailedWithStatusCode(e.constructor.TIMEOUT_FAILURE)}}(this))},n.prototype.requestCanceled=function(){return this.endRequest()},n.prototype.notifyApplicationBeforeRequestStart=function(){return t.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},n.prototype.notifyApplicationAfterRequestEnd=function(){return t.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},n.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},n.prototype.endRequest=function(e){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=e&&e.call(this),this.destroy()):void 0},n.prototype.setProgress=function(e){var t;return this.progress=e,"function"==typeof(t=this.delegate).requestProgressed?t.requestProgressed(this.progress):void 0},n.prototype.destroy=function(){var e;return this.setProgress(1),"function"==typeof(e=this.delegate).requestFinished&&e.requestFinished(),this.delegate=null,this.xhr=null},n}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.ProgressBar=function(){function t(){this.trickle=e(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var n;return n=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+n+"ms ease-out, opacity "+n/2+"ms "+n/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(e){return function(){return e.uninstallProgressElement(),e.stopTrickling(),e.visible=!1,e.hiding=!1}}(this))):void 0},t.prototype.setValue=function(e){return this.value=e,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(e){return this.progressElement.style.opacity=0,setTimeout(e,1.5*n)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,n)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame(function(e){return function(){return e.progressElement.style.width=10+90*e.value+"%"}}(this))},t.prototype.createStylesheetElement=function(){var e;return(e=document.createElement("style")).type="text/css",e.textContent=this.constructor.defaultCSS,e},t.prototype.createProgressElement=function(){var e;return(e=document.createElement("div")).className="turbolinks-progress-bar",e},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.BrowserAdapter=function(){function n(n){this.controller=n,this.showProgressBar=e(this.showProgressBar,this),this.progressBar=new t.ProgressBar}var r,o,i;return i=t.HttpRequest,r=i.NETWORK_FAILURE,o=i.TIMEOUT_FAILURE,n.prototype.visitProposedToLocationWithAction=function(e,t){return this.controller.startVisitToLocationWithAction(e,t)},n.prototype.visitStarted=function(e){return e.issueRequest(),e.changeHistory(),e.loadCachedSnapshot()},n.prototype.visitRequestStarted=function(e){return this.progressBar.setValue(0),e.hasCachedSnapshot()||"restore"!==e.action?this.showProgressBarAfterDelay():this.showProgressBar()},n.prototype.visitRequestProgressed=function(e){return this.progressBar.setValue(e.progress)},
n.prototype.visitRequestCompleted=function(e){return e.loadResponse()},n.prototype.visitRequestFailedWithStatusCode=function(e,t){switch(t){case r:case o:return this.reload();default:return e.loadResponse()}},n.prototype.visitRequestFinished=function(){return this.hideProgressBar()},n.prototype.visitCompleted=function(e){return e.followRedirect()},n.prototype.pageInvalidated=function(){return this.reload()},n.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},n.prototype.showProgressBar=function(){return this.progressBar.show()},n.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},n.prototype.reload=function(){return window.location.reload()},n}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.History=function(){function n(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},n.prototype.push=function(e,n){return e=t.Location.wrap(e),this.update("push",e,n)},n.prototype.replace=function(e,n){return e=t.Location.wrap(e),this.update("replace",e,n)},n.prototype.onPopState=function(e){var n,r,o,i;return this.shouldHandlePopState()&&(i=null!=(r=e.state)?r.turbolinks:void 0)?(n=t.Location.wrap(window.location),o=i.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(n,o)):void 0},n.prototype.onPageLoad=function(){return t.defer(function(e){return function(){return e.pageLoaded=!0}}(this))},n.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},n.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},n.prototype.update=function(e,t,n){var r;return r={turbolinks:{restorationIdentifier:n}},history[e+"State"](r,null,t)},n}()}.call(this),function(){t.HeadDetails=function(){function e(e){var t,n,r,a,s;for(this.elements={},n=0,a=e.length;a>n;n++)(s=e[n]).nodeType===Node.ELEMENT_NODE&&(r=s.outerHTML,(null!=(t=this.elements)[r]?t[r]:t[r]={type:i(s),tracked:o(s),elements:[]}).elements.push(s))}var t,n,r,o,i;return e.fromHeadElement=function(e){var t;return new this(null!=(t=null!=e?e.childNodes:void 0)?t:[])},e.prototype.hasElementWithKey=function(e){return e in this.elements},e.prototype.getTrackedElementSignature=function(){var e;return function(){var t,n;for(e in n=[],t=this.elements)t[e].tracked&&n.push(e);return n}.call(this).join("")},e.prototype.getScriptElementsNotInDetails=function(e){return this.getElementsMatchingTypeNotInDetails("script",e)},e.prototype.getStylesheetElementsNotInDetails=function(e){return this.getElementsMatchingTypeNotInDetails("stylesheet",e)},e.prototype.getElementsMatchingTypeNotInDetails=function(e,t){var n,r,o,i,a,s;for(r in a=[],o=this.elements)s=(i=o[r]).type,n=i.elements,s!==e||t.hasElementWithKey(r)||a.push(n[0]);return a},e.prototype.getProvisionalElements=function(){var e,t,n,r,o,i,a;for(t in n=[],r=this.elements)a=(o=r[t]).type,i=o.tracked,e=o.elements,null!=a||i?e.length>1&&n.push.apply(n,e.slice(1)):n.push.apply(n,e);return n},e.prototype.getMetaValue=function(e){var t;return null!=(t=this.findMetaElementByName(e))?t.getAttribute("content"):void 0},e.prototype.findMetaElementByName=function(e){var n,r,o,i;for(o in n=void 0,i=this.elements)r=i[o].elements,t(r[0],e)&&(n=r[0]);return n},i=function(e){return n(e)?"script":r(e)?"stylesheet":void 0},o=function(e){return"reload"===e.getAttribute("data-turbolinks-track")},n=function(e){return"script"===e.tagName.toLowerCase()},r=function(e){var t;return"style"===(t=e.tagName.toLowerCase())||"link"===t&&"stylesheet"===e.getAttribute("rel")},t=function(e,t){return"meta"===e.tagName.toLowerCase()&&e.getAttribute("name")===t},e}()}.call(this),function(){t.Snapshot=function(){function e(e,t){this.headDetails=e,this.bodyElement=t}return e.wrap=function(e){return e instanceof this?e:"string"==typeof e?this.fromHTMLString(e):this.fromHTMLElement(e)},e.fromHTMLString=function(e){var t;return(t=document.createElement("html")).innerHTML=e,this.fromHTMLElement(t)},e.fromHTMLElement=function(e){var n,r,o;return r=e.querySelector("head"),n=null!=(o=e.querySelector("body"))?o:document.createElement("body"),new this(t.HeadDetails.fromHeadElement(r),n)},e.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},e.prototype.getRootLocation=function(){var e,n;return n=null!=(e=this.getSetting("root"))?e:"/",new t.Location(n)},e.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},e.prototype.getElementForAnchor=function(e){try{return this.bodyElement.querySelector("[id='"+e+"'], a[name='"+e+"']")}catch(e){}},e.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},e.prototype.getPermanentElementById=function(e){return this.bodyElement.querySelector("#"+e+"[data-turbolinks-permanent]")},e.prototype.getPermanentElementsPresentInSnapshot=function(e){var t,n,r,o,i;for(i=[],n=0,r=(o=this.getPermanentElements()).length;r>n;n++)t=o[n],e.getPermanentElementById(t.id)&&i.push(t);return i},e.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},e.prototype.hasAnchor=function(e){return null!=this.getElementForAnchor(e)},e.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},e.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},e.prototype.getSetting=function(e){return this.headDetails.getMetaValue("turbolinks-"+e)},e}()}.call(this),function(){var e=[].slice;t.Renderer=function(){function t(){}var n;return t.render=function(){var t,n,r;return n=arguments[0],t=arguments[1],r=function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(this,3<=arguments.length?e.call(arguments,2):[],(function(){})),r.delegate=n,r.render(t),r},t.prototype.renderView=function(e){return this.delegate.viewWillRender(this.newBody),e(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(e){var t;return"false"===e.getAttribute("data-turbolinks-eval")?e:((t=document.createElement("script")).textContent=e.textContent,t.async=!1,n(t,e),t)},n=function(e,t){var n,r,o,i,a,s,l;for(s=[],n=0,r=(i=t.attributes).length;r>n;n++)o=(a=i[n]).name,l=a.value,s.push(e.setAttribute(o,l));return s},t}()}.call(this),function(){var e,n,r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;t.SnapshotRenderer=function(t){function o(e,t,n){this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=n,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return r(o,t),o.prototype.render=function(e){return this.shouldRender()?(this.mergeHead(),this.renderView(function(t){return function(){return t.replaceBody(),t.isPreview||t.focusFirstAutofocusableElement(),e()}}(this))):this.invalidateView()},o.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},o.prototype.replaceBody=function(){var e;return e=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(e)},o.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},o.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},o.prototype.copyNewHeadStylesheetElements=function(){var e,t,n,r,o;for(o=[],t=0,n=(r=this.getNewHeadStylesheetElements()).length;n>t;t++)e=r[t],o.push(document.head.appendChild(e));return o},o.prototype.copyNewHeadScriptElements=function(){var e,t,n,r,o;for(o=[],t=0,n=(r=this.getNewHeadScriptElements()).length;n>t;t++)e=r[t],o.push(document.head.appendChild(this.createScriptElement(e)));return o},o.prototype.removeCurrentHeadProvisionalElements=function(){var e,t,n,r,o;for(o=[],t=0,n=(r=this.getCurrentHeadProvisionalElements()).length;n>t;t++)e=r[t],o.push(document.head.removeChild(e));return o},o.prototype.copyNewHeadProvisionalElements=function(){var e,t,n,r,o;for(o=[],t=0,n=(r=this.getNewHeadProvisionalElements()).length;n>t;t++)e=r[t],o.push(document.head.appendChild(e));return o},o.prototype.relocateCurrentBodyPermanentElements=function(){var t,r,o,i,a,s,l;for(l=[],t=0,r=(s=this.getCurrentBodyPermanentElements()).length;r>t;t++)i=s[t],a=e(i),o=this.newSnapshot.getPermanentElementById(i.id),n(i,a.element),n(o,i),l.push(a);return l},o.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(e){var t,r,o,i,a,s;for(s=[],o=0,i=e.length;i>o;o++)r=(a=e[o]).element,t=a.permanentElement.cloneNode(!0),s.push(n(r,t));return s},o.prototype.activateNewBodyScriptElements=function(){var e,t,r,o,i,a;for(a=[],t=0,o=(i=this.getNewBodyScriptElements()).length;o>t;t++)r=i[t],e=this.createScriptElement(r),a.push(n(r,e));return a},o.prototype.assignNewBody=function(){return document.body=this.newBody},o.prototype.focusFirstAutofocusableElement=function(){var e;return null!=(e=this.newSnapshot.findFirstAutofocusableElement())?e.focus():void 0},o.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},o.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},o.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},o.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},o.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},o.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},o}(t.Renderer),e=function(e){var t;return(t=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),t.setAttribute("content",e.id),{element:t,permanentElement:e}},n=function(e,t){var n;return(n=e.parentNode)?n.replaceChild(t,e):void 0}}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.ErrorRenderer=function(t){function n(e){var t;(t=document.createElement("html")).innerHTML=e,this.newHead=t.querySelector("head"),this.newBody=t.querySelector("body")}return e(n,t),n.prototype.render=function(e){return this.renderView(function(t){return function(){return t.replaceHeadAndBody(),t.activateBodyScriptElements(),e()}}(this))},n.prototype.replaceHeadAndBody=function(){var e,t;return t=document.head,e=document.body,t.parentNode.replaceChild(this.newHead,t),e.parentNode.replaceChild(this.newBody,e)},n.prototype.activateBodyScriptElements=function(){var e,t,n,r,o,i;for(i=[],t=0,n=(r=this.getScriptElements()).length;n>t;t++)o=r[t],e=this.createScriptElement(o),i.push(o.parentNode.replaceChild(e,o));return i},n.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},n}(t.Renderer)}.call(this),function(){t.View=function(){function e(e){this.delegate=e,this.htmlElement=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getElementForAnchor=function(e){return this.getSnapshot().getElementForAnchor(e)},e.prototype.getSnapshot=function(){return t.Snapshot.fromHTMLElement(this.htmlElement)},e.prototype.render=function(e,t){var n,r,o;return o=e.snapshot,n=e.error,r=e.isPreview,this.markAsPreview(r),null!=o?this.renderSnapshot(o,r,t):this.renderError(n,t)},e.prototype.markAsPreview=function(e){return e?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},e.prototype.renderSnapshot=function(e,n,r){return t.SnapshotRenderer.render(this.delegate,r,this.getSnapshot(),t.Snapshot.wrap(e),n)},e.prototype.renderError=function(e,n){return t.ErrorRenderer.render(this.delegate,n,e)},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.ScrollManager=function(){function n(n){this.delegate=n,this.onScroll=e(this.onScroll,this),this.onScroll=t.throttle(this.onScroll)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},n.prototype.scrollToElement=function(e){return e.scrollIntoView()},n.prototype.scrollToPosition=function(e){var t,n;return t=e.x,n=e.y,window.scrollTo(t,n)},n.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},n.prototype.updatePosition=function(e){var t;return this.position=e,null!=(t=this.delegate)?t.scrollPositionChanged(this.position):void 0},n}()}.call(this),function(){t.SnapshotCache=function(){function e(e){this.size=e,this.keys=[],this.snapshots={}}var n;return e.prototype.has=function(e){return n(e)in this.snapshots},e.prototype.get=function(e){var t;if(this.has(e))return t=this.read(e),this.touch(e),t},e.prototype.put=function(e,t){return this.write(e,t),this.touch(e),t},e.prototype.read=function(e){var t;return t=n(e),this.snapshots[t]},e.prototype.write=function(e,t){var r;return r=n(e),this.snapshots[r]=t},e.prototype.touch=function(e){var t,r;return r=n(e),(t=this.keys.indexOf(r))>-1&&this.keys.splice(t,1),this.keys.unshift(r),this.trim()},e.prototype.trim=function(){var e,t,n,r,o;for(o=[],e=0,n=(r=this.keys.splice(this.size)).length;n>e;e++)t=r[e],o.push(delete this.snapshots[t]);return o},n=function(e){return t.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.Visit=function(){function n(n,r,o){this.controller=n,this.action=o,this.performScroll=e(this.performScroll,this),this.identifier=t.uuid(),this.location=t.Location.wrap(r),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var r;return n.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},n.prototype.cancel=function(){var e;return"started"===this.state?(null!=(e=this.request)&&e.cancel(),this.cancelRender(),this.state="canceled"):void 0},n.prototype.complete=function(){var e;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(e=this.adapter).visitCompleted&&e.visitCompleted(this),this.controller.visitCompleted(this)):void 0},n.prototype.fail=function(){var e;return"started"===this.state?(this.state="failed","function"==typeof(e=this.adapter).visitFailed?e.visitFailed(this):void 0):void 0},n.prototype.changeHistory=function(){var e,t;return this.historyChanged?void 0:(e=this.location.isEqualTo(this.referrer)?"replace":this.action,t=r(e),this.controller[t](this.location,this.restorationIdentifier),this.historyChanged=!0)},n.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new t.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},n.prototype.getCachedSnapshot=function(){var e;return!(e=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!e.hasAnchor(this.location.anchor)||"restore"!==this.action&&!e.isPreviewable()?void 0:e},n.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},n.prototype.loadCachedSnapshot=function(){var e,t;return(t=this.getCachedSnapshot())?(e=this.shouldIssueRequest(),this.render((function(){var n;return this.cacheSnapshot(),this.controller.render({snapshot:t,isPreview:e},this.performScroll),"function"==typeof(n=this.adapter).visitRendered&&n.visitRendered(this),e?void 0:this.complete()}))):void 0},n.prototype.loadResponse=function(){return null!=this.response?this.render((function(){var e,t;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.complete())})):void 0},n.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},n.prototype.requestStarted=function(){var e;return this.recordTimingMetric("requestStart"),"function"==typeof(e=this.adapter).visitRequestStarted?e.visitRequestStarted(this):void 0},n.prototype.requestProgressed=function(e){var t;return this.progress=e,"function"==typeof(t=this.adapter).visitRequestProgressed?t.visitRequestProgressed(this):void 0},n.prototype.requestCompletedWithResponse=function(e,n){return this.response=e,null!=n&&(this.redirectedToLocation=t.Location.wrap(n)),this.adapter.visitRequestCompleted(this)},n.prototype.requestFailedWithStatusCode=function(e,t){return this.response=t,this.adapter.visitRequestFailedWithStatusCode(this,e)},n.prototype.requestFinished=function(){var e;return this.recordTimingMetric("requestEnd"),"function"==typeof(e=this.adapter).visitRequestFinished?e.visitRequestFinished(this):void 0},n.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},n.prototype.scrollToRestoredPosition=function(){var e,t;return null!=(e=null!=(t=this.restorationData)?t.scrollPosition:void 0)?(this.controller.scrollToPosition(e),!0):void 0},n.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},n.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},n.prototype.recordTimingMetric=function(e){var t;return null!=(t=this.timingMetrics)[e]?t[e]:t[e]=(new Date).getTime()},n.prototype.getTimingMetrics=function(){return t.copyObject(this.timingMetrics)},r=function(e){switch(e){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},n.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},n.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},n.prototype.render=function(e){return this.cancelRender(),this.frame=requestAnimationFrame(function(t){return function(){return t.frame=null,e.call(t)}}(this))},n.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},n}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.Controller=function(){function n(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new t.History(this),this.view=new t.View(this),this.scrollManager=new t.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return n.prototype.start=function(){return t.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},n.prototype.disable=function(){return this.enabled=!1},n.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},n.prototype.clearCache=function(){return this.cache=new t.SnapshotCache(10)},n.prototype.visit=function(e,n){var r,o;return null==n&&(n={}),e=t.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(r=null!=(o=n.action)?o:"advance",this.adapter.visitProposedToLocationWithAction(e,r)):window.location=e:void 0},n.prototype.startVisitToLocationWithAction=function(e,n,r){var o;return t.supported?(o=this.getRestorationDataForIdentifier(r),this.startVisit(e,n,{restorationData:o})):window.location=e},n.prototype.setProgressBarDelay=function(e){return this.progressBarDelay=e},n.prototype.startHistory=function(){return this.location=t.Location.wrap(window.location),this.restorationIdentifier=t.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.stopHistory=function(){return this.history.stop()},n.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,n){return this.restorationIdentifier=n,this.location=t.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},n.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,n){return this.restorationIdentifier=n,this.location=t.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,n){var r;return this.restorationIdentifier=n,this.enabled?(r=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:r,historyChanged:!0}),this.location=t.Location.wrap(e)):this.adapter.pageInvalidated()},n.prototype.getCachedSnapshotForLocation=function(e){var t;return null!=(t=this.cache.get(e))?t.clone():void 0},n.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},n.prototype.cacheSnapshot=function(){var e,n;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),n=this.view.getSnapshot(),e=this.lastRenderedLocation,t.defer(function(t){return function(){return t.cache.put(e,n.clone())}}(this))):void 0},n.prototype.scrollToAnchor=function(e){var t;return(t=this.view.getElementForAnchor(e))?this.scrollToElement(t):this.scrollToPosition({x:0,y:0})},n.prototype.scrollToElement=function(e){return this.scrollManager.scrollToElement(e)},n.prototype.scrollToPosition=function(e){return this.scrollManager.scrollToPosition(e)},n.prototype.scrollPositionChanged=function(e){return this.getCurrentRestorationData().scrollPosition=e},n.prototype.render=function(e,t){return this.view.render(e,t)},n.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},n.prototype.viewWillRender=function(e){return this.notifyApplicationBeforeRender(e)},n.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},n.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},n.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},n.prototype.clickBubbled=function(e){var t,n,r;return this.enabled&&this.clickEventIsSignificant(e)&&(n=this.getVisitableLinkForNode(e.target))&&(r=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,r)?(e.preventDefault(),t=this.getActionForLink(n),this.visit(r,{action:t})):void 0},n.prototype.applicationAllowsFollowingLinkToLocation=function(e,t){return!this.notifyApplicationAfterClickingLinkToLocation(e,t).defaultPrevented},n.prototype.applicationAllowsVisitingLocation=function(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented},n.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,n){return t.dispatch("turbolinks:click",{target:e,data:{url:n.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationBeforeVisitingLocation=function(e){return t.dispatch("turbolinks:before-visit",{data:{url:e.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationAfterVisitingLocation=function(e){return t.dispatch("turbolinks:visit",{data:{url:e.absoluteURL}})},n.prototype.notifyApplicationBeforeCachingSnapshot=function(){return t.dispatch("turbolinks:before-cache")},n.prototype.notifyApplicationBeforeRender=function(e){return t.dispatch("turbolinks:before-render",{data:{newBody:e}})},n.prototype.notifyApplicationAfterRender=function(){return t.dispatch("turbolinks:render")},n.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),t.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:e}})},n.prototype.startVisit=function(e,t,n){var r;return null!=(r=this.currentVisit)&&r.cancel(),this.currentVisit=this.createVisit(e,t,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(e)},n.prototype.createVisit=function(e,n,r){var o,i,a,s,l;return s=(i=null!=r?r:{}).restorationIdentifier,a=i.restorationData,o=i.historyChanged,(l=new t.Visit(this,e,n)).restorationIdentifier=null!=s?s:t.uuid(),l.restorationData=t.copyObject(a),l.historyChanged=o,l.referrer=this.location,l},n.prototype.visitCompleted=function(e){return this.notifyApplicationAfterPageLoad(e.getTimingMetrics())},n.prototype.clickEventIsSignificant=function(e){return!(e.defaultPrevented||e.target.isContentEditable||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)},n.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?t.closest(e,"a[href]:not([target]):not([download])"):void 0},n.prototype.getVisitableLocationForLink=function(e){var n;return n=new t.Location(e.getAttribute("href")),this.locationIsVisitable(n)?n:void 0},n.prototype.getActionForLink=function(e){var t;return null!=(t=e.getAttribute("data-turbolinks-action"))?t:"advance"},n.prototype.nodeIsVisitable=function(e){var n;return!(n=t.closest(e,"[data-turbolinks]"))||"false"!==n.getAttribute("data-turbolinks")},n.prototype.locationIsVisitable=function(e){return e.isPrefixedBy(this.view.getRootLocation())&&e.isHTML()},n.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},n.prototype.getRestorationDataForIdentifier=function(e){var t;return null!=(t=this.restorationData)[e]?t[e]:t[e]={}},n}()}.call(this),function(){!function(){var e,t;if((e=t=document.currentScript)&&!t.hasAttribute("data-turbolinks-suppress-warning"))for(;e=e.parentNode;)if(e===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",t.outerHTML)}()}.call(this),function(){var e,n,r;t.start=function(){return n()?(null==t.controller&&(t.controller=e()),t.controller.start()):void 0},n=function(){return null==window.Turbolinks&&(window.Turbolinks=t),r()},e=function(){var e;return(e=new t.Controller).adapter=new t.BrowserAdapter(e),e},(r=function(){return window.Turbolinks===t})()&&t.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}.call(this),function(e,t){function n(e,t){return typeof e===t}function r(){var e,t,r,o,i,a;for(var s in u)if(u.hasOwnProperty(s)){if(e=[],(t=u[s]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(r=0;r<t.options.aliases.length;r++)e.push(t.options.aliases[r].toLowerCase());for(o=n(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)1===(a=e[i].split(".")).length?f[a[0]]=o:(!f[a[0]]||f[a[0]]instanceof Boolean||(f[a[0]]=new Boolean(f[a[0]])),f[a[0]][a[1]]=o),l.push((o?"":"no-")+a.join("-"))}}function o(e){var t=p.className,n=f._config.classPrefix||"";if(d&&(t=t.baseVal),f._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}f._config.enableClasses&&(t+=" "+n+e.join(" "+n),d?p.className.baseVal=t:p.className=t)}function i(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):d?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function a(){var e=t.body;return e||((e=i(d?"svg":"body")).fake=!0),e}function s(e,n,r,o){var s,l,u,c,f="modernizr",d=i("div"),h=a();if(parseInt(r,10))for(;r--;)(u=i("div")).id=o?o[r]:f+(r+1),d.appendChild(u);return(s=i("style")).type="text/css",s.id="s"+f,(h.fake?h:d).appendChild(s),h.appendChild(d),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(t.createTextNode(e)),d.id=f,h.fake&&(h.style.background="",h.style.overflow="hidden",c=p.style.overflow,p.style.overflow="hidden",p.appendChild(h)),l=n(d,e),h.fake?(h.parentNode.removeChild(h),p.style.overflow=c,p.offsetHeight):d.parentNode.removeChild(d),!!l}var l=[],u=[],c={_version:"3.3.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){u.push({name:e,fn:t,options:n})},addAsyncTest:function(e){u.push({name:null,fn:e})}},f=function(){};f.prototype=c,f=new f;var p=t.documentElement,d="svg"===p.nodeName.toLowerCase(),h=c._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):[];c._prefixes=h;var v=c.testStyles=s;f.addTest("touchevents",(function(){var n;if("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)n=!0;else{var r=["@media (",h.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");v(r,(function(e){n=9===e.offsetTop}))}return n})),r(),o(l),delete c.addTest,delete c.addAsyncTest;for(var y=0;y<f._q.length;y++)f._q[y]();e.Modernizr=f}(window,document),function(){null==window.INTERFACES&&(window.INTERFACES={}),INTERFACES.modalLayer={show:function(){return this._domCreate(),this._domShow(),this._setupHideListeners()},hide:function(){return this._domHide(),this._removeHideListeners(),this._publishModalHide()},hideModals:function(){return $(".modal-layer .modal").hide()},showModals:function(){return $(".modal-layer .modal").show()},emptyAndPushModal:function(e){return this.show(),$(".modal-layer").empty().append(e)},pushAndEmptyModal:function(e){return this.show(),$(".modal-layer").append(e),$(".modal:not(:last-child)").remove()},_domCreate:function(){if(!$(".modal-layer").length)return function(){return $("body").append($('<div class="modal-layer">'))}()},_domShow:function(){return $("body").addClass("modal--open").find(".modal-layer").scrollTop(0)},_domHide:function(){return $("body").removeClass("modal--open")},_setupHideListeners:function(){return $(document).on("keyup",this._dispatchKeyupActions),$(document).on("click",".modal-layer",this._hideModalOnOutsideClick)},_removeHideListeners:function(){return $(document).off("keyup",this._dispatchKeyupActions),$(document).off("click",".modal-layer",this._hideModalOnOutsideClick)},_hideModalOnEscape:function(e){return"INPUT"===e.target.nodeName?INTERFACES.modalLayer._blurNode(e.target):INTERFACES.modalLayer.hide(),!1},_hideModalOnOutsideClick:function(e){if($(e.target).hasClass("modal-layer"))return INTERFACES.modalLayer.hide()},_dispatchKeyupActions:function(e){return 27===e.keyCode&&INTERFACES.modalLayer._hideModalOnEscape(e),!1},_blurNode:function(e){return $(e).blur()},_publishModalHide:function(){return $(document).trigger("modal:hide")}}}.call(this),function(){var e,t=function(e,t){
return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var o in t)r.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;null==window.INTERFACES&&(window.INTERFACES={}),null==(e=window.INTERFACES).errors&&(e.errors={}),INTERFACES.ModalView=function(){function e(e){this.content=null!=e?e:"",this._publishModalLoad=t(this._publishModalLoad,this),this._catchAndLogContentErrors=t(this._catchAndLogContentErrors,this),this.show=t(this.show,this),this._catchAndLogContentErrors()}return e.prototype.show=function(){return INTERFACES.modalLayer.emptyAndPushModal(this.content),this._publishModalLoad()},e.prototype._catchAndLogContentErrors=function(){return $(this.content)},e.prototype._publishModalLoad=function(){return $(document).trigger("modal:load")},e}(),INTERFACES.ModalPushView=function(e){function r(){return this.show=t(this.show,this),r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.show=function(){return INTERFACES.modalLayer.pushAndEmptyModal(this.content),this._publishModalLoad()},r}(INTERFACES.ModalView),INTERFACES.ModalIdView=function(e){function t(e){var n;this.id=e,n=$("#"+this.id).clone(),t.__super__.constructor.call(this,n)}return n(t,e),t}(INTERFACES.ModalView),INTERFACES.ModalUrlView=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t}(INTERFACES.ModalView)}.call(this),function(){}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};null==window.INTERFACES&&(window.INTERFACES={}),INTERFACES.Tab=function(){function t(t){this.id=null!=t?t:null,this._updateURL=e(this._updateURL,this),this._getTabContent=e(this._getTabContent,this),this._getTabListItem=e(this._getTabListItem,this),this.open=e(this.open,this),this.id}return t.prototype.open=function(){return new INTERFACES.TabList(this.id).unexpand(),new INTERFACES.TabListItem(this._getTabListItem()).open(),new INTERFACES.TabContent(this._getTabContent()).open(),this._updateURL(),this},t.prototype._getTabListItem=function(){return document.querySelector("[data-tab-content-id="+this.id+"]")},t.prototype._getTabContent=function(){return document.getElementById(this.id)},t.prototype._updateURL=function(){return("undefined"!=typeof history&&null!==history?history.replaceState:void 0)?history.replaceState({},"","#tab="+this.id):location.hash="tab="+this.id},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};null==window.INTERFACES&&(window.INTERFACES={}),INTERFACES.TabContent=function(){function t(t){null==t&&(t=null),this._getTabContentNodes=e(this._getTabContentNodes,this),this.closeAll=e(this.closeAll,this),this.open=e(this.open,this),t&&($(t).length?$(t).hasClass("tab-content")?this.node=$(t):console.warn("no tab with that id "+id):console.warn("no element with "+id+" in this DOM"))}return t.prototype.open=function(){return this.closeAll(),this.node.addClass("is-open"),this},t.prototype.closeAll=function(){return this._getTabContentNodes().removeClass("is-open")},t.prototype._getTabContentNodes=function(){return this.node.closest(".tab-content-group").find(".tab-content")},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};null==window.INTERFACES&&(window.INTERFACES={}),INTERFACES.TabList=function(){function t(t){null==t&&(t=null),this.toggle=e(this.toggle,this),this.unexpand=e(this.unexpand,this),this.expand=e(this.expand,this),t&&(this.node=$("[data-tab-content-id="+t+"]").closest(".tab-list"))}return t.prototype.expand=function(){return this.node.addClass("is-expanded")},t.prototype.unexpand=function(){return this.node.removeClass("is-expanded")},t.prototype.toggle=function(){return this.node.toggleClass("is-expanded")},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};null==window.INTERFACES&&(window.INTERFACES={}),INTERFACES.TabListItem=function(){function t(t){null==t&&(t=null),this._getTabListItems=e(this._getTabListItems,this),this.closeAll=e(this.closeAll,this),this.open=e(this.open,this),t&&(this.node=$(t))}return t.prototype.open=function(){return this.closeAll(),this.node.addClass("is-open"),this},t.prototype.closeAll=function(){return this._getTabListItems().removeClass("is-open")},t.prototype._getTabListItems=function(){return this.node.closest(".tab-list").find(".tab-list-item")},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};null==window.INTERFACES&&(window.INTERFACES={}),INTERFACES.Dropdown=function(){function t(t){this.toggle=e(this.toggle,this),this.node=$(t).closest(".dropdown")}return t.prototype.toggle=function(){return this.node.toggleClass("is-open")},t}()}.call(this),function(){null==window.INTERFACES&&(window.INTERFACES={}),INTERFACES.dataAPI={init:function(){if(!INTERFACES.dataAPI.isInitialized)return this._attachDocumentListeners(),this._attachDocumentActionHandlers(),this._attachDocumentActionTriggers(),INTERFACES.dataAPI.isInitialized=!0},showTriggeredModal:function(){var e;return e=this.getAttribute("data-modal-id"),new INTERFACES.ModalIdView(e).show()},createAndShowUrlModal:function(){var e,t,n;if(t=this.getAttribute("data-modal-url"))return e=$.get(t),n=(new INTERFACES.ModalView).show(),e.fail((function(e){return n.hide(),$(document).trigger("modal:error",[e])})),e.done((function(e){return(n=new INTERFACES.ModalUrlView(e)).show()}))},hideModalLayer:function(){return INTERFACES.modalLayer.hide()},triggerTabChange:function(){return $(document).trigger("tab:change",[this])},handleTabChange:function(e,t){var n;if(t)return n=t.getAttribute("data-tab-content-id"),$(t).hasClass("is-open")?new INTERFACES.TabList(n).toggle():new INTERFACES.Tab(n).open()},handleInstructionToggle:function(e){var t,n;return t=e.target.dataset.instructionId,(n=document.getElementById(t)).style.maxHeight?n.style.maxHeight="":n.style.maxHeight=n.scrollHeight+"px"},toggleDropdown:function(e){var t;return t=e.target,new INTERFACES.Dropdown(t).toggle()},_attachDocumentListeners:function(){return $(document).on("click","[data-modal-id]",this.showTriggeredModal).on("click","[data-modal-url]",this.createAndShowUrlModal).on("click","[data-modal-close]",this.hideModalLayer).on("click","[data-instruction-id]",this.handleInstructionToggle),$(document).on("click","[data-dropdown-toggle]",this.toggleDropdown)},_attachDocumentActionHandlers:function(){return $(document).on("tab:change",this.handleTabChange)},_attachDocumentActionTriggers:function(){return $(document).on("click","[data-tab-content-id]",this.triggerTabChange)}}}.call(this),function(){null==window.INTERFACES&&(window.INTERFACES={}),INTERFACES.hashAPI={init:function(){if(!INTERFACES.hashAPI.isInitialized)return this.activateHashContent(),INTERFACES.hashAPI.isInitialized=!0},activateHashContent:function(){var e;return this._hashIsTab()?this._showTab():this._hashIsModalPath()?(e=$.get(this._getModalPath()),(new INTERFACES.ModalView).show(),e.fail((function(e){return INTERFACES.modalLayer.hide(),$(document).trigger("modal:error",[e])})),void e.done((function(e){return new INTERFACES.ModalUrlView(e).show()}))):this._hashIsModal()?this._showModal():void 0},_showModal:function(){return new INTERFACES.ModalIdView(this._getModalHashSelector()).show()},_hashIsModal:function(){try{return $("#"+this._getModalHashSelector()).length}catch(e){}},_hashIsModalPath:function(){return this._getHashValue().match(/^modal-path\=/)},_hashIsTab:function(){return this._getHashValue().match(/^tab\=/)},_getHashValue:function(){return window.location.hash.slice(1)},_getTabId:function(){return this._getHashValue().split("=")[1]},_getModalPath:function(){return this._getHashValue().split("=")[1]},_showTab:function(){return new INTERFACES.Tab(this._getTabId()).open()},_getModalHashSelector:function(){if(this._getHashValue())return this._getHashValue()+".modal"}}}.call(this),function(){var e;e=("undefined"!=typeof Turbolinks&&null!==Turbolinks?Turbolinks.supported:void 0)?("undefined"!=typeof Turbolinks&&null!==Turbolinks?Turbolinks.controller:void 0)?"turbolinks:load":"page:change":"ready",$(document).on(e,(function(){return INTERFACES||console.warn("PCO Interfaces Warning:\n  No INTERFACES modulse have been loaded.\n  Be sure to place any INTERFACES initializers below your INTERFACES module definitions."),("undefined"!=typeof INTERFACES&&null!==INTERFACES?INTERFACES.dataAPI:void 0)||console.warn("PCO Interfaces Warning:\n  The INTERFACES.dataAPI module has not been loaded.\n  Be sure to include INTERFACES.dataAPI"),("undefined"!=typeof INTERFACES&&null!==INTERFACES?INTERFACES.hashAPI:void 0)||console.warn("PCO Interfaces Warning:\n  The INTERFACES.hashAPI module has not been loaded.\n  Be sure to include INTERFACES.dataAPI"),INTERFACES.dataAPI.init(),INTERFACES.hashAPI.init()}))}.call(this),function(){null==window.INTERFACES&&(window.INTERFACES={}),INTERFACES.helpers={form:{focusFirstInput:function(e){return null==e&&(e="body"),$(e).find(":input:enabled:visible:not([type=date]):first").focus()}}}}.call(this),function(){null==window.INTERFACES&&(window.INTERFACES={}),INTERFACES.utils={unfakepath:function(e){return e.replace("C:\\fakepath\\","")}}}.call(this),function(){var e;e={a:"ddd",A:"dddd",b:"MMM",B:"MMMM",d:"DD",H:"HH",I:"hh",j:"DDDD",l:"h","-l":"h","-k":"H",m:"MM",M:"mm",P:"a",p:"A",S:"ss",Z:"z",w:"d",y:"YY",Y:"YYYY","%":"%"},moment.fn.strftime=function(t){var n,r,o;for(n in r=t,e)o=e[n],r=r.replace("%"+n,o);return this.format(r)}}.call(this),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t(require,exports,module):e.Tether=t()}(this,(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e){var t=(getComputedStyle(e)||{}).position,n=[];if("fixed"===t)return[e];for(var r=e;(r=r.parentNode)&&r&&1===r.nodeType;){var o=void 0;try{o=getComputedStyle(r)}catch(e){}if(null==o)return n.push(r),n;var i=o,a=i.overflow,s=i.overflowX,l=i.overflowY;/(auto|scroll)/.test(a+l+s)&&("absolute"!==t||["relative","absolute","fixed"].indexOf(o.position)>=0)&&n.push(r)}return n.push(document.body),n}function n(){_&&document.body.removeChild(_),_=null}function r(e){var t=void 0;e===document?(t=document,e=document.documentElement):t=e.ownerDocument;var n=t.documentElement,r={},o=e.getBoundingClientRect();for(var i in o)r[i]=o[i];var a=E();return r.top-=a.top,r.left-=a.left,void 0===r.width&&(r.width=document.body.scrollWidth-r.left-r.right),void 0===r.height&&(r.height=document.body.scrollHeight-r.top-r.bottom),r.top=r.top-n.clientTop,r.left=r.left-n.clientLeft,r.right=t.body.clientWidth-r.width-r.left,r.bottom=t.body.clientHeight-r.height-r.top,r}function o(e){return e.offsetParent||document.documentElement}function i(){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");a(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var r=e.offsetWidth;n===r&&(r=t.clientWidth),document.body.removeChild(t);var o=n-r;return{width:o,height:o}}function a(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach((function(t){if(t)for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}function s(e,t){if(void 0!==e.classList)t.split(" ").forEach((function(t){t.trim()&&e.classList.remove(t)}));else{var n=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),r=c(e).replace(n," ");f(e,r)}}function l(e,t){if(void 0!==e.classList)t.split(" ").forEach((function(t){t.trim()&&e.classList.add(t)}));else{s(e,t);var n=c(e)+" "+t;f(e,n)}}function u(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=c(e);return new RegExp("(^| )"+t+"( |$)","gi").test(n)}function c(e){return e.className instanceof SVGAnimatedString?e.className.baseVal:e.className}function f(e,t){e.setAttribute("class",t)}function p(e,t,n){n.forEach((function(n){-1===t.indexOf(n)&&u(e,n)&&s(e,n)})),t.forEach((function(t){u(e,t)||l(e,t)}))}function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e,t){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return e+n>=t&&t>=e-n}function v(){return"undefined"!=typeof performance&&void 0!==performance.now?performance.now():+new Date}function y(){for(var e={top:0,left:0},t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){var n=t.top,r=t.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof r&&(r=parseFloat(r,10)),e.top+=n,e.left+=r})),e}function m(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e}function g(e,t){var n,o,i;return"scrollParent"===t?t=e.scrollParents[0]:"window"===t&&(t=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),t===document&&(t=t.documentElement),void 0!==t.nodeType&&(n=r(t),o=n,i=getComputedStyle(t),t=[o.left,o.top,n.width+o.left,n.height+o.top],Y.forEach((function(e,n){"Top"===(e=e[0].toUpperCase()+e.substr(1))||"Left"===e?t[n]+=parseFloat(i["border"+e+"Width"]):t[n]-=parseFloat(i["border"+e+"Width"])}))),t}var b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=void 0;void 0===w&&(w={modules:[]});var _=null,S=function(){var e=0;return function(){return++e}}(),C={},E=function(){var e=_;e||((e=document.createElement("div")).setAttribute("data-tether-id",S()),a(e.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(e),_=e);var t=e.getAttribute("data-tether-id");if(void 0===C[t]){C[t]={};var n=e.getBoundingClientRect();for(var r in n)C[t][r]=n[r];P((function(){delete C[t]}))}return C[t]},T=[],P=function(e){T.push(e)},O=function(){for(var e=void 0;e=T.pop();)e()},k=function(){function t(){e(this,t)}return b(t,[{key:"on",value:function(e,t,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:r})}},{key:"once",value:function(e,t,n){this.on(e,t,n,!0)}},{key:"off",value:function(e,t){if(void 0!==this.bindings&&void 0!==this.bindings[e])if(void 0===t)delete this.bindings[e];else for(var n=0;n<this.bindings[e].length;)this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):++n}},{key:"trigger",value:function(e){if(void 0!==this.bindings&&this.bindings[e]){for(var t=0,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(;t<this.bindings[e].length;){var i=this.bindings[e][t],a=i.handler,s=i.ctx,l=i.once,u=s;void 0===u&&(u=this),a.apply(u,r),l?this.bindings[e].splice(t,1):++t}}}}]),t}();w.Utils={getScrollParents:t,getBounds:r,getOffsetParent:o,extend:a,addClass:l,removeClass:s,hasClass:u,updateClasses:p,defer:P,flush:O,uniqueId:S,Evented:k,getScrollBarSize:i,removeUtilElements:n};var x=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=(b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}});if(void 0===w)throw new Error("You must include the utils.js file before tether.js");var R,I,j,F,t=(G=w.Utils).getScrollParents,o=(r=G.getBounds,G.getOffsetParent),l=(a=G.extend,G.addClass),s=G.removeClass,i=(p=G.updateClasses,P=G.defer,O=G.flush,G.getScrollBarSize),n=G.removeUtilElements,M=function(){if("undefined"==typeof document)return"";for(var e=document.createElement("div"),t=["transform","webkitTransform","OTransform","MozTransform","msTransform"],n=0;n<t.length;++n){var r=t[n];if(void 0!==e.style[r])return r}}(),N=[],L=function(){N.forEach((function(e){e.position(!1)})),O()};R=null,I=null,j=null,F=function e(){if(void 0!==I&&I>16)return I=Math.min(I-16,250),void(j=setTimeout(e,250));void 0!==R&&v()-R<10||(null!=j&&(clearTimeout(j),j=null),R=v(),L(),I=v()-R)},"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach((function(e){window.addEventListener(e,F)}));var D={center:"center",left:"right",right:"left"},q={middle:"middle",top:"bottom",bottom:"top"},B={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},U=function(e,t){var n=e.left,r=e.top;return"auto"===n&&(n=D[t.left]),"auto"===r&&(r=q[t.top]),{left:n,top:r}},H=function(e){var t=e.left,n=e.top;return void 0!==B[e.left]&&(t=B[e.left]),void 0!==B[e.top]&&(n=B[e.top]),{left:t,top:n}},$=function(e){var t=e.split(" "),n=x(t,2);return{top:n[0],left:n[1]}},V=$,z=function(u){function c(t){var n=this;e(this,c),A(Object.getPrototypeOf(c.prototype),"constructor",this).call(this),this.position=this.position.bind(this),N.push(this),this.history=[],this.setOptions(t,!1),w.modules.forEach((function(e){void 0!==e.initialize&&e.initialize.call(n)})),this.position()}return d(c,u),b(c,[{key:"getClass",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.options.classes;return void 0!==t&&t[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function(e){var n=this,r=arguments.length<=1||void 0===arguments[1]||arguments[1],o={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=a(o,e);var i=this.options,s=i.element,u=i.target,c=i.targetModifier;if(this.element=s,this.target=u,this.targetModifier=c,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach((function(e){if(void 0===n[e])throw new Error("Tether Error: Both element and target must be defined");void 0!==n[e].jquery?n[e]=n[e][0]:"string"==typeof n[e]&&(n[e]=document.querySelector(n[e]))})),l(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&l(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=V(this.options.targetAttachment),this.attachment=V(this.options.attachment),this.offset=$(this.options.offset),this.targetOffset=$(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=t(this.target),!1!==this.options.enabled&&this.enable(r)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return r(this.target);if("visible"===this.targetModifier)return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:((a={height:(e=r(this.target)).height,width:e.width,top:e.top,left:e.left}).height=Math.min(a.height,e.height-(pageYOffset-e.top)),a.height=Math.min(a.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),a.height=Math.min(innerHeight,a.height),a.height-=2,a.width=Math.min(a.width,e.width-(pageXOffset-e.left)),a.width=Math.min(a.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),a.width=Math.min(innerWidth,a.width),a.width-=2,a.top<pageYOffset&&(a.top=pageYOffset),a.left<pageXOffset&&(a.left=pageXOffset),a);if("scroll-handle"===this.targetModifier){var e=void 0,t=this.target;t===document.body?(t=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=r(t);var n=getComputedStyle(t),o=0;(t.scrollWidth>t.clientWidth||[n.overflow,n.overflowX].indexOf("scroll")>=0||this.target!==document.body)&&(o=15);var i=e.height-parseFloat(n.borderTopWidth)-parseFloat(n.borderBottomWidth)-o,a={width:15,height:.975*i*(i/t.scrollHeight),left:e.left+e.width-parseFloat(n.borderLeftWidth)-15},s=0;i<408&&this.target===document.body&&(s=-11e-5*Math.pow(i,2)-.00727*i+22.58),this.target!==document.body&&(a.height=Math.max(a.height,24));var l=this.target.scrollTop/(t.scrollHeight-i);return a.top=l*(i-a.height-s)+e.top+parseFloat(n.borderTopWidth),this.target===document.body&&(a.height=Math.max(a.height,24)),a}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(e,t){return void 0===this._cache&&(this._cache={}),void 0===this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]}},{key:"enable",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&l(this.target,this.getClass("enabled")),l(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach((function(t){t!==document&&t.addEventListener("scroll",e.position)})),t&&this.position()}},{key:"disable",value:function(){var e=this;s(this.target,this.getClass("enabled")),s(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.position)}))}},{key:"destroy",value:function(){var e=this;this.disable(),N.forEach((function(t,n){t===e&&N.splice(n,1)})),0===N.length&&n()}},{key:"updateAttachClasses",value:function(e,t){var n=this;e=e||this.attachment,t=t||this.targetAttachment;var r=["left","top","bottom","right","middle","center"];void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var o=this._addAttachClasses;e.top&&o.push(this.getClass("element-attached")+"-"+e.top),e.left&&o.push(this.getClass("element-attached")+"-"+e.left),t.top&&o.push(this.getClass("target-attached")+"-"+t.top),t.left&&o.push(this.getClass("target-attached")+"-"+t.left);var i=[];r.forEach((function(e){i.push(n.getClass("element-attached")+"-"+e),i.push(n.getClass("target-attached")+"-"+e)})),P((function(){void 0!==n._addAttachClasses&&(p(n.element,n._addAttachClasses,i),!1!==n.options.addTargetClasses&&p(n.target,n._addAttachClasses,i),delete n._addAttachClasses)}))}},{key:"position",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n=U(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var a=this.cache("element-bounds",(function(){return r(e.element)})),s=a.width,l=a.height;if(0===s&&0===l&&void 0!==this.lastSize){var u=this.lastSize;s=u.width,l=u.height}else this.lastSize={width:s,height:l};var c=this.cache("target-bounds",(function(){return e.getTargetBounds()})),f=c,p=m(H(this.attachment),{width:s,height:l}),d=m(H(n),f),h=m(this.offset,{width:s,height:l}),v=m(this.targetOffset,f);p=y(p,h),d=y(d,v);for(var g=c.left+d.left-p.left,b=c.top+d.top-p.top,_=0;_<w.modules.length;++_){var S=w.modules[_].position.call(this,{left:g,top:b,targetAttachment:n,targetPos:c,elementPos:a,offset:p,targetOffset:d,manualOffset:h,manualTargetOffset:v,scrollbarSize:E,attachment:this.attachment});if(!1===S)return!1;void 0!==S&&"object"==typeof S&&(b=S.top,g=S.left)}var C={page:{top:b,left:g},viewport:{top:b-pageYOffset,bottom:pageYOffset-b-l+innerHeight,left:g-pageXOffset,right:pageXOffset-g-s+innerWidth}},E=void 0;return document.body.scrollWidth>window.innerWidth&&(E=this.cache("scrollbar-size",i),C.viewport.bottom-=E.height),document.body.scrollHeight>window.innerHeight&&(E=this.cache("scrollbar-size",i),C.viewport.right-=E.width),-1!==["","static"].indexOf(document.body.style.position)&&-1!==["","static"].indexOf(document.body.parentElement.style.position)||(C.page.bottom=document.body.scrollHeight-b-l,C.page.right=document.body.scrollWidth-g-s),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var t=e.cache("target-offsetparent",(function(){return o(e.target)})),n=e.cache("target-offsetparent-bounds",(function(){return r(t)})),i=getComputedStyle(t),a=n,s={};if(["Top","Left","Bottom","Right"].forEach((function(e){s[e.toLowerCase()]=parseFloat(i["border"+e+"Width"])})),n.right=document.body.scrollWidth-n.left-a.width+s.right,n.bottom=document.body.scrollHeight-n.top-a.height+s.bottom,C.page.top>=n.top+s.top&&C.page.bottom>=n.bottom&&C.page.left>=n.left+s.left&&C.page.right>=n.right){var l=t.scrollTop,u=t.scrollLeft;C.offset={top:C.page.top-n.top+l-s.top,left:C.page.left-n.left+u-s.left}}}(),this.move(C),this.history.unshift(C),this.history.length>3&&this.history.pop(),t&&O(),!0}}},{key:"move",value:function(e){var t=this;if(void 0!==this.element.parentNode){var n={};for(var r in e)for(var i in n[r]={},e[r]){for(var s=!1,l=0;l<this.history.length;++l){var u=this.history[l];if(void 0!==u[r]&&!h(u[r][i],e[r][i])){s=!0;break}}s||(n[r][i]=!0)}var c={top:"",left:"",right:"",bottom:""},f=function(e,n){if(!1!==(void 0!==t.options.optimizations?t.options.optimizations.gpu:null)){var r=void 0,o=void 0;e.top?(c.top=0,r=n.top):(c.bottom=0,r=-n.bottom),e.left?(c.left=0,o=n.left):(c.right=0,o=-n.right),c[M]="translateX("+Math.round(o)+"px) translateY("+Math.round(r)+"px)","msTransform"!==M&&(c[M]+=" translateZ(0)")}else e.top?c.top=n.top+"px":c.bottom=n.bottom+"px",e.left?c.left=n.left+"px":c.right=n.right+"px"},p=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(c.position="absolute",f(n.page,e.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(c.position="fixed",f(n.viewport,e.viewport)):void 0!==n.offset&&n.offset.top&&n.offset.left?function(){c.position="absolute";var r=t.cache("target-offsetparent",(function(){return o(t.target)}));o(t.element)!==r&&P((function(){t.element.parentNode.removeChild(t.element),r.appendChild(t.element)})),f(n.offset,e.offset),p=!0}():(c.position="absolute",f({top:!0,left:!0},e.page)),!p){for(var d=!0,v=this.element.parentNode;v&&1===v.nodeType&&"BODY"!==v.tagName;){if("static"!==getComputedStyle(v).position){d=!1;break}v=v.parentNode}d||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element))}var y={},m=!1;for(var i in c){var g=c[i];this.element.style[i]!==g&&(m=!0,y[i]=g)}m&&P((function(){a(t.element.style,y)}))}}}]),c}(k);z.modules=[],w.position=L;var W=a(z,w),a=(x=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=(G=w.Utils).getBounds,G.extend),Y=(p=G.updateClasses,P=G.defer,["left","top","right","bottom"]);w.modules.push({position:function(e){var t=this,n=e.top,o=e.left,i=e.targetAttachment;if(!this.options.constraints)return!0;var s=this.cache("element-bounds",(function(){return r(t.element)})),l=s.height,u=s.width;if(0===u&&0===l&&void 0!==this.lastSize){var c=this.lastSize;u=c.width,l=c.height}var f=this.cache("target-bounds",(function(){return t.getTargetBounds()})),d=f.height,h=f.width,v=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach((function(e){var t=e.outOfBoundsClass,n=e.pinnedClass;t&&v.push(t),n&&v.push(n)})),v.forEach((function(e){["left","top","right","bottom"].forEach((function(t){v.push(e+"-"+t)}))}));var y=[],m=a({},i),b=a({},this.attachment);return this.options.constraints.forEach((function(e){var r=e.to,a=e.attachment,s=e.pin;void 0===a&&(a="");var c=void 0,f=void 0;if(a.indexOf(" ")>=0){var p=a.split(" "),v=x(p,2);f=v[0],c=v[1]}else c=f=a;var w=g(t,r);"target"!==f&&"both"!==f||(n<w[1]&&"top"===m.top&&(n+=d,m.top="bottom"),n+l>w[3]&&"bottom"===m.top&&(n-=d,m.top="top")),"together"===f&&("top"===m.top&&("bottom"===b.top&&n<w[1]?(n+=d,m.top="bottom",n+=l,b.top="top"):"top"===b.top&&n+l>w[3]&&n-(l-d)>=w[1]&&(n-=l-d,m.top="bottom",b.top="bottom")),"bottom"===m.top&&("top"===b.top&&n+l>w[3]?(n-=d,m.top="top",n-=l,b.top="bottom"):"bottom"===b.top&&n<w[1]&&n+(2*l-d)<=w[3]&&(n+=l-d,m.top="top",b.top="top")),"middle"===m.top&&(n+l>w[3]&&"top"===b.top?(n-=l,b.top="bottom"):n<w[1]&&"bottom"===b.top&&(n+=l,b.top="top"))),"target"!==c&&"both"!==c||(o<w[0]&&"left"===m.left&&(o+=h,m.left="right"),o+u>w[2]&&"right"===m.left&&(o-=h,m.left="left")),"together"===c&&(o<w[0]&&"left"===m.left?"right"===b.left?(o+=h,m.left="right",o+=u,b.left="left"):"left"===b.left&&(o+=h,m.left="right",o-=u,b.left="right"):o+u>w[2]&&"right"===m.left?"left"===b.left?(o-=h,m.left="left",o-=u,b.left="right"):"right"===b.left&&(o-=h,m.left="left",o+=u,b.left="left"):"center"===m.left&&(o+u>w[2]&&"left"===b.left?(o-=u,b.left="right"):o<w[0]&&"right"===b.left&&(o+=u,b.left="left"))),"element"!==f&&"both"!==f||(n<w[1]&&"bottom"===b.top&&(n+=l,b.top="top"),n+l>w[3]&&"top"===b.top&&(n-=l,b.top="bottom")),"element"!==c&&"both"!==c||(o<w[0]&&("right"===b.left?(o+=u,b.left="left"):"center"===b.left&&(o+=u/2,b.left="left")),o+u>w[2]&&("left"===b.left?(o-=u,b.left="right"):"center"===b.left&&(o-=u/2,b.left="right"))),"string"==typeof s?s=s.split(",").map((function(e){return e.trim()})):!0===s&&(s=["top","left","right","bottom"]),s=s||[];var _,S,C=[],E=[];n<w[1]&&(s.indexOf("top")>=0?(n=w[1],C.push("top")):E.push("top")),n+l>w[3]&&(s.indexOf("bottom")>=0?(n=w[3]-l,C.push("bottom")):E.push("bottom")),o<w[0]&&(s.indexOf("left")>=0?(o=w[0],C.push("left")):E.push("left")),o+u>w[2]&&(s.indexOf("right")>=0?(o=w[2]-u,C.push("right")):E.push("right")),C.length&&(_=void 0,_=void 0!==t.options.pinnedClass?t.options.pinnedClass:t.getClass("pinned"),y.push(_),C.forEach((function(e){y.push(_+"-"+e)}))),E.length&&(S=void 0,S=void 0!==t.options.outOfBoundsClass?t.options.outOfBoundsClass:t.getClass("out-of-bounds"),y.push(S),E.forEach((function(e){y.push(S+"-"+e)}))),(C.indexOf("left")>=0||C.indexOf("right")>=0)&&(b.left=m.left=!1),(C.indexOf("top")>=0||C.indexOf("bottom")>=0)&&(b.top=m.top=!1),m.top===i.top&&m.left===i.left&&b.top===t.attachment.top&&b.left===t.attachment.left||(t.updateAttachClasses(b,m),t.trigger("update",{attachment:b,targetAttachment:m}))})),P((function(){!1!==t.options.addTargetClasses&&p(t.target,y,v),p(t.element,y,v)})),{top:n,left:o}}});var G,r=(G=w.Utils).getBounds,p=G.updateClasses;P=G.defer;w.modules.push({position:function(e){var t=this,n=e.top,o=e.left,i=this.cache("element-bounds",(function(){return r(t.element)})),a=i.height,s=i.width,l=this.getTargetBounds(),u=n+a,c=o+s,f=[];n<=l.bottom&&u>=l.top&&["left","right"].forEach((function(e){var t=l[e];t!==o&&t!==c||f.push(e)})),o<=l.right&&c>=l.left&&["top","bottom"].forEach((function(e){var t=l[e];t!==n&&t!==u||f.push(e)}));var d=[],h=[],v=["left","top","right","bottom"];return d.push(this.getClass("abutted")),v.forEach((function(e){d.push(t.getClass("abutted")+"-"+e)})),f.length&&h.push(this.getClass("abutted")),f.forEach((function(e){h.push(t.getClass("abutted")+"-"+e)})),P((function(){!1!==t.options.addTargetClasses&&p(t.target,h,d),p(t.element,h,d)})),!0}});x=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n)
;throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return w.modules.push({position:function(e){var t=e.top,n=e.left;if(this.options.shift){var r=this.options.shift;"function"==typeof this.options.shift&&(r=this.options.shift.call(this,{top:t,left:n}));var o=void 0,i=void 0;if("string"==typeof r){(r=r.split(" "))[1]=r[1]||r[0];var a=x(r,2);o=a[0],i=a[1],o=parseFloat(o,10),i=parseFloat(i,10)}else o=r.top,i=r.left;return{top:t+=o,left:n+=i}}}}),W})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom"),require("get-node-dimensions"),require("resize-observer-polyfill")):"function"==typeof define&&define.amd?define(["react","react-dom","get-node-dimensions","resize-observer-polyfill"],t):"object"==typeof exports?exports.Measure=t(require("react"),require("react-dom"),require("get-node-dimensions"),require("resize-observer-polyfill")):e.Measure=t(e.React,e.ReactDOM,e.getNodeDimensions,e.ResizeObserver)}(this,(function(e,t,n,r){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1));t.default=o.default,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),c=(r(u),r(n(3))),f=r(n(4)),p="undefined"!=typeof window;p&&!window.ResizeObserver&&(window.ResizeObserver=n(5));var d=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.measure=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props.includeMargin,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props.useClone;if(n.props.shouldMeasure){n._node.parentNode||n._setDOMNode();var r=n.getDimensions(n._node,e,t),o="function"==typeof n.props.children;n._propsToMeasure.some((function(e){if(r[e]!==n._lastDimensions[e])return n._animationFrameID=window.requestAnimationFrame((function(){n.props.onMeasure(r),o&&void 0!==n&&n.setState({dimensions:r}),n._lastDimensions=r})),!0}))}},n.state={dimensions:{width:0,height:0,top:0,right:0,bottom:0,left:0}},n._node=null,n._propsToMeasure=n._getPropsToMeasure(e),n._lastDimensions={},n}return a(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;this._setDOMNode(),this.measure(),p&&(this.resizeObserver=new ResizeObserver((function(){return e.measure()})),this.resizeObserver.observe(this._node))}},{key:"componentWillReceiveProps",value:function(e){e.config;var t=e.whitelist,n=e.blacklist;this.props.whitelist===t&&this.props.blacklist===n||(this._propsToMeasure=this._getPropsToMeasure({whitelist:t,blacklist:n}))}},{key:"componentWillUnmount",value:function(){p&&this.resizeObserver.disconnect(this._node),this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID),this._node=null}},{key:"_setDOMNode",value:function(){this._node=c.default.findDOMNode(this)}},{key:"getDimensions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._node,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.includeMargin,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props.useClone,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.props.cloneOptions;return(0,f.default)(e,s({margin:t,clone:n},r))}},{key:"_getPropsToMeasure",value:function(e){var t=e.whitelist,n=e.blacklist;return t.filter((function(e){return n.indexOf(e)<0}))}},{key:"render",value:function(){var e=this.props.children;return u.Children.only("function"==typeof e?e(this.state.dimensions):e)}}]),t}(u.Component);d.defaultProps={whitelist:["width","height","top","right","bottom","left"],blacklist:[],includeMargin:!0,useClone:!1,cloneOptions:{},shouldMeasure:!0,onMeasure:function(){return null}},t.default=d,e.exports=t.default},function(t){t.exports=e},function(e){e.exports=t},function(e){e.exports=n},function(e){e.exports=r}])})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-measure")):"function"==typeof define&&define.amd?define(["react","react-measure"],t):"object"==typeof exports?exports.ReactComponentQuery=t(require("react"),require("react-measure")):e.ReactComponentQuery=t(e.React,e.Measure)}(this,(function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.withComponentQueries=t.matchQueries=void 0;var o=r(n(1)),i=r(n(2));t.matchQueries=o.default,t.withComponentQueries=i.default},function(e,t){"use strict";function n(e,t){var n=t.width,o=t.height,i={},a={};return e.forEach((function(e){var t=e.name,s=e.breakpoint,l=s.minWidth,u=void 0===l?0:l,c=s.maxWidth,f=void 0===c?1/0:c,p=s.minHeight,d=void 0===p?0:p,h=s.maxHeight,v=void 0===h?1/0:h,y=e.props,m=u<=n&&n<=f&&d<=o&&o<=v;i[t]=m,m&&y&&(a=r({},a,y))})),{matchedQueries:i,matchedProps:a}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return function(n){function r(){var e,n,a;o(this,r);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=a=i(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(l))),a.state={matchedQueries:{},matchedProps:{},dimensions:{}},a._handleMeasure=function(e){var n=(0,d.default)(t,e),r=n.matchedQueries,o=n.matchedProps;a.setState({matchedQueries:r,matchedProps:o,dimensions:e})},i(a,n)}return a(r,n),u(r,[{key:"render",value:function(){return f.default.createElement(p.default,{onMeasure:this._handleMeasure},f.default.createElement(e,l({},this.state,this.props)))}}]),r}(c.Component)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=s;var c=n(3),f=r(c),p=r(n(4)),d=r(n(1));e.exports=t.default},function(t){t.exports=e},function(e){e.exports=t}])})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactMotion=t(require("react")):e.ReactMotion=t(e.React)}(this,(function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="build/",t(0)}([function(e,t,n){function r(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var o=n(1);t.Motion=r(o);var i=n(18);t.StaggeredMotion=r(i);var a=n(19);t.TransitionMotion=r(a);var s=n(21);t.spring=r(s);var l=n(22);t.presets=r(l);var u=n(3);t.stripStyle=r(u);var c=n(23);t.reorderKeys=r(c)},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=r(n(2)),u=r(n(3)),c=r(n(4)),f=r(n(5)),p=r(n(7)),d=r(n(8)),h=r(n(9)),v=r(n(10)),y=1e3/60,m=function(e){function t(n){var r=this;o(this,t),e.call(this,n),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,n=r.state,o=n.currentStyle,i=n.currentVelocity,s=n.lastIdealStyle,l=n.lastIdealVelocity;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var c=e[u];"number"==typeof c&&(t||(t=!0,o=a({},o),i=a({},i),s=a({},s),l=a({},l)),o[u]=c,i[u]=0,s[u]=c,l[u]=0)}t&&r.setState({currentStyle:o,currentVelocity:i,lastIdealStyle:s,lastIdealVelocity:l})},this.startAnimationIfNecessary=function(){r.animationID=p.default((function(e){var t=r.props.style;if(d.default(r.state.currentStyle,t,r.state.currentVelocity))return r.wasAnimating&&r.props.onRest&&r.props.onRest(),r.animationID=null,r.wasAnimating=!1,void(r.accumulatedTime=0);r.wasAnimating=!0;var n=e||f.default(),o=n-r.prevTime;if(r.prevTime=n,r.accumulatedTime=r.accumulatedTime+o,r.accumulatedTime>10*y&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();var i=(r.accumulatedTime-Math.floor(r.accumulatedTime/y)*y)/y,a=Math.floor(r.accumulatedTime/y),s={},l={},u={},p={};for(var h in t)if(Object.prototype.hasOwnProperty.call(t,h)){var v=t[h];if("number"==typeof v)u[h]=v,p[h]=0,s[h]=v,l[h]=0;else{for(var m=r.state.lastIdealStyle[h],g=r.state.lastIdealVelocity[h],b=0;b<a;b++){var w=c.default(y/1e3,m,g,v.val,v.stiffness,v.damping,v.precision);m=w[0],g=w[1]}var _=c.default(y/1e3,m,g,v.val,v.stiffness,v.damping,v.precision),S=_[0],C=_[1];u[h]=m+(S-m)*i,p[h]=g+(C-g)*i,s[h]=m,l[h]=g}}r.animationID=null,r.accumulatedTime-=a*y,r.setState({currentStyle:u,currentVelocity:p,lastIdealStyle:s,lastIdealVelocity:l}),r.unreadPropStyle=null,r.startAnimationIfNecessary()}))},this.state=this.defaultState()}return i(t,e),s(t,null,[{key:"propTypes",value:{defaultStyle:v.default.objectOf(v.default.number),style:v.default.objectOf(v.default.oneOfType([v.default.number,v.default.object])).isRequired,children:v.default.func.isRequired,onRest:v.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,n=e.style,r=t||u.default(n),o=l.default(r);return{currentStyle:r,currentVelocity:o,lastIdealStyle:r,lastIdealVelocity:o}},t.prototype.componentDidMount=function(){this.prevTime=f.default(),this.startAnimationIfNecessary()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=f.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(p.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&h.default.Children.only(e)},t}(h.default.Component);t.default=m,e.exports=t.default},function(e,t){function n(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t}t.__esModule=!0,t.default=n,e.exports=t.default},function(e,t){function n(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"==typeof e[n]?e[n]:e[n].val);return t}t.__esModule=!0,t.default=n,e.exports=t.default},function(e,t){function n(e,t,n,o,i,a,s){var l=n+(-i*(t-o)+-a*n)*e,u=t+l*e;return Math.abs(l)<s&&Math.abs(u-o)<s?(r[0]=o,r[1]=0,r):(r[0]=u,r[1]=l,r)}t.__esModule=!0,t.default=n;var r=[0,0];e.exports=t.default},function(e,t,n){(function(t){(function(){var n,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-o)/1e6},r=t.hrtime,o=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})()):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(void 0)}).call(t,n(6))},function(e){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===t||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function i(){h&&p&&(h=!1,p.length?d=p.concat(d):v=-1,d.length&&a())}function a(){if(!h){var e=r(i);h=!0;for(var t=d.length;t;){for(p=d,d=[];++v<t;)p&&p[v].run();v=-1,t=d.length}p=null,h=!1,o(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var u,c,f=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:t}catch(e){u=t}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var p,d=[],h=!1,v=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new s(e,t)),1!==d.length||h||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){(function(t){for(var r=n(5),o="undefined"==typeof window?t:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],l=o["cancel"+a]||o["cancelRequest"+a],u=0;!s&&u<i.length;u++)s=o[i[u]+"Request"+a],l=o[i[u]+"Cancel"+a]||o[i[u]+"CancelRequest"+a];if(!s||!l){var c=0,f=0,p=[],d=1e3/60;s=function(e){if(0===p.length){var t=r(),n=Math.max(0,d-(t-c));c=n+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return p.push({handle:++f,callback:e,cancelled:!1}),f},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){l.apply(o,arguments)},e.exports.polyfill=function(){o.requestAnimationFrame=s,o.cancelAnimationFrame=l}}).call(t,function(){return this}())},function(e,t){function n(e,t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(0!==n[r])return!1;var o="number"==typeof t[r]?t[r]:t[r].val;if(e[r]!==o)return!1}return!0}t.__esModule=!0,t.default=n,e.exports=t.default},function(t){t.exports=e},function(e,t,n){(function(t){if("production"!==t.env.NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},i=!0;e.exports=n(11)(o,i)}else e.exports=n(17)()}).call(t,n(6))},function(e,t,n){(function(t){var r=n(12),o=n(13),i=n(14),a=n(15),s=n(16);e.exports=function(e,n){function l(e){var t=e&&(O&&e[O]||e[k]);if("function"==typeof t)return t}function u(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function c(e){this.message=e,this.stack=""}function f(e){function r(r,u,f,p,d,h,v){if(p=p||x,h=h||f,v!==a)if(n)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var y=p+":"+f;!s[y]&&l<3&&(i(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",h,p),s[y]=!0,l++)}return null==u[f]?r?null===u[f]?new c("The "+d+" `"+h+"` is marked as required in `"+p+"`, but its value is `null`."):new c("The "+d+" `"+h+"` is marked as required in `"+p+"`, but its value is `undefined`."):null:e(u,f,p,d,h)}if("production"!==t.env.NODE_ENV)var s={},l=0;var u=r.bind(null,!1);return u.isRequired=r.bind(null,!0),u}function p(e){function t(t,n,r,o,i){var a=t[n];return E(a)!==e?new c("Invalid "+o+" `"+i+"` of type `"+T(a)+"` supplied to `"+r+"`, expected `"+e+"`."):null}return f(t)}function d(){return f(r.thatReturnsNull)}function h(e){function t(t,n,r,o,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new c("Invalid "+o+" `"+i+"` of type `"+E(s)+"` supplied to `"+r+"`, expected an array.");for(var l=0;l<s.length;l++){var u=e(s,l,r,o,i+"["+l+"]",a);if(u instanceof Error)return u}return null}return f(t)}function v(){function t(t,n,r,o,i){var a=t[n];return e(a)?null:new c("Invalid "+o+" `"+i+"` of type `"+E(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return f(t)}function y(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=e.name||x;return new c("Invalid "+o+" `"+i+"` of type `"+P(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return f(t)}function m(e){function n(t,n,r,o,i){for(var a=t[n],s=0;s<e.length;s++)if(u(a,e[s]))return null;return new c("Invalid "+o+" `"+i+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?f(n):("production"!==t.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull)}function g(e){function t(t,n,r,o,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],l=E(s);if("object"!==l)return new c("Invalid "+o+" `"+i+"` of type `"+l+"` supplied to `"+r+"`, expected an object.");for(var u in s)if(s.hasOwnProperty(u)){var f=e(s,u,r,o,i+"."+u,a);if(f instanceof Error)return f}return null}return f(t)}function b(e){function n(t,n,r,o,i){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,r,o,i,a))return null}return new c("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")}return Array.isArray(e)?f(n):("production"!==t.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull)}function w(){function e(e,t,n,r,o){return S(e[t])?null:new c("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}return f(e)}function _(e){function t(t,n,r,o,i){var s=t[n],l=E(s);if("object"!==l)return new c("Invalid "+o+" `"+i+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");for(var u in e){var f=e[u];if(f){var p=f(s,u,r,o,i+"."+u,a);if(p)return p}}return null}return f(t)}function S(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(S);if(null===t||e(t))return!0;var n=l(t);if(!n)return!1;var r,o=n.call(t);if(n!==t.entries){for(;!(r=o.next()).done;)if(!S(r.value))return!1}else for(;!(r=o.next()).done;){var i=r.value;if(i&&!S(i[1]))return!1}return!0;default:return!1}}function C(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function E(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":C(t,e)?"symbol":t}function T(e){var t=E(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function P(e){return e.constructor&&e.constructor.name?e.constructor.name:x}var O="function"==typeof Symbol&&Symbol.iterator,k="@@iterator",x="<<anonymous>>",A={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:d(),arrayOf:h,element:v(),instanceOf:y,node:w(),objectOf:g,oneOf:m,oneOfType:b,shape:_};return c.prototype=Error.prototype,A.checkPropTypes=s,A.PropTypes=A,A}}).call(t,n(6))},function(e){function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,n){(function(t){function n(e,t,n,o,i,a,s,l){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,i,a,s,l],f=0;(u=new Error(t.replace(/%s/g,(function(){return c[f++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function(){};"production"!==t.env.NODE_ENV&&(r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=n}).call(t,n(6))},function(e,t,n){(function(t){var r,o=n(12);"production"!==t.env.NODE_ENV&&(r=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,(function(){return n[o++]}));"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}},o=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];r.apply(void 0,[t].concat(o))}}),e.exports=o}).call(t,n(6))},function(e){var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,t,n){(function(t){function r(e,n,r,l,u){if("production"!==t.env.NODE_ENV)for(var c in e)if(e.hasOwnProperty(c)){var f;try{o("function"==typeof e[c],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",l||"React class",r,c),f=e[c](n,c,l,r,null,a)}catch(e){f=e}if(i(!f||f instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",r,c,typeof f),f instanceof Error&&!(f.message in s)){s[f.message]=!0;var p=u?u():"";i(!1,"Failed %s type: %s%s",r,f.message,null!=p?p:"")}}}if("production"!==t.env.NODE_ENV)var o=n(13),i=n(14),a=n(15),s={};e.exports=r}).call(t,n(6))},function(e,t,n){var r=n(12),o=n(13);e.exports=function(){function e(){o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n){for(var r=0;r<e.length;r++)if(!h.default(e[r],t[r],n[r]))return!1;return!0}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=r(n(2)),c=r(n(3)),f=r(n(4)),p=r(n(5)),d=r(n(7)),h=r(n(8)),v=r(n(9)),y=r(n(10)),m=1e3/60,g=function(e){function t(n){var r=this;o(this,t),e.call(this,n),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=r.state,n=t.currentStyles,o=t.currentVelocities,i=t.lastIdealStyles,a=t.lastIdealVelocities,l=!1,u=0;u<e.length;u++){var c=e[u],f=!1;for(var p in c)if(Object.prototype.hasOwnProperty.call(c,p)){var d=c[p];"number"==typeof d&&(f||(f=!0,l=!0,n[u]=s({},n[u]),o[u]=s({},o[u]),i[u]=s({},i[u]),a[u]=s({},a[u])),n[u][p]=d,o[u][p]=0,i[u][p]=d,a[u][p]=0)}}l&&r.setState({currentStyles:n,currentVelocities:o,lastIdealStyles:i,lastIdealVelocities:a})},this.startAnimationIfNecessary=function(){r.animationID=d.default((function(e){var t=r.props.styles(r.state.lastIdealStyles);if(a(r.state.currentStyles,t,r.state.currentVelocities))return r.animationID=null,void(r.accumulatedTime=0);var n=e||p.default(),o=n-r.prevTime;if(r.prevTime=n,r.accumulatedTime=r.accumulatedTime+o,r.accumulatedTime>10*m&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();for(var i=(r.accumulatedTime-Math.floor(r.accumulatedTime/m)*m)/m,s=Math.floor(r.accumulatedTime/m),l=[],u=[],c=[],d=[],h=0;h<t.length;h++){var v=t[h],y={},g={},b={},w={};for(var _ in v)if(Object.prototype.hasOwnProperty.call(v,_)){var S=v[_];if("number"==typeof S)y[_]=S,g[_]=0,b[_]=S,w[_]=0;else{for(var C=r.state.lastIdealStyles[h][_],E=r.state.lastIdealVelocities[h][_],T=0;T<s;T++){var P=f.default(m/1e3,C,E,S.val,S.stiffness,S.damping,S.precision);C=P[0],E=P[1]}var O=f.default(m/1e3,C,E,S.val,S.stiffness,S.damping,S.precision),k=O[0],x=O[1];y[_]=C+(k-C)*i,g[_]=E+(x-E)*i,b[_]=C,w[_]=E}}c[h]=y,d[h]=g,l[h]=b,u[h]=w}r.animationID=null,r.accumulatedTime-=s*m,r.setState({currentStyles:c,currentVelocities:d,lastIdealStyles:l,lastIdealVelocities:u}),r.unreadPropStyles=null,r.startAnimationIfNecessary()}))},this.state=this.defaultState()}return i(t,e),l(t,null,[{key:"propTypes",value:{defaultStyles:y.default.arrayOf(y.default.objectOf(y.default.number)),styles:y.default.func.isRequired,children:y.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=t||n().map(c.default),o=r.map((function(e){return u.default(e)}));return{currentStyles:r,currentVelocities:o,lastIdealStyles:r,lastIdealVelocities:o}},t.prototype.componentDidMount=function(){this.prevTime=p.default(),this.startAnimationIfNecessary()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=p.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(d.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&v.default.Children.only(e)},t}(v.default.Component);t.default=g,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n){var r=t;return null==r?e.map((function(e,t){return{key:e.key,data:e.data,style:n[t]}})):e.map((function(e,t){for(var o=0;o<r.length;o++)if(r[o].key===e.key)return{key:r[o].key,data:r[o].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}}))}function s(e,t,n,r){if(r.length!==t.length)return!1;for(var o=0;o<r.length;o++)if(r[o].key!==t[o].key)return!1;for(o=0;o<r.length;o++)if(!m.default(e[o],t[o].style,n[o]))return!1;return!0}function l(e,t,n,r,o,i,a,s,l){for(var u=h.default(r,o,(function(e,r){var o=t(r);return null==o||m.default(i[e],o,a[e])?(n({key:r.key,data:r.data}),null):{key:r.key,data:r.data,style:o}})),c=[],p=[],d=[],v=[],y=0;y<u.length;y++){for(var g=u[y],b=null,w=0;w<r.length;w++)if(r[w].key===g.key){b=w;break}if(null==b){var _=e(g);c[y]=_,d[y]=_;var S=f.default(g.style);p[y]=S,v[y]=S}else c[y]=i[b],d[y]=s[b],p[y]=a[b],v[y]=l[b]}return[u,c,p,d,v]}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=r(n(2)),p=r(n(3)),d=r(n(4)),h=r(n(20)),v=r(n(5)),y=r(n(7)),m=r(n(8)),g=r(n(9)),b=r(n(10)),w=1e3/60,_=function(e){function t(n){var r=this;o(this,t),e.call(this,n),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=l(r.props.willEnter,r.props.willLeave,r.props.didLeave,r.state.mergedPropsStyles,e,r.state.currentStyles,r.state.currentVelocities,r.state.lastIdealStyles,r.state.lastIdealVelocities),n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],c=0;c<e.length;c++){var f=e[c].style,p=!1;for(var d in f)if(Object.prototype.hasOwnProperty.call(f,d)){var h=f[d];"number"==typeof h&&(p||(p=!0,o[c]=u({},o[c]),i[c]=u({},i[c]),a[c]=u({},a[c]),s[c]=u({},s[c]),n[c]={key:n[c].key,data:n[c].data,style:u({},n[c].style)}),o[c][d]=h,i[c][d]=0,a[c][d]=h,s[c][d]=0,n[c].style[d]=h)}}r.setState({currentStyles:o,currentVelocities:i,mergedPropsStyles:n,lastIdealStyles:a,lastIdealVelocities:s})},this.startAnimationIfNecessary=function(){r.unmounting||(r.animationID=y.default((function(e){if(!r.unmounting){var t=r.props.styles,n="function"==typeof t?t(a(r.state.mergedPropsStyles,r.unreadPropStyles,r.state.lastIdealStyles)):t;if(s(r.state.currentStyles,n,r.state.currentVelocities,r.state.mergedPropsStyles))return r.animationID=null,void(r.accumulatedTime=0);var o=e||v.default(),i=o-r.prevTime;if(r.prevTime=o,r.accumulatedTime=r.accumulatedTime+i,r.accumulatedTime>10*w&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary()
;for(var u=(r.accumulatedTime-Math.floor(r.accumulatedTime/w)*w)/w,c=Math.floor(r.accumulatedTime/w),f=l(r.props.willEnter,r.props.willLeave,r.props.didLeave,r.state.mergedPropsStyles,n,r.state.currentStyles,r.state.currentVelocities,r.state.lastIdealStyles,r.state.lastIdealVelocities),p=f[0],h=f[1],y=f[2],m=f[3],g=f[4],b=0;b<p.length;b++){var _=p[b].style,S={},C={},E={},T={};for(var P in _)if(Object.prototype.hasOwnProperty.call(_,P)){var O=_[P];if("number"==typeof O)S[P]=O,C[P]=0,E[P]=O,T[P]=0;else{for(var k=m[b][P],x=g[b][P],A=0;A<c;A++){var R=d.default(w/1e3,k,x,O.val,O.stiffness,O.damping,O.precision);k=R[0],x=R[1]}var I=d.default(w/1e3,k,x,O.val,O.stiffness,O.damping,O.precision),j=I[0],F=I[1];S[P]=k+(j-k)*u,C[P]=x+(F-x)*u,E[P]=k,T[P]=x}}m[b]=E,g[b]=T,h[b]=S,y[b]=C}r.animationID=null,r.accumulatedTime-=c*w,r.setState({currentStyles:h,currentVelocities:y,lastIdealStyles:m,lastIdealVelocities:g,mergedPropsStyles:p}),r.unreadPropStyles=null,r.startAnimationIfNecessary()}})))},this.state=this.defaultState()}return i(t,e),c(t,null,[{key:"propTypes",value:{defaultStyles:b.default.arrayOf(b.default.shape({key:b.default.string.isRequired,data:b.default.any,style:b.default.objectOf(b.default.number).isRequired})),styles:b.default.oneOfType([b.default.func,b.default.arrayOf(b.default.shape({key:b.default.string.isRequired,data:b.default.any,style:b.default.objectOf(b.default.oneOfType([b.default.number,b.default.object])).isRequired}))]).isRequired,children:b.default.func.isRequired,willEnter:b.default.func,willLeave:b.default.func,didLeave:b.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return p.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=e.willEnter,o=e.willLeave,i=e.didLeave,a="function"==typeof n?n(t):n,s=void 0;s=null==t?a:t.map((function(e){for(var t=0;t<a.length;t++)if(a[t].key===e.key)return a[t];return e}));var u=null==t?a.map((function(e){return p.default(e.style)})):t.map((function(e){return p.default(e.style)})),c=null==t?a.map((function(e){return f.default(e.style)})):t.map((function(e){return f.default(e.style)})),d=l(r,o,i,s,a,u,c,u,c),h=d[0];return{currentStyles:d[1],currentVelocities:d[2],lastIdealStyles:d[3],lastIdealVelocities:d[4],mergedPropsStyles:h}},t.prototype.componentDidMount=function(){this.prevTime=v.default(),this.startAnimationIfNecessary()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(a(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=v.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(y.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=a(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&g.default.Children.only(t)},t}(g.default.Component);t.default=_,e.exports=t.default},function(e,t){function n(e,t,n){for(var r={},o=0;o<e.length;o++)r[e[o].key]=o;var i={};for(o=0;o<t.length;o++)i[t[o].key]=o;var a=[];for(o=0;o<t.length;o++)a[o]=t[o];for(o=0;o<e.length;o++)if(!Object.prototype.hasOwnProperty.call(i,e[o].key)){var s=n(o,e[o]);null!=s&&a.push(s)}return a.sort((function(e,n){var o=i[e.key],a=i[n.key],s=r[e.key],l=r[n.key];if(null!=o&&null!=a)return i[e.key]-i[n.key];if(null!=s&&null!=l)return r[e.key]-r[n.key];if(null!=o){for(var u=0;u<t.length;u++){var c=t[u].key;if(Object.prototype.hasOwnProperty.call(r,c)){if(o<i[c]&&l>r[c])return-1;if(o>i[c]&&l<r[c])return 1}}return 1}for(u=0;u<t.length;u++){c=t[u].key;if(Object.prototype.hasOwnProperty.call(r,c)){if(a<i[c]&&s>r[c])return 1;if(a>i[c]&&s<r[c])return-1}}return-1}))}t.__esModule=!0,t.default=n,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return i({},s,t,{val:e})}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var a=r(n(22)),s=i({},a.default.noWobble,{precision:.01});e.exports=t.default},function(e,t){t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},function(e,t,n){(function(n){function r(){"development"===n.env.NODE_ENV&&(o||(o=!0,console.error("`reorderKeys` has been removed, since it is no longer needed for TransitionMotion's new styles array API.")))}t.__esModule=!0,t.default=r;var o=!1;e.exports=t.default}).call(t,n(6))}])}));var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};window.Services=_.merge(window.Services||{},{Actions:{People:{},Keys:{},Files:{},FilterBox:{},Medias:{},PersonEmailer:{},TagGroups:{},Teams:{},Songs:{},Arrangements:{Sequence:{}}},Apis:{Teams:{}},Classes:{Files:{Views:{}},Media:{},People:{Communication:{Messages:{}},Details:{Views:{}},FilterBox:{},Scheduling:{Views:{}}},Songs:{Arrangements:{}},PersonEmailer:{}},Constants:{Arrangements:{},Files:{},Keys:{},Medias:{},Mp3Transposer:{},People:{FilterBox:{Filters:{}},BulkUpdates:{}},TagGroups:{},Teams:{}},Components:{Arrangements:{},FileList:{},FilterBox:{Filters:{},Pickers:{},Tabs:{}},Icon:{},Icons:{},Illustrations:{},Keys:{AlternateKeys:{},PraiseCharts:{}},Media:{},Medias:{},Modal:{},MultiDrawer:{},Loader:{},People:{Communication:{Messages:{}},Teams:{Drawers:{}},Details:{},Scheduling:{},Index:{}},PersonEmailer:{},Tabs:{},TagGroupCollection:{},TagGroups:{},Teams:{Index:{}},WYSIWYG:{}},Stores:{Arrangements:{Sequence:{}},Folders:{},People:{FilterBox:{Filters:{Query:{}}}},PersonEmailer:{},Keys:{},Medias:{},Songs:{},Files:{},TagGroupCollection:{},TagGroups:{},Teams:{Index:{}}},StoreInstances:{Arrangements:{Sequence:{}},Files:{},Folders:{},People:{FilterBox:{Filters:{Query:{}}}},PersonEmailer:{},Keys:{},Medias:{},Songs:{},TagGroupCollection:{},TagGroups:{},Teams:{Index:{}}},Sources:{Arrangements:{},Medias:{},People:{},Songs:{}},Utils:_extends({Items:{},People:{FilterBox:{}},PersonEmailer:{},Songs:{},Teams:{}},(window.Services||{}).Utils)}),function(){function e(){s&&(s(),s=null)}function t(){var t=document.querySelector(".modal");t?(s&&t!==a&&s(),a=t,s=window.Tapestry.utils.trapFocus(t)):e()}function n(){window.PlanView&&(window.PlanView.hotkeysDisabled=!0)}function r(){window.PlanView&&(window.PlanView.hotkeysDisabled=!1)}Services.Modal={load:function(e,t){return $.get(e,t).then(Services.Modal.newModal)},loadWithoutOverlay:function(e,t){return Services.Modal.load(e,t).then((function(e){var t=document.querySelector(".modal-layer");return t&&(t.style.backgroundColor="transparent"),e}))},newModal:function(e){return new INTERFACES.ModalView(e).show().find(".modal")},newModalTab:function(){var e=$(this).attr("data-modal-tab");if(e){var t=$.get(e),n=(new INTERFACES.ModalPushView).show();t.fail((function(e){return n.hide(),$(document).trigger("modal:error",[e])})),t.done((function(e){return(n=new INTERFACES.ModalUrlView(e)).show()}))}},show:function(){INTERFACES.modalLayer.show(),$(document).trigger("modal:load")},hide:function(){INTERFACES.modalLayer.hide()},cancel:function(){Services.Modal.hide()},submit:function(e,t){t.preventDefault();var n=$(t.target).closest(".modal").find(".modal__footer"),r=n.find("button[type=submit]"),o=n.find(".btn--arrow");"false"===r.attr("data-loading")&&(Services.Modal.shouldTrackPendoEvent(e)&&Services.Modal.trackPendoEvent(e),r.add(o).attr("data-loading","true"),$("#"+e).submit())},shouldTrackPendoEvent:function(e){return["files-rehearsal-pack","files-ccli","key-new","key-edit"].includes(e)},trackPendoEvent:function(e){switch(e){case"files-rehearsal-pack":Utils.Songs.trackFileImported("RehearsalPack");break;case"files-ccli":Utils.Songs.trackFileImported("Song Select");break;case"key-new":case"key-edit":var t=_($("#"+e).serializeArray(),"name").keyBy("name").mapValues("value").value();"true"===t["key[import_rehearsal_pack]"]&&Utils.Songs.trackFileImported("RehearsalPack"),"true"===t["key[import_rehearsal_mix]"]&&Utils.Songs.trackFileImported("RehearsalMix"),"1"===t.import_praise_charts&&Utils.Songs.trackFileImported("Praise Charts"),"true"===t["key[import_ccli_chord_chart]"]&&Utils.Songs.trackFileImported("Song Select")}}};var o=".modal-layer",i=/class=["'].*\bmodal\b.*["']/;$(document).on("ajax:success",".modal",(function(e,t){$(".modal").trigger("modal:success:response",t),"string"==typeof t&&t.match(/Turbolinks.visit/)||Services.Modal.hide()})).on("turbo:submit-end",(function(e){e.originalEvent.detail.success&&Services.Modal.hide()})).on("ajax:error",".modal",(function(e,t){t.responseText.match(i)&&(Services.Modal.newModal(t.responseText),ReactRailsUJS.mountComponents(o))})).on("modal:load",(function(){window.PlanView&&(window.PlanView.hotkeysDisabled=!0),ReactRailsUJS.mountComponents(o),$(document).off("click",".modal-layer")})).on("modal:hide",(function(){var e=document.querySelector(".modal-layer");e&&(e.style.backgroundColor=""),window.PlanView&&(window.PlanView.hotkeysDisabled=!1),ReactRailsUJS.unmountComponents(o)})),INTERFACES.dataAPI.createAndShowUrlModal=function(){var e=this.getAttribute("data-modal-url");if(e){var t=$.get(e,{interfaces:!0}),n=(new INTERFACES.ModalView).show();t.fail((function(e){n.hide(),$(document).trigger("modal:error",[e])})),t.done((function(e){(n=new INTERFACES.ModalUrlView(e)).show()}))}},INTERFACES.modalLayer._publishModalHide=function(){$(document).trigger("modal:hide"),$(".modal").trigger("modal:close")},$(document).on("click","[data-modal-tab]",Services.Modal.newModalTab);var a=null,s=null;$(document).on("modal:load",t),$(document).on("modal:hide",e),$(document).on("modal:load",n),$(document).on("modal:hide",r)}();var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(){var e=function(e){return""+t()+n(e)},t=function(){return Services.Utils.urlFor("api")+"/services/v2"},n=function(e){var t=e.id,n=Services.Constants.People.FilterBox,r=n.ORG_FOLDER,o=n.MY_TEAMS_FOLDER,i=n.ARCHIVED_TEAMS_FOLDER,a=Services.Flux.getStore("Folders.FoldersStore");return t===o?"/people/"+Services.Flux.getStore("PersonCurrentStore").getAccountCenterId():t===r||t===i?"":a&&a.isFolder(t)?"/folders/"+t:"/service_types/"+t},r=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"fetch",value:function(t){var n=t.id,r=t.success,o=t.payload;new Services.Classes.RequestWithCredentials({url:e({id:n})+"/team_people_ids",type:"POST",data:JSON.stringify(o),success:r})}}]),t}(),o=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"fetch",value:function(n,r){new Services.Classes.RequestWithCredentials({url:e(n)+"/extended_teams?"+this._getParams(n),success:_.compose(r,t.transformResponse)})}},{key:"_getParams",value:function(e){var t=e.id,n=e.order,r=e.page,o=e.perPage,i=e.teamName,a="order="+n+"&offset="+o*(r-1)+"&per_page="+o;return i&&(a+="&where[name]="+i+"%25"),"archived"===t&&(a+="&where[archived]=1"),a}}],[{key:"transformResponse",value:function(e){var t=e.data;return{totalCount:e.meta.total_count,teams:t.map((function(e){var t=e.id,n=e.attributes,r=e.relationships,o=r.service_type.data,i=r.created_by.data;return _extends({id:parseInt(t,10),serviceTypeId:o?parseInt(o.id,10):null,createdById:i?parseInt(i.id,10):null},n)}))}}}]),t}(),i=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"fetch",value:function(t,n){var r=t.teamName,o=t.id,i={data:{attributes:_.tap({},(function(e){e.where={},r&&(e.where.name=r),"archived"===o&&(e.where.archived=!0)}))}};new Services.Classes.RequestWithCredentials({url:e(t)+"/team_ids",type:"POST",success:_.compose(n,this._transformResponse),data:JSON.stringify(i)})}},{key:"_transformResponse",value:function(e){var t=e.data.relationships.teams.data;return{unpaginated:_.map(t,(function(e){var t=e.id;return parseInt(t,10)}))}}}]),t}();Services.Apis.Teams.Index={FetchTeams:o,FetchUnpaginated:i,FetchAcids:r}}(),Services.Constants.Files.DragPermission="Editor",Services.Constants.Files.FILE="FILE",Services.Constants.MINUTES_IN_DAY=1440,function(){var e=Constants.datefilter,t=e.DATE_INTERVALS,n=e.DATE_PICKER_INTERVALS;Services.Constants.People.FilterBox.DATE_GROUPS=[{id:"created_at",name:"Created Profile"},{id:"updated_at",name:"Updated Profile"},{id:"blockouts_updated_at",name:"Last Set Blockouts"},{id:"logged_in_at",name:"Last Logged In"},{id:"last_scheduled_at",name:"Last Scheduled Plan"}],Services.Constants.People.FilterBox.DATE_INTERVALS=t,Services.Constants.People.FilterBox.INTERVALS_WITH_DATE_PICKER=n}(),Services.Constants.People.FilterBox.Filters.FILTER_TYPES=["Teams","Positions","TeamPositions","Tags","TagGroups","Dates","Permissions","BackgroundCheck","TeamLeader","RehearsalTeam","Text"],Services.Constants.People.FilterBox.PERMISSION_COMPARATORS=[{id:"gte",name:"At Least"},{id:"lte",name:"At Most"},{id:"exactly",name:"Exactly"}],Services.Constants.People.FilterBox.MAX_PERMISSIONS=0,Services.Constants.People.FilterBox.GENERAL_PERMISSIONS=-1,Services.Constants.People.FilterBox.SONG_PERMISSIONS=-2,Services.Constants.People.FilterBox.MEDIA_PERMISSIONS=-3,Services.Constants.People.FilterBox.BACKGROUND_CHECK_OPTIONS=["Missing","Clear"],Services.Constants.People.FilterBox.TEAM_LEADER_OPTIONS=["Not a leader","Is a leader"],Services.Constants.People.FilterBox.REHEARSAL_TEAM_OPTIONS=["Not a rehearsal team member","Is a rehearsal team member"],Services.Constants.People.FilterBox.ALL_TAG_GROUPS_FOLDER="",Services.Constants.People.FilterBox.TAG_GROUPS_FILTER_GROUP_ID="0",Services.Constants.People.FilterBox.TEAMS_FILTER_GROUP_ID="0",Services.Constants.People.FilterBox.ARCHIVED_TEAMS_FOLDER="archived",Services.Constants.People.FilterBox.MY_TEAMS_FOLDER="",Services.Constants.People.FilterBox.ORG_FOLDER="0",Services.Constants.TagGroups.ALL_TAG_GROUPS=-1,Services.Constants.TagGroups.NO_SERVICE_TYPE_FOLDER=0,Services.Constants.TagGroups.NOT_EDITING_TAG_GROUP=0,Services.Constants.TagGroups.ROOT_TAG_GROUPS=0,function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}((function(e){function t(e){return s.raw?e:encodeURIComponent(e)}function n(e){return s.raw?e:decodeURIComponent(e)}function r(e){return t(s.json?JSON.stringify(e):String(e))}function o(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(a," ")),s.json?JSON.parse(e):e}catch(e){}}function i(t,n){var r=s.raw?t:o(t);return e.isFunction(n)?n(r):r}var a=/\+/g,s=e.cookie=function(o,a,l){if(void 0!==a&&!e.isFunction(a)){if("number"==typeof(l=e.extend({},s.defaults,l)).expires){var u=l.expires,c=l.expires=new Date;c.setTime(+c+864e5*u)}return document.cookie=[t(o),"=",r(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.sameSite?"; SameSite="+l.sameSite:"",l.secure?"; secure":""].join("")}for(var f=o?void 0:{},p=document.cookie?document.cookie.split("; "):[],d=0,h=p.length;d<h;d++){var v=p[d].split("="),y=n(v.shift()),m=v.join("=");if(o&&o===y){f=i(m,a);break}o||void 0===(m=i(m))||(f[y]=m)}return f};s.defaults={},e.removeCookie=function(t,n){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}})),jQuery.fn.extend({insertAtCaret:function(e){return this.each((function(){if(document.selection)this.focus(),document.selection.createRange().text=e,this.focus();else if(this.selectionStart||"0"==this.selectionStart){var t=this.selectionStart,n=this.selectionEnd,r=this.scrollTop;this.value=this.value.substring(0,t)+e+this.value.substring(n,this.value.length),this.focus(),this.selectionStart=t+e.length,this.selectionEnd=t+e.length,this.scrollTop=r}else this.value+=e,this.focus()}))}}),this.JSON||(this.JSON={}),function(){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,a,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(i=l.length,n=0;n<i;n+=1)a[n]=str(n,l)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;n<i;n+=1)"string"==typeof(r=rep[n])&&(o=str(r,l))&&a.push(quote(r)+(gap?": ":":")+o);else for(r in l)Object.hasOwnProperty.call(l,r)&&(o=str(r,l))&&a.push(quote(r)+(gap?": ":":")+o);return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.hasOwnProperty.call(o,n)&&(void 0!==(r=walk(o,n))?o[n]=r:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){e.store=function(t,n){var r=this;if("string"==typeof t){if(!e.store.drivers[t])throw new Error("Unknown driver "+t);this.driver=e.store.drivers[t]}else if("object"==typeof t){if(!(e.isFunction(t.init)&&e.isFunction(t.get)&&e.isFunction(t.set)&&e.isFunction(t.del)&&e.isFunction(t.flush)))throw new Error("The specified driver does not fulfill the API requirements");this.driver=t}else e.each(e.store.drivers,(function(){return!e.isFunction(this.available)||!this.available()||(r.driver=this,!1===r.driver.init()&&(r.driver=null,!0))}));n||(n=e.store.serializers),this.serializers={},e.each(n,(function(t){if(!e.isFunction(this.init))return!0;r.serializers[t]=this,r.serializers[t].init(r.encoders,r.decoders)}))},e.extend(e.store.prototype,{get:function(e){var t=this.driver.get(e);return this.driver.encodes?t:this.unserialize(t)},set:function(e,t){this.driver.set(e,this.driver.encodes?t:this.serialize(t))},del:function(e){this.driver.del(e)},flush:function(){this.driver.flush()},driver:t,encoders:[],decoders:[],serialize:function(t){var n=this;return e.each(this.encoders,(function(){var e=n.serializers[this+""];if(!e||!e.encode)return!0;try{t=e.encode(t)}catch(e){}})),t},unserialize:function(t){var n=this;return t?(e.each(this.decoders,(function(){var e=n.serializers[this+""];if(!e||!e.decode)return!0;t=e.decode(t)})),t):t}}),e.store.drivers={localStorage:{ident:"$.store.drivers.localStorage",scope:"browser",available:function(){try{return!!window.localStorage&&(window.localStorage.setItem("jQuery Store Availability test",!0),window.localStorage.removeItem("jQuery Store Availability test"),!0)}catch(e){return!1}},init:e.noop,get:function(e){return window.localStorage.getItem(e)},set:function(e,t){window.localStorage.setItem(e,t)},del:function(e){window.localStorage.removeItem(e)},flush:function(){window.localStorage.clear()}},userData:{ident:"$.store.drivers.userData",element:null,nodeName:"userdatadriver",scope:"browser",initialized:!1,available:function(){try{return!(!document.documentElement||!document.documentElement.addBehavior)}catch(e){return!1}},init:function(){if(!this.initialized)try{this.element=document.createElement(this.nodeName),document.documentElement.insertBefore(this.element,document.getElementsByTagName("title")[0]),this.element.addBehavior("#default#userData"),this.initialized=!0}catch(e){return!1}},get:function(e){return this.element.load(this.nodeName),this.element.getAttribute(e)},set:function(e,t){this.element.setAttribute(e,t),this.element.save(this.nodeName)},del:function(e){this.element.removeAttribute(e),this.element.save(this.nodeName)},flush:function(){for(var e=this.element.xmlDocument.firstChild.attributes,t=e.length-1;t>=0;t--)this.element.removeAttribute(e[t].nodeName);this.element.save(this.nodeName)}},windowName:{ident:"$.store.drivers.windowName",scope:"window",cache:{},encodes:!0,available:function(){return!0},init:function(){this.load()},save:function(){window.name=e.store.serializers.json.encode(this.cache)},load:function(){try{this.cache=e.store.serializers.json.decode(window.name+""),"object"!=typeof this.cache&&(this.cache={})}catch(e){this.cache={},window.name="{}"}},get:function(e){return this.cache[e]},set:function(e,t){this.cache[e]=t,this.save()},del:function(e){try{delete this.cache[e]}catch(n){this.cache[e]=t}this.save()},flush:function(){window.name="{}"}}},e.store.serializers={json:{ident:"$.store.serializers.json",init:function(e,t){e.push("json"),t.push("json")},encode:JSON.stringify,decode:JSON.parse},xml:{ident:"$.store.serializers.xml",init:function(e,t){e.unshift("xml"),t.push("xml")},isXML:function(e){var t=(e?e.ownerDocument||e:0).documentElement;return!!t&&"html"!==t.nodeName.toLowerCase()},encode:function(e){if(!e||e._serialized||!this.isXML(e))return e;var t={_serialized:this.ident,value:e};try{return t.value=(new XMLSerializer).serializeToString(e),t}catch(n){try{return t.value=e.xml,t}catch(e){}}return e},decode:function(e){if(!e||!e._serialized||e._serialized!=this.ident)return e;var n="DOMParser"in window&&(new DOMParser).parseFromString;return!n&&window.ActiveXObject&&(n=function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}),n?(e.value=n.call("DOMParser"in window&&new DOMParser||window,e.value,"text/xml"),this.isXML(e.value)?e.value:t):t}}}}(jQuery),function(e){function t(t,n){function r(e){l||(l=!0,a.start&&a.start(e,s))}function o(e,t){l&&(clearTimeout(i),i=setTimeout((function(){l=!1,a.stop&&a.stop(e,s)}),t>=0?t:a.delay))}var i,a=e.extend({start:null,stop:null,delay:400},n),s=e(t),l=!1;s.keypress(r),s.keydown((function(e){8!==e.keyCode&&46!==e.keyCode||r(e)})),s.keyup(o),s.on("paste",(function(e){r(e),o(e)})),s.blur((function(e){o(e,0)}))}e.fn.typing=function(e){return this.each((function(n,r){t(r,e)}))}}(jQuery),$((function(){Services.Utils.ButtonSpinner={reset:function(){$('button[type="submit"]').attr("data-loading",!1).attr("disabled",!1)}}}));var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};!function(){var e=ReactDately,t=e.Dately,n=e.PrevMonth,r=e.NextMonth,o=e.utils,i=o.isSame,a=(o.isBeforeDay,o.isAfterDay,o.getDaysBetween,(0,o.getMonths)()),s={classModifiers:PropTypes.array,monthYearSelect:PropTypes.bool,yearPadding:PropTypes.number,renderDay:PropTypes.func},l={classModifiers:[],monthYearSelect:!1,yearPadding:5,renderDay:function(e){return e.getDate()}},u=function(e){function o(e){_classCallCheck(this,o),_get(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,e),this._renderDay=this._renderDay.bind(this)}return _inherits(o,e),_createClass(o,[{key:"_renderMonth",value:function(e){var t=this,n=this.props,r=n.minDay,o=n.maxDay;n.startYear;return React.createElement("select",{className:"cal__select",value:e.getMonth(),onChange:function(n){var r=n.target;return t.refs.calendar.setMonth(new Date(e.getFullYear(),r.value))}},a.map((function(t,n){return r&&r.getFullYear()===e.getFullYear()&&r.getMonth()>n||o&&o.getFullYear()===e.getFullYear()&&o.getMonth()<n?null:React.createElement("option",{key:n,value:n},t)})))}},{key:"_renderYear",value:function(e){var t=this,n=this.props,r=n.minDay,o=n.maxDay,i=n.yearPadding,a=e.getMonth(),s=e.getFullYear(),l=s-i,u=s+i,c=[];if(r){var f=r.getFullYear();l<f&&(l=f),a<r.getMonth()&&(l+=1)}if(o){var p=o.getFullYear();u>p&&(u=p),a>o.getMonth()&&(u-=1)}for(var d=l;d<=u;d++)c.push(d);return React.createElement("select",{className:"cal__select",value:e.getFullYear(),onChange:function(n){var r=n.target;return t.refs.calendar.setMonth(new Date(r.value,e.getMonth()))}},c.map((function(e,t){return React.createElement("option",{key:t,value:e},e)})))}},{key:"_renderDay",value:function(e,t,n){var r=t.modifiers,o=_objectWithoutProperties(t,["modifiers"]),i="cal__day";return i+=r.map((function(e){return" "+i+"--"+e})).join(""),React.createElement("td",_extends({},_.omit(o,"onTouchTap","ariaLabel"),{className:i}),this.props.renderDay(e,n))}},{key:"render",value:function(){var e=this,o=this.props,a=o.minDay,s=o.maxDay,l=o.classModifiers,u=o.monthYearSelect,c="cal";return c+=l.map((function(e){return" "+c+"--"+e})).join(""),React.createElement(t,_extends({ref:"calendar"},this.props,{renderDay:this._renderDay}),(function(t){var o=t.id,l=t.monthLabel,f=t.yearLabel,p=t.month,d=t.weekdays,h=t.weeks;return React.createElement("div",{id:o,className:c},React.createElement("header",{className:"cal__header"},React.createElement(n,{onClick:function(){return e.refs.calendar.navigateMonth(-1)},innerHTML:"",disable:a&&i(p,a,"month"),controls:o+"__table"}),React.createElement("div",{className:"cal__month-year"},React.createElement("div",{className:"cal__month"},u?e._renderMonth(p):l),React.createElement("div",{className:"cal__year"},u?e._renderYear(p):f)),React.createElement(r,{onClick:function(){return e.refs.calendar.navigateMonth(1)},innerHTML:"",disable:s&&i(p,s,"month"),controls:o+"__table"})),React.createElement("table",{className:"cal__table"},React.createElement("thead",null,React.createElement("tr",{className:"cal__weekdays"},d.map((function(e,t){return React.createElement("th",{key:t,scope:"col",title:e,className:"cal__weekday"},e)})))),React.createElement("tbody",null,h.map((function(e,t){return React.createElement("tr",{key:t,className:"cal__week"},e)})))))}))}}]),o}(React.Component);u.propTypes=s,u.defaultProps=l,Services.Utils.Calendar=u}();var _slicedToArray=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};!function(){var e=React,t=e.Component,n=e.Children,r=e.cloneElement,o={children:PropTypes.node.isRequired},i=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={showMenu:!1}}return _inherits(t,e),_createClass(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!e.disableActions&&this.props.disableActions&&this.setState({showMenu:!1})}},{key:"_handleMouseEvent",value:function(e,t,n){this.setState({showMenu:e}),"function"==typeof t&&t(n)}},{key:"_handleMouseEnter",value:function(e,t){this._handleMouseEvent(!0,e.props.onMouseEnter,t)}},{key:"_handleMouseLeave",value:function(e,t){this._handleMouseEvent(!1,e.props.onMouseLeave,t)}},{key:"render",value:function(){var e=this,t=this.state.showMenu,o=this.props.disableActions,i=n.toArray(this.props.children),a=_slicedToArray(i,2),s=a[0],l=a[1];return React.createElement(TetherComponent,{attachment:"middle right",targetAttachment:"middle left",classPrefix:"drop",constraints:[{to:"window",attachment:"together"}],renderTarget:function(t){return r(s,{ref:t,onMouseEnter:e._handleMouseEnter.bind(e,s),onMouseLeave:e._handleMouseLeave.bind(e,s),onMouseDown:e._handleMouseEnter.bind(e,s)})},renderElement:function(n){return t&&!o&&r(l,{ref:n,onMouseEnter:e._handleMouseEnter.bind(e,l),onMouseLeave:e._handleMouseLeave.bind(e,l)})}})}}]),t}(t);i.propTypes=o,Services.Utils.DropMenu=i}();var _slicedToArray=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};!function(){var e=function(e){function n(e){var r=this;_classCallCheck(this,n),_get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.Button=t({onClick:function(e){return r.props.onChange(e)},noop:this.props.spacer})}return _inherits(n,e),_createClass(n,[{key:"_range",value:function(){var e=this.props,t=e.page,n=e.maxVisible,r=e.firstPage,o=e.totalPages,i=Math.floor(n/2),a=Math.max(0,i+t-o),s=Math.max(0,i-t+r),l=Math.max(t-i,r)-a,u=Math.min(t+i,o)+s;return _.range(Math.max(l,r),Math.min(u,o)+1)}},{key:"_renderSpacer",value:function(e,t){var n=this,r=this.props.spacer,o=Math.abs(e-t),i=[[e!==t,t],[2===o,t+(e-t)/2],[o>2,r]];return _.reduce(i,(function(e,r){var o=_slicedToArray(r,2),i=o[0],a=o[1];return i?[].concat(_toConsumableArray(e),[React.createElement(n.Button,{page:a,key:t+"s"+a})]):e}),[])}},{key:"render",
value:function(){var e=this,t=this.props,n=t.page,r=t.firstPage,o=t.totalPages,i=this._range();return i.length<1?null:React.createElement("div",{className:"eg-component justify-center"},React.createElement("div",{className:"btn-set mx_8"},React.createElement(this.Button,{page:n-1,disabled:n===r},"prev"),this._renderSpacer(_.first(i),r),i.map((function(t){return React.createElement(e.Button,{key:t,page:t,isActive:n===t})})),this._renderSpacer(_.last(i),o).reverse(),React.createElement(this.Button,{page:n+1,disabled:n===o},"next")))}}]),n}(React.Component),t=function(e){var t=e.onClick,n=e.noop;return function(e){var r=e.page,o=e.isActive,i=e.disabled,a=e.className,s=e.children;return React.createElement("button",{className:classNames("btn","btn-md","btn-"+(o?"primary":"default"),{"btn-noop":r===n},a),onClick:function(){return r!==n&&!o&&!i&&t(r)},disabled:i},s||r)}};e.defaultProps={spacer:"...",firstPage:1},Services.Utils.Paginator=e}();var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};Services.Utils.pinnable=function(e){return function(t){function n(){_classCallCheck(this,n),_get(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}return _inherits(n,t),_createClass(n,[{key:"handleClickPin",value:function(t){Services.Flux.getActions("FilterBox."+e.filterType+"Actions").pinFilter(t)}},{key:"handleClickUnPin",value:function(t){Services.Flux.getActions("FilterBox."+e.filterType+"Actions").unPinFilter(t)}},{key:"isPinned",value:function(t){return Services.Flux.getStore("People.FilterBox.Filters."+e.filterType+"Store").isPinned(t)}},{key:"render",value:function(){return React.createElement(e,_extends({onPin:this.handleClickPin,onUnPin:this.handleClickUnPin,isPinned:this.isPinned},this.props))}}]),n}(React.Component)};var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};!function(){var e=function(e){var n=e.name,r=e.selectedValue,o=e.onChange;return function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return React.createElement("input",_extends({},this.props,{type:"radio",name:n,checked:this.props.value===r,onChange:o.bind(null,this.props.value)}))}}]),t}(t)},t=React.Component,n=function(t){function n(){_classCallCheck(this,n),_get(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}return _inherits(n,t),_createClass(n,[{key:"render",value:function(){var t=this.props.children(e(this.props),this.props);return t&&React.Children.only(t)}}]),n}(t);n.propTypes={name:PropTypes.string,selectedValue:PropTypes.oneOfType([PropTypes.string,PropTypes.number,PropTypes.bool]),defaultValue:PropTypes.oneOfType([PropTypes.string,PropTypes.number,PropTypes.bool]),onChange:PropTypes.func,children:PropTypes.func.isRequired},Services.Utils.RadioGroup=n}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(){var e='<div class="saved-badge">\n      <svg class="saved-badge-icon" viewBox="0 0 54 54">\n        <circle class="saved-badge-icon__circle" cx="26" cy="26" r="25"/>\n        <path class="saved-badge-icon__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>\n      </svg>\n      <div class="saved-badge-text">Saved!</div>\n    </div>',t=function(){function t(e){return _classCallCheck(this,t),this._element=e instanceof Element?e:document.querySelector('[data-saved-badge="'+e+'"]'),this._create(),this}return _createClass(t,null,[{key:"trigger",value:function(e){new t(e)}}]),_createClass(t,[{key:"_create",value:function(){this._element.innerHTML=e}},{key:"destroy",value:function(){this._element.innerHTML=""}}]),t}();Services.Utils.SavedBadge=t}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};!function(){var e=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={isPlaying:!1}}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this,t=classNames("song-preview",{"song-preview--is-playing":this.state.isPlaying});return React.createElement("div",{className:t},React.createElement(Components.MediaPlayers.CircleAudioPlayer,{src:this.props.audioSource,onPlayPause:function(t){return e.setState({isPlaying:t})}}),React.createElement("img",{src:this.props.imageSource,className:"song-preview__thumbnail"}))}}]),t}(React.Component);Services.Utils.SongPreview=e}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};!function(){var e=24,t=e/2,n=60,r=function(e){function r(){_classCallCheck(this,r),_get(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,arguments)}return _inherits(r,e),_createClass(r,[{key:"_handleOnChange",value:function(e){this.props.onTimeChange(e)}},{key:"_pad",value:function(e){return e>9?e:"0"+e}},{key:"_format",value:function(e){var r=Math.floor(e/n),o=e/n;o=((o-Math.floor(o))*n).toFixed(0),r=parseInt(r),o=parseInt(o);var i=r<t?"AM":"PM";return r===t&&0===o?"Noon":(r=r%t||t,(r=this._pad(r))+":"+(o=this._pad(o))+" "+i)}},{key:"_getOptions",value:function(){for(var e=[],t=360;t<=1440;t+=30){var n=t,r=this._format(t);360===t&&(n=0,r="Start of Day"),1440===t&&(n=1439.99,r="End of Day"),e.push(React.createElement("option",{key:n,value:n},r))}return e}},{key:"render",value:function(){return React.createElement("div",_.omit(this.props,"minTime","onTimeChange"),React.createElement("select",{className:"select",value:this.props.value,onChange:this._handleOnChange.bind(this)},this._getOptions()))}}]),r}(React.Component);Services.Utils.TimeSelect=r}(),function(){var e=function(){if(!t)return null;var e=navigator.userAgent.match(/Version\/(\d+\.\d)(\.\d+)*/);return e?parseFloat(e[1]):null},t=!!$.browser.safari,n=t&&e()<=16.3,r=!!document.documentMode,o=r&&!!window.MSInputMethodContext,i=!r&&!!window.StyleMedia,a=r||n;Services.Utils.browser={isIE11:o,isEdge:i,isSafari:t,pdfPreviewsUnsupported:a}}(),function(){var e=Services.Utils.browser.isEdge,t=/OS X 10_(\d+)_\d+/,n=function(){if(!$.browser.safari)return!1;var e=navigator.userAgent.match(t);return!!e&&parseInt(e[1],10)<=10}(),r="undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext;Services.Utils.canUsePanner=r&&!e&&!n&&!$.browser.mozilla}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.el=t,this.r=t.getAttribute("r"),this.c=Math.PI*(2*this.r),this._init()}return _createClass(e,[{key:"_init",value:function(){this.el.style.strokeDasharray=this.c,this.setProgress(0)}},{key:"setProgress",value:function(e){var t=Math.abs(e*this.c/100-this.c);this.el.style.strokeDashoffset=t}}]),e}();Services.Utils.CircleProgress=e}(),function(){var e=["archivedAt","createdAt","deletedAt","updatedAt","loggedInAt","blockoutsUpdatedAt","lastScheduledAt"],t=function(t){return~e.indexOf(t)},n=function(e){var n=(arguments.length<=1||void 0===arguments[1]?{}:arguments[1]).exclude,r=void 0===n?[]:n;return _.map(e,(function(e){return _.mapValues(e,(function(e,n){return e&&t(n)&&!_.includes(r,n)?moment(e):e}))}))};Services.Utils.convertDates=n}(),Services.Utils.definePropTypes=function(e){return e(window.PropTypes)},function(){var e=function(e){var t=e.limit,n=e.callback;return Swal.alertError.fire({titleText:"Hey, did you know?",html:"Only "+t+' attachment types can be assigned to any file. This <a href="https://pcoservices.zendesk.com/hc/en-us/articles/204262314#limit" target="_blank">lesson</a> shows a more efficient way to assign one file to many people.',confirmButtonText:"Okay, got it"}).then((function(e){return e.isConfirmed&&n(e.value)}))};Services.Utils.exceededAttachmentTypeLimit=e}();var getHiddenNodeDimension=function(e){var t=arguments.length<=1||void 0===arguments[1]?"height":arguments[1],n=e.parentNode,r=document.createElement("div"),o=e.cloneNode(!0),i=0;return r.style.height=0,r.style.overflow="hidden",o.style.display="block",o.style.height="auto",o.style.position="static",r.appendChild(o),n.appendChild(r),i="height"===t?o.scrollHeight:o.scrollWidth,n.removeChild(r),i};Services.Utils.getHiddenNodeDimension=getHiddenNodeDimension,Services.Utils.getMediaVendor=function(e){return e.indexOf("youtube.com")>-1||e.indexOf("youtu.be")>-1?"youtube":e.indexOf("vimeo.com")>-1?"vimeo":"video"},document.addEventListener("DOMContentLoaded",(function(){document.addEventListener("click",(function(e){"A"===e.target.nodeName&&"#"===e.target.getAttribute("href")&&e.preventDefault()}))})),function(){var e=function(e){return e.replace(/(\_[a-z])/g,(function(e){return e.toUpperCase().replace("_","")}))},t=function(e){return!(_.isObject(e)&&(_.isArray(e)||_.isFunction(e))||!_.isObject(e))},n=function(e){var n=function(r){return t(r)?_.reduce(r,(function(t,r,o){return t[e(o)]=n(r),t}),{}):_.isArray(r)?_.map(r,n):r};return n};window.Services.Utils.snakeToCamel=e,window.Services.Utils.keysToCamelCase=n(e),window.Services.Utils.keysToSnakeCase=n((function(e){return e<0?e:_.snakeCase(e)}))}();var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Services.Utils.ModalFormValidation={init:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=/\[(.+)\]/,o=function(e){return"[data-name='"+e+"']"},i=function(e){return"[name='"+t+"["+e+"]']"},a=function(e){return $(e).data("name")},s=function(e){return e.name&&_.last(e.name.match(r))},l={$inputs:e.find("input, .modal-field"),getName:function(e){return a(e)||s(e)},getElement:function(t){return e.find(i(t)+", "+o(t))},onError:function(){return e.find("[type=submit]").attr("data-loading",!1)}};e.formWithValidationResponse(_extends({},l,n))}},Services.Utils.moveCursorToEnd=function(e){if("number"==typeof e.selectionStart)e.selectionStart=e.selectionEnd=e.value.length;else if(void 0!==e.createTextRange){e.focus();var t=e.createTextRange();t.collapse(!1),t.select()}},function(){servicesSubscriptionsUrl=function(){return Services.Utils.urlFor("accounts")+"/subscriptions/Services"};var e=function(){var e="Your account has reached its people limit.<br /> <a href='"+servicesSubscriptionsUrl()+"' target='_blank'>Upgrade</a> to a larger plan or <a href='https://pcoservices.zendesk.com/hc/en-us/articles/204461040-Archiving-Users' target='_blank'> archive existing users</a>.";Swal.alertError.fire({titleText:"Sorry",html:e})};Services.Utils.peopleExceededAlert=e}(),function(){$.fn.peopleSearchAutocomplete=function(e){var t,n,r,o,i,a,s,l,u,c,f,p;return t=null,p=$.extend({delay:300,minLength:1,autoFocus:!0,withDialog:!1,newPerson:!0,remotePeople:!0,multisearchEnabled:Services.Config.elasticsearchReadDependentFeatures,getParams:function(){return{}},open:function(){return $(this).removeClass("ui-corner-all").addClass("ui-corner-top")},close:function(){return $(this).removeClass("ui-corner-top").addClass("ui-corner-all")},sort:_.identity,_renderItem:function(e,t){return $("<li class='"+t.type+"'></li>").data("item.autocomplete",t).append("<a><span class='img_btn icon'></span>"+t.label+"</a>").appendTo(e)}},e),i=function(e){return Services.Utils.urlFor("api")+"/people/v2/people/"+e+"?include=emails,phone_numbers"},u=function(e){return Services.Utils.urlFor("services")+"/people/AC"+e+"/details"},f=function(){return Services.Utils.urlFor("accounts")+"/subscriptions/Services"},a=function(){var e;return e="Your account has reached its people limit.<br /> <a href='"+f()+"' target='_blank'>Upgrade</a> to a larger plan or <a href='https://pcoservices.zendesk.com/hc/en-us/articles/204461040-Archiving-Users' target='_blank'> archive existing users</a>.",Swal.alertError.fire({titleText:"Sorry",html:e})},s=function(e){var t,n;return t=e.account_center_id,n=e.name,Swal.confirmDestroy.fire({titleText:n+" is archived",text:"View the profile details to restore access.",confirmButtonText:"View archived profile"}).then((function(e){if(e.isConfirmed)return INTERFACES.modalLayer.hide(),new Services.Classes.Loader("Opening "+n+"'s profile").show(),window.location.assign(""+u(t))})),!1},l=function(e){return Utils.People.importAlert({person:e.item,preConfirm:function(){return Promise.resolve($.ajax({type:"POST",url:"/people/"+e.item.account_center_id+"/import?skip_redirect=1",success:function(t){if("function"==typeof p.select)return e.item=$.extend(e.item,t),p.select(event,e)}})).catch(Utils.genericErrorSwal)}}),!1},o=function(e){var t;return p.multisearchEnabled?((t=_.reduce(e,(function(e,t,n){return"include_custom_options"===n?(e.include_tags=!0,e.include_tag_groups=!0,e.include_team_positions=!0):"select"===n?e.minimum_max_permissions=t.replace(/_at_all/,""):e[n]=t,e}),{})).include_people=!0,t):e},r={delay:p.delay,minLength:p.minLength,autoFocus:p.autoFocus,source:function(e,n){return t&&t.abort(),t=$.ajax({url:p.multisearchEnabled?"/search.json":"/remote_people.json",dataType:"json",data:$.extend({q:e.term,per_page:10},o(p.getParams())),success:function(e){var t,r,o,i,a,s;return s=e.results,t=e.active,i=e.limit,a=e.remaining,r=e.new_person||Services.Flux.getStore("PersonCurrentStore").canEditAllPeople(),p.usage={active:t,limit:i,remaining:a},p.remotePeople||(s=_.filter(s,{type:"Person"})),o=0===s.length?[{label:"No Results Found",value:"",type:"NoResults"}]:$.map(p.sort(s),(function(e){var t;return t=e.name,"CustomOption"===e.type&&(t=e.custom_field_name+" > "+e.name),"MinistryPosition"===e.type&&(t="Position: "+e.service_type+" > "+e.category_name+" > "+e.name),$.extend({label:_.escape(t),value:t,type:e.type,name:e.name,custom_field_id:e.custom_field_id,id:e.account_center_id||e.id},e)})),r&&p.newPerson&&o.push({label:"Create A New Person",type:"NewPerson"}),n(o)}})},focus:function(){return!1},select:function(e,t){var n,r,o,u;if(0===p.usage.remaining&&("NewPerson"===t.item.type||"RemotePerson"===t.item.type))return a(),!1;if("NewPerson"===t.item.type&&!p.overrideNewPersonBehavior)return n=$(this),Dialog.open("/people/new?full_name="+encodeURIComponent(n.val()),!0),setTimeout((function(){return n.val("",1)}));if("DisabledPerson"===t.item.type)return s(t.item),$(this).val(""),!1;if("Person"===t.item.type||"RemotePerson"===t.item.type){if((o=t.item).in_services)return u="/people/"+o.account_center_id,r={include:"emails,phone_numbers",fields:{Email:["address","primary"],Person:["legacy_id","emails","phone_numbers"],PhoneNumber:["text_enabled","text_for_people_emails","text_for_plan_emails"]}},API.get({url:u,data:r}).then((function(n){if("function"==typeof p.select)return t.item=$.extend(o,n),t.item.id=n.legacyId,p.select(e,t)}));if(p.withDialog)return $.ajax({url:i(o.account_center_id),xhrFields:{withCredentials:!0},success:function(n){if("function"==typeof p.select)return t.item=$.extend(o,n),p.select(e,t)}});if(!l(t))return!1}else{if("NoResults"===t.item.type)return!1;if("function"==typeof p.select)return p.select(e,t)}},open:function(){return p.open()},close:function(){return p.close()}},null!=(c=(n=$(this).autocomplete(r)).data("autocomplete"))&&(c._renderItem=p._renderItem),n}}.call(this);var _slicedToArray=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){var e=function(e,t,n){return{responseData:e,requestData:_slicedToArray(n,1)[0]}},t=function(){return Services.StoreInstances.TagGroupCollection.TagGroupCollectionStore.getTagIds()},n=function(e){return _.uniq([].concat(_toConsumableArray(t()),[e]))},r=function(e){return _.without(t(),e)},o=function(e,n){return _.without(_.uniq([].concat(_toConsumableArray(t()),[e])),n)},i=function(e){return{data:{type:"TagAssignment",attributes:{},relationships:{tags:{data:_.map(e,(function(e){return{id:e,type:"Tag"}}))}}}}},a=function(t){var a=function(e){return API.post({url:t+"/assign_tags",data:i(e)})};return{addTag:{remote:function(e,t){var r=t.id;return a(n(r))},success:Services.Flux.getActions("TagsActions").addTagSuccess,error:Services.Flux.getActions("TagsActions").addTagFailure,interceptResponse:e},removeTag:{remote:function(e,t){var n=t.id;return a(r(n))},success:Services.Flux.getActions("TagsActions").removeTagSuccess,error:Services.Flux.getActions("TagsActions").removeTagFailure,interceptResponse:e},swapMultipleSelectionTag:{remote:function(e,t){var n=t.selectedTagId,r=t.currentTagId;return a(o(n,r))},success:Services.Flux.getActions("TagsActions").swapMultipleSelectionTagSuccess,error:Services.Flux.getActions("TagsActions").swapMultipleSelectionFailure,interceptResponse:e},getTagGroup:{remote:function(e,t){var n=t.requestData.tagGroupId;return API.get({url:"tag_groups/"+n,data:{fields:{TagGroup:[]}}})},local:function(e,t){return e.state[t.requestData.tagGroupId]},success:Services.Flux.getActions("TagsActions").getTagGroupSuccess,error:Services.Flux.getActions("TagsActions").getTagGroupFailure,interceptResponse:e}}};Services.Sources.TagsSourceFactory=a}();var _slicedToArray=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function(){var e=function(e,t,n){return{responseData:e,requestData:_slicedToArray(n,1)[0]}},t=function(e,t,n){var r=_slicedToArray(n,1)[0],o=r.positionData;return{responseData:e,requestData:r.requestData,positionData:o}},n=function(e){var t=e.id;return"teams/"+e.teamId+"/team_positions/"+e.teamPositionId+"/person_team_position_assignments/"+t},r=function(){return window.joltListener?{"X-PCO-Live-Socket-ID":window.joltListener.uuid}:(Bugsnag.notify("TeamsSourceFactory: window.joltListener was not set when assigning request headers"),{})},o=function(){var o=r();return{updatePreferences:{remote:function(e,t){var r=window.Services.Flux.getStore("People.PersonStore"),i=t.id,a=t.schedulePreferences,s=t.preferredWeeks,l=t.regularServiceTimeIds,u=Services.Utils.Teams.getSchedulePreferencesPayload({schedulePreferences:a,preferredWeeks:s,regularServiceTimeIds:l});return r.isCurrent()?API.patch({url:"people/"+r.getAccountCenterId()+"/person_team_position_assignments/"+i,data:u,headers:o}):API.patch({url:n(t),data:u,headers:o})},success:Services.Flux.getActions("TeamsActions").updatePreferencesSuccess,error:Services.Flux.getActions("TeamsActions").updatePreferencesFailure,interceptResponse:e},getTeam:{remote:function(e,t){var n=t.requestData.teamId;return API.get({url:"teams/"+n,data:{fields:{Team:[]}}})},local:function(e,t){var n=e.state,r=t.requestData.teamId,o=n.teams[r];return o&&o.personPositions?o:null},success:Services.Flux.getActions("TeamsActions").getTeamSuccess,error:Services.Flux.getActions("TeamsActions").getTeamFailure,interceptResponse:t},getRegularServiceTimes:{remote:function(e,t){var n=t.requestData.serviceTypes,r=_.map(n,(function(e){return API.get({url:"service_types/"+e.id+"/time_preference_options",data:{fields:{TimePreferenceOption:[]}}}).then((function(t){return _.map(t,(function(t){return _extends({},t,{serviceTypeId:e.id})}))}))}));return Promise.all(r).then(_.flatten)},success:Services.Flux.getActions("TeamsActions").getRegularServiceTimesSuccess,error:Services.Flux.getActions("TeamsActions").getRegularServiceTimesFailure,interceptResponse:t},addPosition:{remote:function(e,t){var n=window.Services.StoreInstances.People.PersonStore,r="teams/"+t.teamId+"/team_positions/"+t.teamPositionId+"/person_team_position_assignments",i={data:{attributes:{person_id:n.getAccountCenterId(),schedule_preference:t.schedulePreferences}}};return t.regularServiceTimeIds&&(i.data.attributes.time_preference_option_ids=t.regularServiceTimeIds),"Choose Weeks"===t.schedulePreferences&&t.preferredWeeks.length&&(i.data.attributes.preferred_weeks=t.preferredWeeks),API.post({url:r,data:i,headers:o})},local:function(e,t){return!!_.includes(e.getTeamPositionIds(),t.teamPositionId)||null},success:Services.Flux.getActions("TeamsActions").addPositionSuccess,error:Services.Flux.getActions("TeamsActions").addPositionFailure,interceptResponse:e},removeDirect:{remote:function(e,t){return API.destroy({url:n(t),headers:o})},success:Services.Flux.getActions("TeamsActions").removeDirectSuccess,error:Services.Flux.getActions("TeamsActions").removeDirectFailure,interceptResponse:e}}};window.Services.Sources.People.TeamsSourceFactory=o}();var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};$.fn.confirmAction=function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r={titleText:"Hold On!",text:"Are you sure you want to perform this action?",confirmButtonText:"Yes",showLoaderOnConfirm:!0},o=_extends({},{url:"/",confirmIf:function(){return!0},swalType:"confirm"},t),i=_extends({},r,n),a=o.url,s=o.confirmIf,l=o.data,u=o.onSuccess,c=o.swalType,f={delete:function(){return $.ajax({url:a,type:"DELETE"})},post:function(){return $.ajax({url:a,type:"POST",data:l})},patch:function(){return $.ajax({url:a,type:"PATCH",data:l})}};return $(document).off("click",this.selector).on("click",this.selector,(function(){var t=f[o.action.toLowerCase()];s(e)?Swal[c].fire(_extends({},i,{preConfirm:function(){return Promise.resolve(t()).catch(Utils.genericErrorSwal)}})).then((function(e){return e.isConfirmed&&u(e.value)})):t().then(u)})),this},$(document).on("click","[data-dismiss]",(function(){var e=$(this),t=e.data("dismiss");e.closest(t).slideUp(250,(function(){e.remove()}))})),$.fn.formWithValidationResponse=function(e){var t={$form:$(this),$submit:$(this).find("[type=submit]"),$container:$(this).find(".errorExplanation"),$errors:$("<ul>"),$inputs:$(this).find("input, select"),errorClass:"field--error",onSuccess:function(){},onError:function(){},namePattern:/\w+\[(.+)\]/,process:function(e,t){return _.tap($("<li>").text(_.titleize(e)+" "+t),(function(t){return _.first(t).dataset.type=e}))},getName:function(e){return e.name&&_.last(e.name.match(d))},getElement:function(e){return r.find("[name*='["+e+"]']")},getErrorName:function(e){return e}},n=$.extend({},t,e),r=n.$form,o=n.$submit,i=n.$errors,a=n.$container,s=n.process,l=n.onSuccess,u=n.onError,c=n.getErrorName,f=n.getElement,p=n.getName,d=n.namePattern,h=n.errorClass,v=n.$inputs,y=function(e,t){_.each(e,(function(e,n){_.tap(c(t,e),(function(t){s(t,e).appendTo(i),_.tap(f(t).addClass(h),(function(e){return 0===n&&e.focus()}))}))}))};$((function(){v.on("keyup change click",(function(e){$(e.currentTarget).removeClass(h),a.find("[data-type='"+p(e.currentTarget)+"']").remove(),i.is(":empty")&&a.hide()})),o.click((function(e){e.preventDefault(),$.ajax({url:r.attr("action"),type:"POST",data:r.serialize(),success:function(){l.apply(void 0,arguments),Services.Modal.hide()},statusCode:{422:function(e){u(),i.empty(),_.each(JSON.parse(e.responseText),y),a.html(i).show()}}})}))}))},function(){"use strict";function e(e){var t,n,r;e.target.dataset&&((t=e.target.dataset.shelfId)&&((n=document.getElementById(t)).style.maxHeight?n.style.maxHeight="":n.style.maxHeight=n.scrollHeight+"px",(r=n.getElementsByTagName("input")[0])&&r.focus()))}document.addEventListener("click",e)}();var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};$.fn.rememberSelections=function(e){var t=this,n=_extends({},{key:function(e){return e.name},after:function(){}},e),r=n.key,o=function(e,t){try{localStorage.setItem(e,t)}catch(e){}};return $((function(){_.each(t,(function(e){switch(e.type){case"checkbox":e.checked=parseInt(localStorage.getItem(r(e),2)),$(e).change((function(){return o(r(e),+e.checked)}));break;case"select-one":e.value=localStorage.getItem(r(e))||e.value,$(e).change((function(){return o(r(e),e.value)}))}n.after(e)}))})),this},$.fn.textareaEditController=function(e){var t={target:this,cancelButtonIdSuffix:"_cancel",submitButtonIdSuffix:"_submit",afterFocus:function(){},afterSaveChange:function(){},afterCancelChange:function(){}},n=$.extend({},t,e),r=function(e){e.preventDefault(),l.val(u),n.afterCancelChange(l),s()},o=function(){i(),n.afterSaveChange(l)},i=function(){c.off("click",r),f.off("click",o),c.addClass("hide"),f.addClass("hide")},a=function(){c.on("click",r),f.on("click",o),c.removeClass("hide"),f.removeClass("hide")},s=function(){u===l.val()&&i()},l=$(this).find("textarea"),u=l.val(),c=void 0,f=void 0;$((function(){l.on("focus",(function(e){n.afterFocus(e.target),c=$("[id$="+n.cancelButtonIdSuffix+"]"),f=$("[id$="+n.submitButtonIdSuffix+"]"),a(),u=$(e.target).val()})),l.on("blur",s)}))};var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(){var e=["planbase","ministrybase","person"],t=function(){function t(e){var n=this;_classCallCheck(this,t),this.$form=$("#"+e),this.$form.submit((function(){return n._preventSubmitIfSame()})),setTimeout((function(){return n._initialState=n._formState()}))}return _createClass(t,[{key:"handleNavigateClick",value:function(e){e.stopPropagation();var t=$(e.target).closest(".modal__footer"),n=t.find("button"),r=t.closest("form"),o=r.attr("action"),i=$(e.target).closest("button").attr("link");n.attr("data-loading",!0),this._initialState!==this._formState()?$.ajax({type:"POST",url:o,data:r.serialize(),statusCode:{200:function(){return new Services.Classes.InterfacesModal(i)},422:function(e){var t=e.responseText;return Services.Modal.newModal(t)}}}):new Services.Classes.InterfacesModal(i)}},{key:"getArrangement",value:function(){return Services.StoreInstances.Arrangements.ArrangementStore.getState().state}},{key:"deleteFile",value:function(e,t){var n,r,o,i,a;return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.preventDefault(),n="Yes, delete it!",r="<strong>Warning:</strong> Deleting this file will immediately remove it from any attached Plans, Songs, or Media and erase related historical data. It will be permanently deleted after 30 days and cannot be recovered.",o=void 0,i="Are you sure?",s.next=7,regeneratorRuntime.awrap(this._getAnnotatorNames(t));case 7:return a=s.sent,_.some(a)&&(i="Delete Annotations & File?",o=void 0,r="The following users have annotated this file in Music Stand: "+_.escape(a)+". <br /><br />If you have an updated version of this file with the same filename, click cancel and drag the updated file from your computer onto the existing file.",n="Yes, delete forever!"),s.abrupt("return",Swal.confirmDestroy.fire({confirmButtonText:n,html:r,preConfirm:function(){return Promise.resolve(new Services.Classes.RequestWithCredentials({url:t,type:"DELETE"})).catch(Utils.genericErrorSwal)},showLoaderOnConfirm:!0,text:o,title:i}).then((function(e){return e.isConfirmed?Services.Modal.hide():{cancelled:!0}})));case 10:case"end":return s.stop()}}),null,this)}},{key:"_getAnnotatorNames",value:function(e){var t,n,r;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.match(/\/services\/v2\//),n=void 0,t?n={url:e}:(r=e.match(/\d*$/)[0],n=Services.StoreInstances.Files.FileStore.getState().files[r]),!this._definitelyHasNoDrawings(n)){o.next=7;break}return o.abrupt("return",[]);case 7:return o.abrupt("return",this._fetchFileWithDrawings(n).then((function(e){var t=e.drawings;return _.map(t,"personName").join(", ")})));case 8:case"end":return o.stop()}}),null,this)}},{key:"_fetchFileWithDrawings",value:function(e){var t={include:"drawings",fields:{Attachment:["drawings"],Drawing:["person_name"]}};return e.url?API.get({url:e.url,data:t}):API.Attachments.fetchAttachment({file:_extends({},e,{attachableType:this._v2AttachableType(e)}),attachableOptions:this._buildAttachableOptions(e),params:t})}},{key:"_buildAttachableOptions",value:function(e){switch(e.attachableType){case"arrangement":return{arrangement:this.getArrangement()};case"key":return{arrangement:this.getArrangement(),key:Services.StoreInstances.Keys.KeyStore.getState().keys.find((function(t){return t.id===e.attachableId}))};case"media":return{media:Services.StoreInstances.Medias.MediaStore.getState().state};case"song":return{song:Services.StoreInstances.Songs.SongStore.getState().state};default:throw new Error("Attachable type "+e.attachableType+" not supported.")}}},{key:"_v2AttachableType",value:function(e){var t=e.attachableType;switch(t){case"planbase":return"Plan";case"ministrybase":return"ServiceType";default:return _.capitalize(t)}}},{key:"_definitelyHasNoDrawings",value:function(t){var n=t.attachableType;return e.includes(n)}},{key:"_preventSubmitIfSame",value:function(){if(this._initialState===this._formState())return Services.Modal.hide(),!1}},{key:"_formState",value:function(){return this.$form.serialize()}}]),t}();Services.Classes.Files.Views.Edit=t}();var _get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i)
;if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(){var e=function(){function e(){var t=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0]).namespace;_classCallCheck(this,e),this.namespace=t,this.requireNamespace()}return _createClass(e,[{key:"getAttribute",value:function(e,t,r){if(_.has(t,e))return t[e]||"";if("function"==typeof this[e])return this[e](t,r);throw new n(e,this.namespace)}},{key:"setContent",value:function(e,t){e.is("input")||e.is("textarea")?e.val(_.unescape(t)):e.text(t)}},{key:"refreshView",value:function(e){var t=this;_.each($("[data-"+this.namespace+"-sync]"),(function(n){var r=n.dataset[t.namespace+"Sync"],o=n.dataset[t.namespace+"SyncAttribute"],i=t.getAttribute(r,e,n);o?$(n).attr(o,i):t.setContent($(n),i)}))}},{key:"requireNamespace",value:function(){if(!this.namespace)throw new t}}]),e}(),t=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.name="Namespace Error",this.message='A namespace must be supplied in the call to super from the implementing class eg. super({ namespace: "burrito" })'}return _inherits(t,e),t}(Error),n=function(e){function t(e,n){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.name="Data Sync Key Error",this.message='The value "'+e+'" given for data-'+n+"-sync did not match a data key or method name on the implementing class"}return _inherits(t,e),t}(Error);Services.Classes.LiveUpdate=e}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(){var e=_.debounce((function(){Services.Utils.emitter.emit("media_index:refresh")}),2e3),t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reindexed",value:function(){e()}},{key:"update",value:function(){var e=this;$.get(window.location.pathname+".js",(function(t){return e._mediaActions().updateMedia(t)}))}},{key:"_mediaActions",value:function(){return Services.Flux.getActions("MediaActions")}}]),t}();Services.Classes.Media.LiveUpdate=t}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this._playlist=t,this._flat=this._flat(t)}return _createClass(e,[{key:"_flat",value:function(){return _(this._playlist).map((function(e){return e.tracks})).flatten().map((function(e,t){return e.order=t,e})).value()}},{key:"get",value:function(e){return _.clone(this._flat[e])}},{key:"getBy",value:function(e){return _(this._flat).chain().find(e).clone().value()}},{key:"hasNext",value:function(){return void 0!==this.next}},{key:"skipIds",value:function(e){_.map(this._flat,(function(t){return t.skip=_.includes(e,t.id)}))}},{key:"skip",value:function(e){_(this._flat).filter((function(t){return t.id===e})).map((function(e){return e.skip=!e.skip})).value()}},{key:"ids",get:function(){return _(this._flat).map("id").uniq().value()}},{key:"length",get:function(){return this._flat.length}},{key:"nonSkipCount",get:function(){return _.filter(this._flat,(function(e){return!e.skip})).length}},{key:"flat",get:function(){return _.clone(this._flat)}},{key:"groups",get:function(){return _(this._playlist).filter((function(e){return e.tracks.length})).clone()}},{key:"next",get:function(){var e=_.findIndex(this._flat,(function(e){return!e.skip}));return-1!==e?e:void 0}}]),e}();Services.Classes.Media.Playlist=e}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(){var e=function(){function e(t){var n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],r=arguments.length<=2||void 0===arguments[2]?function(){}:arguments[2];_classCallCheck(this,e),this.personToRemove=t,this.currentPersonCanRemoveThisPerson=n,this.onComplete=r}return _createClass(e,[{key:"removePerson",value:function(){var e=this;return this.currentPersonCanRemoveThisPerson?Swal.confirmDestroy.fire({titleText:"Hold On!",text:"This will remove "+this.personToRemove.name+"'s profile, preferences, and history from Planning Center Services forever and cannot be recovered.",confirmButtonText:"Yes, delete forever",showLoaderOnConfirm:!0,preConfirm:function(){return Promise.resolve($.ajax({type:"DELETE",url:"/people/"+e.personToRemove.id,complete:e.onComplete})).catch(Utils.genericErrorSwal)}}).then((function(t){return t.isConfirmed&&e.onComplete(t.value)})):Swal.alertError.fire({titleText:"Sorry",text:"Your permission only allows you to delete people you create. Contact an Organization Administrator if you really need to delete this person. Otherwise, you can Archive them."})}}]),e}();window.Services.Classes.People.Details.Views.RemovePerson=e}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(){var e=function(){function e(t,n){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];_classCallCheck(this,e),this.peopleRemaining=t,this.personToRestore=n,this.currentPersonCanRestoreThisPerson=r}return _createClass(e,[{key:"restorePerson",value:function(){var e=this;return this.currentPersonCanRestoreThisPerson?Swal.confirmCreate.fire({titleText:"Restore?",text:this.personToRestore.first_name+"'s account is archived.\nWould you like to restore it?",confirmButtonText:"Restore",showLoaderOnConfirm:!0,preConfirm:function(){if(e.peopleRemaining)return Promise.resolve($.ajax({type:"PATCH",url:"/people/"+e.personToRestore.id+"/restore"})).catch(Utils.genericErrorSwal);var t="Your account has reached its people limit.<br />\n                <a href='"+(Services.Utils.urlFor("accounts")+"/subscriptions/Services")+"' target='_blank'>Upgrade</a> to a larger plan or\n                <a href='https://pcoservices.zendesk.com/hc/en-us/articles/204461040-Archiving-Users' target='_blank'>\n                archive existing users</a>.";return Swal.alertError.fire({titleText:"Sorry",html:t})}}):Swal.alertError.fire({titleText:"Sorry",text:"Only Administrators can archive and restore people. Service Type Administrators can only archive and restore Viewers and Scheduled Viewers."})}}]),e}();window.Services.Classes.People.Details.Views.RestorePerson=e}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(){var e=Services.Constants.People.FilterBox.TEAMS_FILTER_GROUP_ID,t=function(){function t(){_classCallCheck(this,t),this.currentPerson=Services.Flux.getStore("PersonCurrentStore"),this.currentOrganization=Services.Flux.getStore("OrganizationCurrentStore"),this.personACID=this.currentPerson.getAccountCenterId(),this.FILTER_TYPES=["Teams","Positions","TeamPositions","Tags","TagGroups","Dates","Permissions","BackgroundCheck","RehearsalTeam","TeamLeader","Text"],this._convertOldPinnedPositionsFiltersToTeamPositionsFilters(),this._getPinnedFilterState()}return _createClass(t,[{key:"_convertOldPinnedPositionsFiltersToTeamPositionsFilters",value:function(){_(localStorage).pickBy((function(e,t){return t.match(/^pinnedFilters_Positions_\d+_[1-9]+/)})).each((function(e,t){localStorage.removeItem(t),localStorage.setItem(t.replace("Positions","TeamPositions"),e)}))}},{key:"rehydrate",value:function(){this._rehydrate(),Services.Flux.getActions("QueryActions").refresh.defer()}},{key:"_rehydrate",value:function(){var e=this;0===this._currentFilterCount()&&(0!==this._pinnedFilterCount()||this._defaultUsed()?_.each(this.FILTER_TYPES,(function(t){return Services.Flux.getActions("FilterBox."+t+"Actions").addFilters(e["pinned"+t+"Filters"])})):(this._setMyTeamPin(),this._rememberDefaultUsed()))}},{key:"_pinnedFilterCount",value:function(){var e=this;return _.reduce(this.FILTER_TYPES,(function(t,n){return t+e["pinned"+n+"Filters"].length}),0)}},{key:"_currentFilterCount",value:function(){return _.reduce(this.FILTER_TYPES,(function(e,t){return e+_.keys(Services.Flux.getStore("People.FilterBox.Filters."+t+"Store").getState().state).length}),0)}},{key:"_getPinnedFilterState",value:function(){var e=this;_.each(this.FILTER_TYPES,(function(t){return e["pinned"+t+"Filters"]=e._findLocalItems("pinnedFilters_"+t+"_"+e.personACID+"_")}))}},{key:"_setMyTeamPin",value:function(){var t=Services.Flux.getStore("People.FilterBox.TeamsStore").getTeams(),n=Services.Flux.getStore("People.FilterBox.TeamsStore").getTeamsILead(),r=Services.Flux.getStore("People.FilterBox.TeamsStore").getMyTeams();Services.Flux.getActions("FilterBox.TeamsActions").addFilter({filterGroup:{id:e,name:"Teams",teams:t},filter:n.length>0?n:r}),Services.Flux.getActions("FilterBox.TeamsActions").pinFilter(e)}},{key:"_rememberDefaultUsed",value:function(){try{localStorage.setItem("pinnedFilters_Default_"+this.personACID,!0)}catch(e){}}},{key:"_defaultUsed",value:function(){return localStorage.getItem("pinnedFilters_Default_"+this.personACID)}},{key:"_findLocalItems",value:function(e){var t=void 0,n=[];for(t in localStorage)_.has(localStorage,t)&&(t.match(e)||!e&&"string"==typeof t)&&n.push(JSON.parse(localStorage.getItem(t)));return n}}]),t}();Services.Classes.People.FilterBox.PinnedFilters=t}();var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};!function(){var e=function(e){function t(e){var n=e.personId,r=e.view,o=e.teamsPath;_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,{namespace:"person"}),this.personId=n,this.view=r,this.debouncedRefreshTeams=_.debounce((function(){return Services.Utils.fetchTurboStream(o)}),500,{leading:!0})}return _inherits(t,e),_createClass(t,[{key:"updatedAt",value:function(){return"a few seconds"}},{key:"primaryPhoneNumber",value:function(e,t){var n=e.primary_phone_number;return n?$(t).parent().show():$(t).parent().hide(),n}},{key:"lastLogin",value:function(e){return e.logged_in_at?moment.utc(e.logged_in_at).format("MM/DD/YYYY"):"unknown"}},{key:"refreshTeams",value:function(){this.isSchedulingView&&this.debouncedRefreshTeams()}},{key:"registerNotifications",value:function(e){this.updateNotifications=e}},{key:"unregisterNotifications",value:function(){this.updateNotifications=null}},{key:"updatePersonEdit",value:function(e){var t=this,n=function(e){t.refreshView(e),t.updateNotifications&&t.updateNotifications()};API.People.fetchPerson({personAcid:e.acid},{fields:{Person:["emails","logged_in_at","max_permissions","phone_numbers","photo_thumbnail_url","profile_name","signature"],Email:["address","primary"],PhoneNumber:["number","primary"]},include:["emails","phone_numbers"]}).then((function(t){var r=t.emails.sort((function(e,t){return t.primary-e.primary}))[0],o=t.phoneNumbers.sort((function(e,t){return t.primary-e.primary}))[0],i=_extends({},e,{email:r?r.address:"",logged_in_at:t.loggedInAt,max_permissions_s:t.maxPermissions,photo_thumbnail_url:t.photoThumbnailUrl,primary_phone_number:o?o.number:"",profile_name:t.profileName,signature:t.signature});n(i)}))}},{key:"isSchedulingView",get:function(){return"scheduling"===this.view}}]),t}(Services.Classes.LiveUpdate);Services.Classes.People.LiveUpdate=e}();var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this._setupTabChangeHandler(),this._statusCounts=t,this._chart=null,this._isDatesTabOpen()&&this._generateChart()}return _createClass(e,[{key:"loadChartData",value:function(e){this._chart.load(this._getColumnData(e))}},{key:"_generateChart",value:function(){this._chart||(this._chart=c3.generate(this._chartConfig(this._statusCounts)))}},{key:"_setupTabChangeHandler",value:function(){var e=this;$(document).on("tab:change",(function(){return e._generateChart()}))}},{key:"_isDatesTabOpen",value:function(){return $('[aria-controls="dates"]').hasClass("tab-nav-item--is-open")}},{key:"_getColumnData",value:function(e){return{columns:[["Confirmed",e.confirmed],["Unconfirmed",e.unconfirmed],["Declined",e.declined]]}}},{key:"_chartConfig",value:function(e){return{bindto:"#schedule-status-chart",size:{width:145,height:145},data:_extends({},this._getColumnData(e),{type:"donut"}),color:{pattern:["var(--t-fill-color-status-success)","var(--t-fill-color-status-warning)","var(--t-fill-color-status-error)"]},legend:{show:!1},tooltip:{show:!1},donut:{title:"Status",width:8,expand:!1,label:{show:!1}}}}}]),e}();Services.Classes.People.Scheduling.Views.Dates=e}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.editable=!1,this.frozen=!1,this.canEditHouseholds=t,this.person=n,this.form=$("form[id^='preferences_edit_person']")}return _createClass(e,[{key:"enableEdit",value:function(e){e.preventDefault(),this.editable=!0,this.toggleEditable()}},{key:"disableEdit",value:function(e){e.preventDefault(),this.frozen||(this.editable=!1,this.toggleEditable())}},{key:"toggleEditable",value:function(){$("#enable-edit-js, #preferences-js .non-editable-js").toggleClass("hide",this.editable),$("#disable-edit-js, #preferences-js .editable-js").toggleClass("hide",!this.editable)}},{key:"updatePreferences",value:function(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];this.freeze(),e&&Services.Utils.SavedBadge.trigger("preferences"),this.form.submit()}},{key:"loadHouseholdList",value:function(){var e=this;this.canEditHouseholds?(HouseholdManager.afterClose=function(){e.updatePreferences(!1)},HouseholdManager.load("/cross_app/household_modal/"+this.person.account_center_id)):Swal.alertError.fire({titleText:"Sorry",text:"You are not allowed to edit households."})}},{key:"freeze",value:function(){this.setFrozen(!0)}},{key:"thaw",value:function(){this.setFrozen(!1)}},{key:"setFrozen",value:function(e){this.frozen=e,$("#disable-edit-js").attr("disabled",e)}}]),e}();window.Services.Classes.People.Scheduling.Views.Preferences=e}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.source=t,this.created_at=r||(new Date).getTime(),this.insertId=this.createInsertId(),this.valid=this.hasEmail(),this.type=n||this.getType()}return _createClass(e,[{key:"hasEmail",value:function(){return this.source.emails.length>0}},{key:"createInsertId",value:function(){return this.created_at+this.source.name.replace(" ","").toLowerCase()+this.source.id}},{key:"getType",value:function(){return this.hasEmail()?"with_email":"without_email"}}]),e}();Services.Classes.PersonEmailer.Person=e}(),Services.Classes.PlanPersonModal=function e(t){_classCallCheck(this,e),new Services.Classes.InterfacesModal(t,{loading:"One moment please"})};var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function(){var e="2018-11-01",t=function(t){var n=t.version,r=_objectWithoutProperties(t,["version"]);return _extends({},r,{headers:_extends({"X-PCO-API-Version":n||e},r.headers)})},n=function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return _classCallCheck(this,e),$.ajax(_extends({xhrFields:{withCredentials:!0},contentType:"application/json"},t(n)))};Services.Classes.RequestWithCredentials=n}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addKey",value:function(e){Services.Flux.getActions("KeyActions").addKey(e),this.updateChordCharts(e)}},{key:"update",value:function(e){var t=this;(0,Services.Flux.getStore("Files.FileStore").shouldUpdate)(e)&&$.get("/files/"+e.id,(function(e){return t._fileActions().update(e)})).fail((function(n){return 404===n.status&&t._fileActions().destroy({file:{id:e.id}})}))}},{key:"destroy",value:function(e){this._fileActions().destroy({file:e})}},{key:"updateArrangementSubHeader",value:function(e){this._arrangementActions().updateArrangement(e)}},{key:"updateSongSidebar",value:function(e){this._songSidebarActions().updateListItem(e)}},{key:"updateLyrics",value:function(){var e=this;$.get(window.location.pathname+"/lyrics",(function(t){return e._fileActions().update(t)}))}},{key:"updateChordPro",value:function(e){var t=this,n=e.key_ids;this.updateLyrics(),n.forEach((function(e){return t.updateChordCharts({id:e})}))}},{key:"updateChordCharts",value:function(e){var t=this,n=e.id;$.get(window.location.pathname+"/keys/"+n+"/chord_charts",(function(e){e.forEach((function(e){return t._fileActions().update(e)}))}))}},{key:"transposeStatus",value:function(e){this._shouldReloadAfterTransposing(e)&&setTimeout((function(){return window.location.reload()})),this.showStatus({type:"transpose",status:e})}},{key:"ccliImportStatus",value:function(e){this.showStatus({type:"ccli",status:e})}},{key:"rehearsalMixImportStatus",value:function(e){this._shouldReload(e)&&setTimeout((function(){return Turbolinks.visit(window.location)})),this.showStatus({type:"rehearsalmix",status:e})}},{key:"rehearsalPackImportStatus",value:function(e){this._shouldReload(e)&&setTimeout((function(){return Turbolinks.visit(window.location)})),this.showStatus({type:"rehearsalpack",status:e})}},{key:"chartProImportStatus",value:function(e){this._shouldReload(e)&&setTimeout((function(){return Turbolinks.visit(window.location)})),this.showStatus({type:"chartpro",status:e})}},{key:"import_status",value:function(e){this.showStatus({type:"praisecharts",status:e})}},{key:"showStatus",value:function(e){var t=e.type,n=e.status;Services.Flux.getActions("StatusActions").setStatus({type:t,status:n})}},{key:"_fileActions",value:function(){return Services.Flux.getActions("FileActions")}},{key:"_arrangementActions",value:function(){return Services.Flux.getActions("ArrangementActions")}},{key:"_songSidebarActions",value:function(){return Services.Flux.getActions("SongSidebarActions")}},{key:"_shouldReload",value:function(e){var t=e.message,n=t.text||t;return _.endsWith(n.toLowerCase(),"complete!")}},{key:"_shouldReloadAfterTransposing",value:function(e){return this._shouldReload(e)&&Services.Utils.browser.isSafari}}]),e}();Services.Classes.Songs.LiveUpdate=e}(),function(){window.Services.Classes.InterfacesModal=function(){function e(e,t){this.options=null!=t?t:{},this.data=this.options.data||{},this.type=this.options.type||"get",this.overlay=!this.options.hasOwnProperty("overlay")||this.options.overlay,this.options.loading?(this.loader=new Services.Classes.Loader(this.options.loading),this.withLoader(_.bind(this.request,this,e))):this.request(e)}return e.prototype.showModal=function(e){return new INTERFACES.ModalView(e).show()},e.prototype.hideOverlay=function(){var e;return(e=document.querySelector(".modal-layer"))&&(e.style.backgroundColor="transparent")},e.prototype.request=function(e,t){return $.ajax({url:e,type:this.type,data:this.data,success:(n=this,function(e){if(t&&t(),n.showModal(e),!n.overlay)return n.hideOverlay()})});var n},e.prototype.withLoader=function(e){return this.loader.show(),e(this.loader.hide)},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};window.Services.Classes.Loader=function(){function t(t){this.msg=null!=t?t:"",this._render=e(this._render,this),this.hide=e(this.hide,this),this.show=e(this.show,this),this.message=e(this.message,this),this.div=document.createElement("div"),this.div.id="modal-loader",this.visible=!1}return t.prototype.message=function(e){return this._render(e)},t.prototype.show=function(){return document.body.appendChild(this.div),this._render()},t.prototype.hide=function(){if(this.visible)return ReactDOM.unmountComponentAtNode(this.div),document.body.removeChild(this.div),this.visible=!1},t.prototype._render=function(e){return ReactDOM.render(React.createElement(Services.Components.Loader.Modal,{msg:e||this.msg}),this.div),this.visible=!0},t}()}.call(this);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};!function(){var e=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=Tapestry.Button;return React.createElement("div",{className:"pane pane--dismissible"},React.createElement("div",{className:"pane-body mb-16"},React.createElement(e,{icon:{color:"dark-7",name:"general.x",size:"8px"},onClick:this.props.onDismissClick,position:"absolute",right:1,size:"xs",title:"Close",top:1,variant:"naked"}),this.props.children))}}]),t}(React.Component);e.propTypes={onDismissClick:PropTypes.func.isRequired},Services.Components.DismissiblePane=e}(),Services.Components.Loader.Modal=function(e){var t=e.msg,n=React.Fragment,r=Services.Components.Loader.QuartSpinner,o=Tapestry.Logo;return React.createElement("div",{className:"quart-loader center-xy"},React.createElement("div",{className:"quart-loader-element"},React.createElement(r,null),React.createElement("div",{className:"quart-loader-logo__container"},React.createElement(o,{fill:"white",markOnly:!0,name:"services",size:"xxl"}))),React.createElement("h2",{className:"quart-loader-text"},t.split("\n").map((function(e,t){return React.createElement(n,{key:t},e,React.createElement("br",null))}))))};var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};!function(){var e=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return React.createElement("g",this.props,React.createElement("ellipse",{cx:"37.698",cy:"51.884",rx:"3.72",ry:"5.79"}),React.createElement("path",{d:"M54.069,55.111c-0.052,0-0.052,0.065-0.052,0.065c-0.468,1.629-1.788,2.497-4.017,2.497 s-3.549-0.868-4.017-2.497c0,0,0-0.065-0.052-0.065c-0.051,0-0.058,0.065-0.058,0.065c0,2.011,1.549,3.526,4.127,3.526 s4.127-1.515,4.127-3.526C54.127,55.177,54.12,55.111,54.069,55.111z"}),React.createElement("path",{d:"M74.425,46.139l-0.506-0.419c-0.716-3.009-2.902-6.288-5.906-7.592l-0.037-0.015 c-0.048-0.018-0.097-0.038-0.162-0.063c-0.068-0.027-0.15-0.06-0.259-0.102c-2.526-0.98-6.111-1.865-10.584-2.399L56.89,35.46 c-1.061-1.162-2.95-1.98-5.008-2.29v-1.664c1.6-0.705,2.648-2.284,2.648-4.061c0-2.451-1.994-4.444-4.444-4.444 c-0.029,0-0.058,0.002-0.087,0.002C49.971,23.002,49.942,23,49.913,23c-2.45,0-4.444,1.994-4.444,4.444 c0,1.777,1.048,3.356,2.648,4.061v1.664c-2.058,0.31-3.947,1.128-5.008,2.29l-0.081,0.088c-4.473,0.535-8.058,1.419-10.584,2.399 c-0.109,0.042-0.192,0.075-0.259,0.102c-0.065,0.026-0.114,0.046-0.162,0.063l-0.037,0.015c-3.004,1.304-5.19,4.583-5.906,7.592 l-0.506,0.419c-1.574,1.303-2.513,3.572-2.513,6.069c0,2.484,0.957,4.534,2.626,5.625l0.297,0.194 c0.069,3.593,1.799,6.129,5.008,6.935l0.091,0.023h0.022c0.035,0.007,0.084,0.018,0.147,0.031C34.856,65.785,41.74,67,49.449,67 h1.102c7.709,0,14.593-1.215,18.195-1.982c0.063-0.013,0.112-0.024,0.147-0.031h0.022l0.091-0.023 c3.209-0.807,4.939-3.343,5.008-6.935l0.297-0.194c1.669-1.091,2.626-3.141,2.626-5.625C76.938,49.711,75.998,47.442,74.425,46.139 z M70.493,58.486c0,2.143-1.489,2.577-2.237,2.864c0,0-4.181,1.982-17.706,1.982h-1.1c-13.525,0-17.706-1.982-17.706-1.982 c-0.749-0.286-2.237-0.721-2.237-2.864l-0.128-10.254c-0.03-2.544,1.501-4.837,3.81-5.708c0,0,0.379-0.126,0.527-0.17 C37.7,41.16,42.666,40.52,50,40.443c7.334,0.077,12.3,0.717,16.285,1.91c0.147,0.044,0.527,0.17,0.527,0.17 c2.309,0.87,3.84,3.164,3.81,5.708L70.493,58.486z"}),React.createElement("ellipse",{cx:"62.302",cy:"51.884",rx:"3.72",ry:"5.79"}))}}]),t}(React.Component),t=function(t){function n(){_classCallCheck(this,n),_get(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}return _inherits(n,t),_createClass(n,[{key:"render",value:function(){return React.createElement("svg",{className:"pico-loader",viewBox:"0 0 100 100"},React.createElement("g",{className:"pico-loader__spinner"},React.createElement("circle",{className:"pico-loader__background",cx:"50",cy:"50",r:"20"}),React.createElement("g",{className:"pico-loader__foreground-wrapper"},React.createElement("circle",{className:"pico-loader__foreground",cx:"50",cy:"50",r:"20"}))),React.createElement(e,{className:"pico-loader__mark",fill:"#6e9541"}))}}]),n}(React.Component);Services.Components.Loader.Pico=t}(),Services.Components.Loader.QuartSpinner=function(e){var t=e.size,n=e.color,r=e.className,o=e.style;return React.createElement("span",{className:classNames("quart-spinner",t&&"quart-spinner--"+t,n&&"quart-spinner--"+n,r),style:o})};var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};!function(){var e=window.React,t=window.ReactMotion,n=t.Motion,r=t.spring,o=[390,50],i=function(t){function i(){_classCallCheck(this,i),_get(Object.getPrototypeOf(i.prototype),"constructor",this).apply(this,arguments)}return _inherits(i,t),_createClass(i,[{key:"render",value:function(){var t=this,i=this.props,a=i.height,s=i.children;return e.createElement(n,{defaultStyle:{height:a},style:{height:r(a,o)}},(function(n){var r=n.height;return e.createElement("div",{className:t.props.className,style:_extends({},t.props.style,{height:r}),children:s})}))}}]),i}(e.Component);window.Services.Components.MultiDrawer.Drawer=i}();var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};!function(){var e=window.React,t=function(t){function n(e){_classCallCheck(this,n),_get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.state={current:null,drawerOpen:!1,heights:{}},this.state=_extends({},this.state,this.getState(e)),this.handleDeclaredHeight=this.handleDeclaredHeight.bind(this)}return _inherits(n,t),_createClass(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.next,n=e.direction,r=void 0===n?"forward":n;this.setState(this.getState({next:t,direction:r}))}},{key:"getPages",value:function(e){var t=e.next,n=e.direction,r=this.state.current,o=void 0;return o=r?"forward"===n?[r,t]:[t,r]:[t],r===t&&(o=[r]),null===t&&(o=null===r?[]:[r]),o}},{key:"getState",value:function(e){var t=e.next,n=e.direction;if(void 0!==t){var r=this.state,o=r.heights,i=r.drawerOpen,a=null!==t||!i;return{pages:this.getPages({next:t,direction:n}),current:t,drawerOpen:a,drawerHeight:a&&o[t]||0,direction:a?n:null}}}},{key:"handleDeclaredHeight",value:function(e){var t=e.key,n=e.height,r=this.state,o=r.heights,i=r.drawerOpen;o[t]&&o[t]===n||this.setState({heights:_extends({},o,_defineProperty({},t,n)),drawerHeight:i?n:0})}},{key:"render",value:function(){var t=window.Services.Components.MultiDrawer,n=t.Pager,r=t.Drawer,o=this.props,i=o.className,a=o.children,s=this.state,l=s.current,u=s.direction,c=s.pages,f=s.heights,p=s.drawerHeight;return e.createElement(r,{className:i,style:{overflow:"hidden"},height:p},e.createElement(n,{pages:c,direction:u,height:f[c[0]],declareHeight:this.handleDeclaredHeight,current:l,children:a}))}}]),n}(e.Component);window.Services.Components.MultiDrawer.MultiDrawer=t}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};!function(){var e=window.$,t=window.React,n=window.ReactDOM.findDOMNode,r=function(r){function o(){_classCallCheck(this,o),
_get(Object.getPrototypeOf(o.prototype),"constructor",this).apply(this,arguments)}return _inherits(o,r),_createClass(o,[{key:"componentDidMount",value:function(){this.props.redeclareHeight&&this._declareHeight()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.props.redeclareHeight&&this._declareHeight()}},{key:"_declareHeight",value:function(){var t=this.props,r=t.type;(0,t.declareHeight)({key:r,height:e(n(this)).outerHeight(!0)})}},{key:"render",value:function(){return t.createElement("div",{style:this.props.style},this.props.children)}}]),o}(t.Component);r.propTypes={type:PropTypes.string.isRequired,declareHeight:PropTypes.func.isRequired,style:PropTypes.object.isRequired},window.Services.Components.MultiDrawer.Page=r}();var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};!function(){var e=window._,t=window.React,n=window.ReactMotion,r=n.Motion,o=n.spring,i={stiffness:390,damping:50},a=function(n){function a(){_classCallCheck(this,a),_get(Object.getPrototypeOf(a.prototype),"constructor",this).apply(this,arguments)}return _inherits(a,n),_createClass(a,[{key:"render",value:function(){var n=window.Services.Components.MultiDrawer.Page,a=this.props,s=a.current,l=a.pages,u=a.direction,c=a.height,f=a.children,p=a.declareHeight,d=2===l.length,h=d?c:0,v=d?Math.random():"pager",y=!0;return t.createElement(r,{key:v,defaultStyle:{translateY:0},style:{translateY:d?o(h,i):0}},(function(r){var o=r.translateY,i="translateY("+(d?"backward"===u?o-h:-o:0)+"px)",a=_defineProperty({transform:i},"WebkitTransform",i),c=l.map((function(r){var o=e.find(f,{key:r}),i=_extends({},o.props.style,a),l={redeclareHeight:y&&s===r,declareHeight:p,style:i,type:r,key:r};return t.createElement(n,l,t.cloneElement(o,o.props))}));return y=!1,t.createElement("div",{style:{overflow:"hidden"},children:c})}))}}]),a}(t.Component);a.propTypes={children:PropTypes.arrayOf(PropTypes.element).isRequired,declareHeight:PropTypes.func.isRequired,direction:PropTypes.string,height:PropTypes.number,pages:PropTypes.arrayOf(PropTypes.string).isRequired},window.Services.Components.MultiDrawer.Pager=a}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};!function(){var e=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={isLoading:!1},this.clearLoading=this.clearLoading.bind(this),this._handleClick=this._handleClick.bind(this)}return _inherits(t,e),_createClass(t,[{key:"clearLoading",value:function(){this.setState({isLoading:!1})}},{key:"_handleClick",value:function(){var e=this;this.setState({isLoading:!0},(function(){e.props.onClick(e.clearLoading)}))}},{key:"render",value:function(){return React.createElement(Tapestry.Button,{disabled:this.props.disabled,onClick:this._handleClick,size:"md",spinner:this.state.isLoading,theme:"interaction",variant:"solid"},this.props.children)}}]),t}(React.Component);Services.Utils.definePropTypes((function(t){var n=t.func,r=t.node;e.propTypes={onClick:n.isRequired,children:r}})),e.defaultProps={disabled:!1},Services.Components.QuartSpinnerButton=e}();var Tapestry=window.Tapestry;Services.Components.Cell=Cell;var _slicedToArray=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){var e=React,t=e.useEffect,n=e.useRef,r=e.useState,o=Services.Components.Cell,i=window.Tapestry,a=window.uuid,s=function(e){var t=e.data[e.rowIndex].id,n=Services.Flux.getActions("SelectedItemActions");Services.Flux.getStore("SelectedItemStore").contains(t)?n.remove([t]):n.add([t])},l=function(e){var l=e.data,u=e.rowIndex,c=e.selected,f=r(),p=_slicedToArray(f,2),d=p[0],h=p[1],v=_.includes(c,l[u].id),y=n();return t((function(){y.current&&y.current.querySelector("input[type=checkbox]").classList.add("allow-keyboard-shortcuts");h(a.v4())}),[]),React.createElement(o,{display:"flex",justifyContent:"center",width:5},React.createElement(i.Input.InputLabel,{controls:d},React.createElement(i.Checkbox,{checked:v,id:d,innerRef:y,onChange:function(){return s({data:l,rowIndex:u})},size:"lg"})))};Services.Components.CheckboxCell=l}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};!function(){var e=window.Tapestry,t=window.uuid,n=function(n){function r(e){_classCallCheck(this,r),_get(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e),this._handleCheckbox=this._handleCheckbox.bind(this),this.state={checkboxId:""},this.checkboxRef=React.createRef()}return _inherits(r,n),_createClass(r,[{key:"componentDidMount",value:function(){(this.setState({checkboxId:t.v4()}),this.checkboxRef.current)&&this.checkboxRef.current.querySelector("input[type=checkbox]").classList.add("allow-keyboard-shortcuts")}},{key:"_handleCheckbox",value:function(){var e=this.props,t=e.getIds,n=e.isChecked,r=e.isSomeSelected,o=e.preventCheck,i=Services.Flux.getActions("SelectedItemActions");if(n||r)i.clear();else{if("function"==typeof o&&o())return;i.replace(t())}}},{key:"render",value:function(){var t=this.props,n=t.width,r=t.isChecked,o=t.isEnabled,i=t.isSomeSelected,a=this.state.checkboxId;return React.createElement(e.Input.InputLabel,{controls:a,display:"flex",justifyContent:"center",width:n||5},o&&React.createElement(e.Checkbox,{checked:r,id:a,indeterminate:i,innerRef:this.checkboxRef,onChange:this._handleCheckbox,size:"lg"}))}}]),r}(React.Component);Services.Components.CheckboxCellHeader=n}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};!function(){var e=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return null}}]),t}(React.Component);e.propTypes=Services.Utils.definePropTypes((function(e){var t=e.any,n=e.number;return{columnKey:t.isRequired,displayKey:t,header:t.isRequired,cell:t.isRequired,width:n}})),Services.Components.Column=e}();var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function(){var e=function(e,t){return e?React.createElement(Tapestry.Tooltip,{placement:"right",content:e},React.createElement(t,null)):React.createElement(t,null)},t=function(t){var n=t.data,r=t.Icon,o=t.rowIndex,i=t.displayKey,a=t.columnKey,s=t.width,l=t.tooltip,u=_objectWithoutProperties(t,["data","Icon","rowIndex","displayKey","columnKey","width","tooltip"]),c=Services.Components.Cell,f=n[o][i||a];return React.createElement(c,_extends({},u,{style:{width:s},className:"flex align-items-center truncate"}),f?e(l,r):null)};Services.Components.IconCell=t}();var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function(){var e=function(e){var t=e.link,n=e.row,r=e.children,o=e.value,i=e.style,a=e.isEnabled,s=e.linkCallback,l=_objectWithoutProperties(e,["link","row","children","value","style","isEnabled","linkCallback"]),u=t(n,a,s),c=void 0,f=void 0;return _.isArray(u)?(c={onClick:u[0]},f={href:u[1],onClick:function(e){return e.metaKey?e.stopPropagation():e.preventDefault()}}):c=_defineProperty({},_.isFunction(u)?"onClick":"href",u),u?f?React.createElement("span",_extends({className:"clickable"},_extends({},c,l),{style:i,title:o}),React.createElement("a",_extends({className:"table-link"},f),r)):React.createElement("a",_extends({className:"clickable table-link"},_extends({},c,l),{style:i,title:o}),r):React.createElement("span",{title:o,style:i},r)};Services.Components.Link=e}();var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}};!function(){var e=React,t=e.Component,n=e.Children,r=e.cloneElement,o={model:PropTypes.string.isRequired,filteredData:PropTypes.array.isRequired},i=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this._addRowAttributes()}},{key:"componentDidUpdate",value:function(){this._addRowAttributes()}},{key:"_addRowAttributes",value:function(){var e=this,t=ReactDOM.findDOMNode(this).querySelectorAll("[role=row]");this.props.filteredData.forEach((function(n,r){t[r+1].setAttribute("data-"+e.props.model+"-id",n.id)}))}},{key:"getColumns",value:function(){return n.map(this.props.children,(function(e){var t=e.props,n=t.header,o=t.cell,i=t.columnKey,a=t.width,s=t.sticky,l=t.truncate,u=t.displayKey,c="photoThumbnailUrl"===i||"checkbox"===i,f={};return"photoThumbnailUrl"===i&&(f.padding=0),_extends({header:n,cell:function(e,t){var n=t.rowIndex;return r(o,{rowIndex:n,columnKey:i,displayKey:u,width:a})},id:c?void 0:i,sortable:!c,width:a,sticky:s,truncate:l},f)}))}},{key:"render",value:function(){var e=this.props,t=e.defaultSortColumnId,n=(e.rowsCount,e.filteredData),r=(e.children,e.model,_objectWithoutProperties(e,["defaultSortColumnId","rowsCount","filteredData","children","model"]));return React.createElement(Tapestry.Table,_extends({defaultSortColumnId:t,data:n,columns:this.getColumns()},r))}}]),t}(t);i.propTypes=o,Services.Components.Table=i}();var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function(){var e=function(e,t){return _.isFunction(t)?t(e):moment.isMoment(e)?e.format(t||"lll"):e},t=function(t){var n=t.data,r=t.link,o=t.linkCallback,i=t.format,a=t.rowIndex,s=t.displayKey,l=t.isEnabled,u=t.columnKey,c=t.width,f=t.style,p=_objectWithoutProperties(t,["data","link","linkCallback","format","rowIndex","displayKey","isEnabled","columnKey","width","style"]),d=Services.Components,h=d.Cell,v=d.Link,y=n[a],m=y[s||u],g=e(m,i),b=_.isFunction(f)?f(y):f;return React.createElement(h,_extends({},p,{style:{width:c},className:"truncate"}),r?React.createElement(v,{link:r,linkCallback:o,row:y,value:g,style:_extends({},b),isEnabled:l,className:"table-link"},g):React.createElement(Tapestry.Box,{as:"span",color:"var(--t-text-color)",style:_extends({},b)},g))};Services.Components.TextCell=t}();